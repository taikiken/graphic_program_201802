"use strict";!function(e,n){e(function(){function t(e){console.log(o.player[0]),console.log(o.player[0].getDuration())}var a=n.breakpoints.sp,r=function(e){return{x:e.originalEvent.touches[0].pageX,y:e.originalEvent.touches[0].pageY}},o={};o.fv=e("#firstView"),o.current=o.fv.find(".current__content .current__content__wrapper"),o.more=o.fv.find(".more"),o.li=o.more.find("li"),o.moreLen=o.li.length,o.height=o.current.height(),o.page=1,o.position,o.direction,o.setPage=function(e){o.fv.attr("data-page",o.page)},o.setPagerAction=function(){o.setPage(),o.fv.on("touchstart",function(e){o.position=r(e),o.direction=""}),o.fv.on("touchmove",function(e){var n=r(e);o.position.x-n.x>70?o.direction="left":o.position.x-n.x<-70&&(o.direction="right")}),o.fv.on("touchend",function(){"left"===o.direction?o.page<o.moreLen?o.page++:o.page===o.moreLen&&(o.page=1):"right"===o.direction&&(o.page>1?o.page--:1===o.page&&(o.page=o.moreLen)),n.windoWidth<=a&&o.setPage()})},o.setMore=function(){for(var n="",t=0;t<o.moreLen;t++){o.li.eq(t);n+="<li>"+(t+1)+"</li>"}var a=e("<ul/>",{"class":"pager"}).append(n);o.fv.append(a),o.setPagerAction()}(),o.setHeight=function(){o.fv.height(o.current.height()),o.fv.height(o.current.height()),o.height=o.current.height()},o.keyword=o.fv.find(".keyword");var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(i,c),window.onYouTubeIframeAPIReady=function(){o.video=o.fv.find(".unit.video"),o.videoLen=o.video.length,o.player=[];for(var e=0;e<o.videoLen;e++){var n=o.video.eq(e).attr("id"),a=o.video.eq(e).attr("data-videoid");o.player[e]=new YT.Player(n,{height:"360",width:"640",videoId:a,events:{onStateChange:t}})}o.unit=o.fv.find(".unit"),o.unit.eq(o.page-1).addClass("show")},o.content=o.fv.find(".current__content"),o.cover='<div class="cover"><div class="keyword"><p><img src="/img/home/txt_ribon.png" alt=""></p></div></div>',o.count,o.li.on("click",function(){var e=o.li.index(this);e+1!=o.page&&(o.page=e+1,clearTimeout(o.count),o.content.find(".cover").remove(),o.content.prepend(o.cover),o.count=setTimeout(function(){o.unit.removeClass("show"),o.unit.eq(e).addClass("show")},2e3))});var s={};s.target=e("#releaseCalendar"),s.wrap=s.target.find(".content__wrapper"),s.sec=s.target.find("section"),s.prev=s.target.find(".btn__prev"),s.next=s.target.find(".btn__next"),s.month=1,s.direction="right",s.moveMonth=s.target.find(".move__month"),s.moveMonthLi=s.moveMonth.find("li"),s.speed=1,s.maxpage=s.sec.length,s.pacmanStart=!1,s.pages=function(){for(var e=[],n=0;n<s.maxpage;n++){var t=s.sec.eq(n);e[n]=t.find("li").length}return e}(),s.current=s.pages[0]+1,s.child=function(){var e=0;return s.pages.forEach(function(n){e+=n}),e}(),s.secPos=function(){for(var e=[],n=0;n<s.maxpage;n++){var t=s.sec.eq(n),a=t.position().left;e[n]=a}return e}(),s.pacman={},s.pacman.set=!1,s.pacman.obj=s.target.find(".pacman"),s.pacman.nterval,s.pacman.distance=128,s.pacman.target=128,s.pacman.position=128,s.pacman.speed=2,s.pacman.direction="right",s.pacman.esa,s.pacman.esaPosition=[48,80,112,176,208,240,304,336,368],s.setPacman__esa=function(){for(var n='<span class="esa"><span></span><span></span><span></span></span>',t=0;t<s.moveMonthLi.length;t++)t!=s.moveMonthLi.length-1&&e(".move__month ul li").eq(t).append(n)}(),s.pacman.eat=function(n){var t=e(".move__month .esa span"),a=n+14,r=function(){for(var e in s.pacman.esaPosition){var t=s.pacman.esaPosition[e];if("right"===s.pacman.direction){if(a>=t&&t>=n)return e}else if(t>=a&&e<3)return e}return!1}();r&&t.eq(r).addClass("eat")},s.pacman.eatCheck=function(){var n=e(".move__month .esa span"),t=e(".move__month .esa span.eat"),a=n.length,r=(t.length,function(){for(var e=[],t=0;t<a;t++){var r=n.eq(t).attr("class")?n.eq(t).attr("class"):"";r.match(/eat/)&&e.push(t)}return e.reverse()}());r.forEach(function(e){s.pacman.esaPosition.splice(e,1),t.eq(e).remove()})},s.pacman.move=function(){s.pacman.position===s.pacman.target?(s.pacman.position=s.pacman.target,s.moveMonth.attr("data-move",!1),s.pacmanStart=!1,s.pacman.obj.css({transform:"translateX("+s.pacman.target+"px)"}),clearInterval(s.pacman.nterval)):(s.pacman.position=s.pacman.position+s.pacman.speed,s.pacman.obj.css({transform:"translateX("+s.pacman.position+"px)"})),s.pacman.set?s.pacman.esaPosition.length&&s.pacman.eat(s.pacman.position):s.pacman.set=!0},s.setCurrent=function(){var e=0;for(var n in s.pages){var t=Number(n);if(e+=s.pages[t],s.current<=e){s.month!=t&&s.moveMonth.attr("data-move",!0),s.pacman.target=s.pacman.distance*t,s.month=t,s.pacman.direction=s.pacman.target<s.pacman.position?"left":"right",s.pacman.speed="right"===s.pacman.direction?4:-4,s.pacmanStart||(s.pacman.nterval=setInterval(s.pacman.move,33)),s.pacmanStart=!0;break}}s.moveMonth.attr("data-direction",s.pacman.direction),s.wrap.attr("data-current",s.current),s.moveMonthLi.removeClass("current"),s.moveMonthLi.eq(s.month).addClass("current")},s.prev.on("click",function(){s.current>1&&(s.current--,s.setCurrent())}),s.next.on("click",function(){s.current<s.child&&(s.current++,s.setCurrent())}),s.moveMonthLi.on("click",function(){var n=s.moveMonthLi.index(this);if(s.moveMonthLi.removeClass("current"),e(this).addClass("current"),0===n)s.current=1;else{var t=s.pages.slice(0,n),a=function(){var e=0;return t.forEach(function(n){e+=n}),e}();s.current=a+1}s.setCurrent()});var p={};p.target=e("#update"),p.group=p.target.find(".content__update >section"),p.btn=p.target.find(".content__update nav ul li"),p.btn.on("click",function(){var n=p.btn.index(this);p.btn.removeClass("current"),e(this).addClass("current"),p.group.removeClass("current"),p.group.eq(n).addClass("current")});var m={};m.target=e(".content__news"),m.item=m.target.find("li"),m.itemLarge=m.target.find(".large"),window.onload=function(){e(".animation-pos").scrollingAnimation({margin:300})},e(window).on("resize",function(){o.setHeight()});var d=(function(){o.setHeight(),s.setCurrent()}(),0);e("#brandLogo").on("click",function(){1===d?e(".keyword").addClass("hide"):2===d?(e(".keyword").removeClass("hide"),e(".keyword").removeClass("show"),d=-1):e(".keyword").addClass("show"),d++})})}(jQuery,options);
//# sourceMappingURL=function.top.js.map
