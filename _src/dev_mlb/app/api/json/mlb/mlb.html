<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>MLB JSON</title>
  <script src="../../assets/js/libs/vendor.react.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <style type="text/css">
    .json-format {
      border: 1px solid #ccc;
      padding: 8px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
<pre class="json-format" id="js-json-format"></pre>
<script type="text/babel">
  const ajax = (path) => {
    const request = new Request(
      path,
      {
        cache: 'no-cache',
        credentials: 'same-origin',
        method: 'GET',
      }
    );
    console.log('ajax request', request);
    return fetch(request)
      .then((response) => {
        return response.json();
      })
  };

  const element = document.getElementById('js-json-format');
  const replacer = (key, value) => {
//    return `${key}: ${value}, \n`;
    console.log('replacer', key, value);
    return `${value},\n`;
  };

  ajax('json/master/schedule/20170402.json')
    .then((json) => {
      console.log('ajax success', json);
      element.innerHTML = JSON.stringify(json, 4, "\n");
    })
    .catch((error) => {
      console.log('ajax error', error);
    });
</script>
</body>
</html>