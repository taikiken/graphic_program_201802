<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <script src="assets/js/libs/sagen/sagen.min.js" id="sagen" data-browser="true"></script>
  <title>React Test Headline</title>
  <link rel="stylesheet" href="assets/css/ui.css">
  <script src="assets/js/libs/jquery2/jquery.min.js"></script>
  <script src="assets/js/libs/vendor.min.js"></script>
  <script src="assets/js/libs/vendor.react.js"></script>
</head>
<body>

<h1 id="c1"></h1>

<section id="f1"></section>
<section id="f2"></section>
<section id="f3"></section>
<section id="f4"></section>

<section id="list">

</section>

<p><button id="listAdd">増やす</button></p>
<script src="assets/js/bundle/main.bundle.js"></script>

<script>
  ( function ( window ) {

    'use strict';

    var
      document = window.document;

    var UT = self.UT;

    var headline;
    // develop mode
    UT.app.App.develop();
//    UT.app.App.test();

    function done( result ) {
      console.log( 'success response ', result.response );
      console.log( 'success status ', result.status );
      console.log( 'success request', result.request );
    }

    function fail( error ) {
      console.log( 'error', error );
    }

    headline = new UT.action.home.Headline( done, fail );
    headline.start();

    // -------------------------------------------------
    let headline2;

    function didMount() {
      console.log( 'dom mount' );
    }
    function errorMount( error ) {
      console.log( 'dom errorMount', error );
    }
    function undefinedError( error ) {
      console.log( 'undefinedError', error );
    }
    function emptyError( error ) {
      console.log( 'emptyError', error );
    }
    function responseError( error ) {
      console.log( 'responseError', error );

      headline2.showError( 'まずい！ ' + error.name + ', ' + error.message );
    }
    let option = {
      didMount: didMount,
      errorMount: errorMount,
      undefinedError: undefinedError,
      emptyError: emptyError,
      responseError: responseError
    };

    headline2 = new UT.view.home.ViewHeadline( document.getElementById('f1'), option );
    headline2.start();

  }( window ) );
</script>
</body>
</html>
