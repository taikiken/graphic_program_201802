!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="assets/js/bundle",t(0)}([function(e,t,n){/*!
	 * @copyright (c) 2011-2017 inazumatv.com, Parachute.
	 * @author (at)taikiken / http://inazumatv.com
	 * @date 2017-8-9 13:05:57
	 * @license
	 *
	 * Distributed under the terms of the MIT license.
	 * http://www.opensource.org/licenses/mit-license.html
	 *
	 * This notice shall be included in all copies or substantial portions of the Software.
	 *
	 * @requires React, Sagen.js. IE: fetch, es5-promise
	 */
"use strict";var i=n(1),s=n(67),r=n(84),a=n(85),o=n(86),l=n(93),u=n(94),c=n(68),d=n(95),f=n(99),p=n(100),h=n(101),m=n(145),g=n(149),y=n(210),v=n(318),E=n(321),_=n(324),k=n(326),S=n(327),b=n(282),T=n(269),P=n(328),R=n(331),N=n(334),M=n(337),w=n(343),C=n(345),D=n(346),O=n(347),I=n(140),L=n(349),A=n(351),x=n(371),q=n(375),U=n(380),V=n(381),j=n(382),F=n(386),B=n(390),H=n(393),G=n(399),W=n(176),Y=n(239),Q=n(405),K=n(406),z=n(407),X=n(408),$=n(411),J=n(420),Z=n(423),ee=n(424),te=n(425),ne=n(428),ie=n(430),se=n(431),re=n(432),ae=n(460),oe=n(462),le=n(464),ue=n(456),ce=n(453),de=n(465),fe=n(466),pe={version:"1.1.0",build:"2017-8-9 13:05:57",app:{App:i.App,User:s.User,Router:o.Router,Dom:a.Dom,"const":{CommentsType:r.CommentsType}},util:{Offset:l.Offset,Scroll:u.Scroll},ui:{PageTop:Q.PageTop,button:{TopButton:Y.TopButton}},net:{Cookie:c.Cookie,Ajax:d.Ajax},model:{Model:f.Model},view:{View:p.View,ViewCategory:g.ViewCategory,ViewSingle:y.ViewSingle,ViewComments:b.ViewComments,ViewSearch:v.ViewSearch,ViewCommentSingle:E.ViewCommentSingle,ViewFirstVisit:_.ViewFirstVisit,comment:{ViewCommentForm:T.ViewCommentForm},single:{ViewSingleTitle:k.ViewSingleTitle,ViewSingleVisual:S.ViewSingleVisual},header:{ViewHeaderUser:h.ViewHeaderUser,ViewHeaderSearch:m.ViewHeaderSearch},sidebar:{ViewRanking:M.ViewRanking,ViewVideos:w.ViewVideos,ViewRecommend:C.ViewRecommend,Sidebar:D.Sidebar},home:{ViewHeadline:P.ViewHeadline,ViewPickup:R.ViewPickup,ViewNews:N.ViewNews},signup:{SignupWizard:A.SignupWizard,ViewDeactivate:x.ViewDeactivate},login:{ViewLogin:q.ViewLogin,ViewLogout:U.ViewLogout},mypage:{ViewUserProfile:V.ViewUserProfile,ViewBookmarks:j.ViewBookmarks,ViewActivities:F.ViewActivities,ViewNotifications:B.ViewNotifications},settings:{ViewSettingsIndex:H.ViewSettingsIndex,ViewSettingsInterest:G.ViewSettingsInterest},modal:{ViewDeleteModal:O.ViewDeleteModal,ViewLogoutModal:I.ViewLogoutModal,ViewFlushModal:L.ViewFlushModal}},sp:{view:{SPViewSyn:te.SPViewSyn,SPViewComments:ue.SPViewComments,SPViewSingle:se.SPViewSingle,SPViewSearch:ee.SPViewSearch,SPViewFirstVisit:K.SPViewFirstVisit,SPViewAppBanner:z.SPViewAppBanner,single:{SPViewSingleHeader:re.SPViewSingleHeader,SPViewContinueRead:ae.SPViewContinueRead,SPViewSingleRanking:oe.SPViewSingleRanking,SPViewSingleRecommend:le.SPViewSingleRecommend},comment:{SPViewCommentForm:ce.SPViewCommentForm},home:{SPViewHeadLine:X.SPViewHeadLine,SPViewNews:$.SPViewNews},category:{SPViewCategory:J.SPViewCategory,SPViewCategoryWithSlug:Z.SPViewCategoryWithSlug},header:{SPViewHeaderUser:ne.SPViewHeaderUser,SPViewHeaderSearch:ie.SPViewHeaderSearch},mypage:{SPViewUserProfile:de.SPViewUserProfile,SPViewBookmarks:fe.SPViewBookmarks}}},Ga:W.Ga};self.UT=pe},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=n(37),d=n(38),f=(0,u["default"])();t.App=function(){function e(t){if((0,r["default"])(this,e),f!==t)throw new Error("App is static Class. not use new App().")}return(0,o["default"])(e,null,[{key:"local",value:function(){c.Env.local(),d.Api.rebuild()}},{key:"test",value:function(){c.Env.test(),d.Api.rebuild()}},{key:"develop",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];c.Env.develop(),d.Api.rebuild(e)}},{key:"production",value:function(){c.Env.production(),d.Api.rebuild()}},{key:"dev",value:function(){c.Env.dev(),d.Api.rebuild()}},{key:"stg",value:function(){c.Env.stg(),d.Api.rebuild()}}]),e}()},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(4),r=i(s);t["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r["default"])(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},function(e,t,n){e.exports={"default":n(5),__esModule:!0}},function(e,t,n){var i=n(6);e.exports=function(e,t,n){return i.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){e.exports={"default":n(8),__esModule:!0}},function(e,t,n){n(9),n(36),e.exports=n(15).Symbol},function(e,t,n){"use strict";var i=n(6),s=n(10),r=n(11),a=n(12),o=n(14),l=n(18),u=n(13),c=n(21),d=n(22),f=n(24),p=n(23),h=n(25),m=n(30),g=n(31),y=n(32),v=n(33),E=n(26),_=n(20),k=i.getDesc,S=i.setDesc,b=i.create,T=m.get,P=s.Symbol,R=s.JSON,N=R&&R.stringify,M=!1,w=p("_hidden"),C=i.isEnum,D=c("symbol-registry"),O=c("symbols"),I="function"==typeof P,L=Object.prototype,A=a&&u(function(){return 7!=b(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=k(L,t);i&&delete L[t],S(e,t,n),i&&e!==L&&S(L,t,i)}:S,x=function(e){var t=O[e]=b(P.prototype);return t._k=e,a&&M&&A(L,e,{configurable:!0,set:function(t){r(this,w)&&r(this[w],e)&&(this[w][e]=!1),A(this,e,_(1,t))}}),t},q=function(e){return"symbol"==typeof e},U=function(e,t,n){return n&&r(O,t)?(n.enumerable?(r(e,w)&&e[w][t]&&(e[w][t]=!1),n=b(n,{enumerable:_(0,!1)})):(r(e,w)||S(e,w,_(1,{})),e[w][t]=!0),A(e,t,n)):S(e,t,n)},V=function(e,t){v(e);for(var n,i=g(t=E(t)),s=0,r=i.length;r>s;)U(e,n=i[s++],t[n]);return e},j=function(e,t){return void 0===t?b(e):V(b(e),t)},F=function(e){var t=C.call(this,e);return t||!r(this,e)||!r(O,e)||r(this,w)&&this[w][e]?t:!0},B=function(e,t){var n=k(e=E(e),t);return!n||!r(O,t)||r(e,w)&&e[w][t]||(n.enumerable=!0),n},H=function(e){for(var t,n=T(E(e)),i=[],s=0;n.length>s;)r(O,t=n[s++])||t==w||i.push(t);return i},G=function(e){for(var t,n=T(E(e)),i=[],s=0;n.length>s;)r(O,t=n[s++])&&i.push(O[t]);return i},W=function(e){if(void 0!==e&&!q(e)){for(var t,n,i=[e],s=1,r=arguments;r.length>s;)i.push(r[s++]);return t=i[1],"function"==typeof t&&(n=t),!n&&y(t)||(t=function(e,t){return n&&(t=n.call(this,e,t)),q(t)?void 0:t}),i[1]=t,N.apply(R,i)}},Y=u(function(){var e=P();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))});I||(P=function(){if(q(this))throw TypeError("Symbol is not a constructor");return x(f(arguments.length>0?arguments[0]:void 0))},l(P.prototype,"toString",function(){return this._k}),q=function(e){return e instanceof P},i.create=j,i.isEnum=F,i.getDesc=B,i.setDesc=U,i.setDescs=V,i.getNames=m.get=H,i.getSymbols=G,a&&!n(35)&&l(L,"propertyIsEnumerable",F,!0));var Q={"for":function(e){return r(D,e+="")?D[e]:D[e]=P(e)},keyFor:function(e){return h(D,e)},useSetter:function(){M=!0},useSimple:function(){M=!1}};i.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=p(e);Q[e]=I?t:x(t)}),M=!0,o(o.G+o.W,{Symbol:P}),o(o.S,"Symbol",Q),o(o.S+o.F*!I,"Object",{create:j,defineProperty:U,defineProperties:V,getOwnPropertyDescriptor:B,getOwnPropertyNames:H,getOwnPropertySymbols:G}),R&&o(o.S+o.F*(!I||Y),"JSON",{stringify:W}),d(P,"Symbol"),d(Math,"Math",!0),d(s.JSON,"JSON",!0)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=!n(13)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var i=n(10),s=n(15),r=n(16),a="prototype",o=function(e,t,n){var l,u,c,d=e&o.F,f=e&o.G,p=e&o.S,h=e&o.P,m=e&o.B,g=e&o.W,y=f?s:s[t]||(s[t]={}),v=f?i:p?i[t]:(i[t]||{})[a];f&&(n=t);for(l in n)u=!d&&v&&l in v,u&&l in y||(c=u?v[l]:n[l],y[l]=f&&"function"!=typeof v[l]?n[l]:m&&u?r(c,i):g&&v[l]==c?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(c):h&&"function"==typeof c?r(Function.call,c):c,h&&((y[a]||(y[a]={}))[l]=c))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,e.exports=o},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(17);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,s){return e.call(t,n,i,s)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports=n(19)},function(e,t,n){var i=n(6),s=n(20);e.exports=n(12)?function(e,t,n){return i.setDesc(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(10),s="__core-js_shared__",r=i[s]||(i[s]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t,n){var i=n(6).setDesc,s=n(11),r=n(23)("toStringTag");e.exports=function(e,t,n){e&&!s(e=n?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},function(e,t,n){var i=n(21)("wks"),s=n(24),r=n(10).Symbol;e.exports=function(e){return i[e]||(i[e]=r&&r[e]||(r||s)("Symbol."+e))}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){var i=n(6),s=n(26);e.exports=function(e,t){for(var n,r=s(e),a=i.getKeys(r),o=a.length,l=0;o>l;)if(r[n=a[l++]]===t)return n}},function(e,t,n){var i=n(27),s=n(29);e.exports=function(e){return i(s(e))}},function(e,t,n){var i=n(28);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(26),s=n(6).getNames,r={}.toString,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(e){try{return s(e)}catch(t){return a.slice()}};e.exports.get=function(e){return a&&"[object Window]"==r.call(e)?o(e):s(i(e))}},function(e,t,n){var i=n(6);e.exports=function(e){var t=i.getKeys(e),n=i.getSymbols;if(n)for(var s,r=n(e),a=i.isEnum,o=0;r.length>o;)a.call(e,s=r[o++])&&t.push(s);return t}},function(e,t,n){var i=n(28);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(34);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=!0},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Env=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])(),d="production";t.Env=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("Env is static Class. not use new Env().")}return(0,o["default"])(e,null,[{key:"local",value:function(){d=e.LOCAL}},{key:"test",value:function(){d=e.TEST}},{key:"develop",value:function(){d=e.DEVELOP}},{key:"production",value:function(){d=e.PRODUCTION}},{key:"dev",value:function(){d=e.DEV}},{key:"stg",value:function(){d=e.STG}},{key:"mode",get:function(){return d}},{key:"PRODUCTION",get:function(){return"production"}},{key:"DEVELOP",get:function(){return"develop"}},{key:"TEST",get:function(){return"test"}},{key:"LOCAL",get:function(){return"local"}},{key:"DEV",get:function(){return"dev"}},{key:"STG",get:function(){return"stg"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Api=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(n(39),n(67)),d=n(82),f=(0,u["default"])();t.Api=function(){function e(t){if((0,r["default"])(this,e),f!==t)throw new Error("Api is static Class. not use new Api().")}return(0,o["default"])(e,null,[{key:"rebuild",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];d.ApiDae.rebuild(e)}},{key:"login",value:function(){return d.ApiDae.api("users:login")}},{key:"logout",value:function(){return d.ApiDae.api("users:logout")}},{key:"join",value:function(){return d.ApiDae.api("users:add")}},{key:"leave",value:function(){return d.ApiDae.api("users:delete")}},{key:"email",value:function(){return d.ApiDae.api("users:email")}},{key:"auth",value:function(e){switch(e){case"fb":case"facebook":return d.ApiDae.api("auth:fb");case"tw":case"twitter":return d.ApiDae.api("auth:tw");default:throw new Error("notice illegal action: "+e+".")}}},{key:"sns",value:function(){return d.ApiDae.api("auth:sns")}},{key:"categories",value:function(){return d.ApiDae.api("categories")}},{key:"home",value:function(){return c.User.sign?e.selfAPi():e.homeAPi()}},{key:"homeAPi",value:function(){return d.ApiDae.api("home")}},{key:"selfAPi",value:function(){return d.ApiDae.api("self")}},{key:"category",value:function(){return d.ApiDae.api("category")}},{key:"search",value:function(){return d.ApiDae.api("search")}},{key:"single",value:function(){return d.ApiDae.api("single")}},{key:"detail",value:function(){return e.single()}},{key:"singles",value:function(){return d.ApiDae.api("singles")}},{key:"bookmark",value:function(e){switch(e){case"delete":return d.ApiDae.api("bookmark:delete");case"add":return d.ApiDae.api("bookmark:add");default:throw new Error("bookmark illegal action: "+e)}}},{key:"comment",value:function(e){switch(e){case"official":return d.ApiDae.api("comment:official");case"normal":return d.ApiDae.api("comment:normal");case"self":return d.ApiDae.api("comment:self");case"single":return d.ApiDae.api("comment:single");case"send":return d.ApiDae.api("comment:send");case"reply":return d.ApiDae.api("comment:reply");case"delete":case"send:delete":return d.ApiDae.api("comment:send:delete");case"reply:delete":return d.ApiDae.api("comment:reply:delete");case"good:add":return d.ApiDae.api("comment:good:add");case"good:delete":return d.ApiDae.api("comment:good:delete");case"bad:add":return d.ApiDae.api("comment:bad:add");case"bad:delete":return d.ApiDae.api("comment:bad:delete");case"":return d.ApiDae.api("comment");default:return d.ApiDae.api("comment")}}},{key:"replay",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];switch(t){case"delete":return e.comment("reply:delete");case"":return e.comment("reply");default:return e.comment("reply")}}},{key:"users",value:function(e){switch(e){case"self":return d.ApiDae.api("users:self");case"id":return d.ApiDae.api("users:id");case"self:bookmark":return d.ApiDae.api("users:self:bookmark");case"activities":case"activity":return d.ApiDae.api("users:self:activities");case"notifications":case"notice":return d.ApiDae.api("users:self:notifications");case"notifications:read":case"notice:read":return d.ApiDae.api("users:self:notifications:read");case"notifications:count":case"notice:count":return d.ApiDae.api("users:self:notifications:count");default:throw new Error("users illegal action: "+e+".")}}},{key:"notice",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];switch(t){case"read":return e.users("notice:"+t);case"count":return e.users("notice:"+t);case"":return e.users("notice");default:throw new Error("notice illegal action: "+t+".")}}},{key:"notifications",value:function(t){return e.notice(t)}},{key:"settings",value:function(e){switch(e){case"account":return d.ApiDae.api("users:settings:account");case"account:edit":return d.ApiDae.api("users:settings:account:edit");case"interest":return d.ApiDae.api("users:settings:interest");case"interest:edit":return d.ApiDae.api("users:settings:interest:edit");default:throw new Error("settings illegal action: "+e+".")}}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Types=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);n(40),n(64),n(65),t.Types=function(){function e(t,n,i){var s=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];(0,r["default"])(this,e),this._type=t,this._permalink=n,this._queries=i,this._auth=s}return(0,o["default"])(e,[{key:"type",get:function(){return this._type}},{key:"url",get:function(){return this._type.url}},{key:"method",get:function(){return this._type.method}},{key:"permalink",get:function(){return this._permalink}},{key:"queries",get:function(){return this._queries}},{key:"auth",get:function(){return this._auth}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Type=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.Type=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?"GET":arguments[1];(0,r["default"])(this,e),n=l.Safety.string(n,"GET"),this._url=t,this._method=n.toUpperCase()}return(0,o["default"])(e,[{key:"url",get:function(){return this._url},set:function(e){this._url=e}},{key:"method",get:function(){return this._method},set:function(t){var n=t.toUpperCase();e.validate(n)||(n="GET"),this._method=n}}],[{key:"validate",value:function(e){return-1!==["GET","POST","PUT","DELETE"].indexOf(e)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Safety=void 0;var s=n(42),r=i(s),a=n(57),o=i(a),l=n(61),u=i(l),c=n(63),d=i(c),f=n(2),p=i(f),h=n(3),m=i(h),g=n(7),y=i(g),v=(0,y["default"])();t.Safety=function(){function e(t){if((0,p["default"])(this,e),v!==t)throw new Error("Safety is static Class. not use new Safety().")}return(0,m["default"])(e,null,[{key:"check",value:function(t,n){var i=arguments.length<=2||void 0===arguments[2]?"string":arguments[2];return i=e.string(i,"string"),i=i.toLowerCase(),"array"===i?t.hasOwnProperty(n)&&Array.isArray(t[n]):t.hasOwnProperty(n)&&(0,d["default"])(t[n])===i}},{key:"array",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return Array.isArray(e)?e:[].slice(0)}},{key:"object",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return null!==e&&"undefined"!=typeof e||(e=(0,u["default"])({})),e}},{key:"string",value:function(e,t){return null!==e&&"undefined"!=typeof e||(e=t),e}},{key:"integer",value:function(e,t){return(0,o["default"])(e)||(e=t),e}},{key:"isElement",value:function(e){return null!==e&&"undefined"!=typeof e&&"appendChild"in e}},{key:"isFormData",value:function(e){return null!==e&&"undefined"!=typeof e&&"append"in e}},{key:"getExtension",value:function(e){var t=e.split(".");return 1===t.length||""===t[0]&&2===t.length?"":t.pop().toLowerCase()}},{key:"isBase64",value:function(e){return-1!==e.indexOf("data:image/jpeg;base64")||-1!==e.indexOf("data:image/png;base64")||-1!==e.indexOf("data:image/jpg;base64")||-1!==e.indexOf("data:image/gif;base64")}},{key:"isImg",value:function(t){return e.isBase64(t)?!0:-1!==["jpg","png","jpeg","gif"].indexOf(e.getExtension(t))}},{key:"isGraph",value:function(e){return-1!==e.indexOf("graph.facebook.com")}},{key:"image",value:function(t,n){return t=e.string(t,""),""===t?n:e.isImg(t)?t:e.isGraph(t)?t:n}},{key:"same",value:function(t,n){var i=arguments.length<=2||void 0===arguments[2]?e.NOT_EMPTY:arguments[2];return t===n?"":i}},{key:"normalize",value:function(e,t){var n=!1,i=!0,s=!1,a=void 0;try{for(var o,l=(0,r["default"])(t);!(i=(o=l.next()).done);i=!0){var u=o.value;if(e===u){n=!0;break}}}catch(c){s=!0,a=c}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw a}}return n}},{key:"nil",value:function(e){return null===e}},{key:"exist",value:function(e){return!!e}},{key:"NOT_EMPTY",get:function(){return"user-logged-in"}}]),e}()},function(e,t,n){e.exports={"default":n(43),__esModule:!0}},function(e,t,n){n(44),n(51),e.exports=n(54)},function(e,t,n){n(45);var i=n(48);i.NodeList=i.HTMLCollection=i.Array},function(e,t,n){"use strict";var i=n(46),s=n(47),r=n(48),a=n(26);e.exports=n(49)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,s(1)):"keys"==t?s(0,n):"values"==t?s(0,e[n]):s(0,[n,e[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports={}},function(e,t,n){"use strict";var i=n(35),s=n(14),r=n(18),a=n(19),o=n(11),l=n(48),u=n(50),c=n(22),d=n(6).getProto,f=n(23)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",m="keys",g="values",y=function(){return this};e.exports=function(e,t,n,v,E,_,k){u(n,t,v);var S,b,T=function(e){if(!p&&e in M)return M[e];switch(e){case m:return function(){return new n(this,e)};case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},P=t+" Iterator",R=E==g,N=!1,M=e.prototype,w=M[f]||M[h]||E&&M[E],C=w||T(E);if(w){var D=d(C.call(new e));c(D,P,!0),!i&&o(M,h)&&a(D,f,y),R&&w.name!==g&&(N=!0,C=function(){return w.call(this)})}if(i&&!k||!p&&!N&&M[f]||a(M,f,C),l[t]=C,l[P]=y,E)if(S={values:R?C:T(g),keys:_?C:T(m),entries:R?T("entries"):C},k)for(b in S)b in M||r(M,b,S[b]);else s(s.P+s.F*(p||N),t,S);return S}},function(e,t,n){"use strict";var i=n(6),s=n(20),r=n(22),a={};n(19)(a,n(23)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i.create(a,{next:s(1,n)}),r(e,t+" Iterator")}},function(e,t,n){"use strict";var i=n(52)(!0);n(49)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var i=n(53),s=n(29);e.exports=function(e){return function(t,n){var r,a,o=String(s(t)),l=i(n),u=o.length;return 0>l||l>=u?e?"":void 0:(r=o.charCodeAt(l),55296>r||r>56319||l+1===u||(a=o.charCodeAt(l+1))<56320||a>57343?e?o.charAt(l):r:e?o.slice(l,l+2):(r-55296<<10)+(a-56320)+65536)}}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(33),s=n(55);e.exports=n(15).getIterator=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},function(e,t,n){var i=n(56),s=n(23)("iterator"),r=n(48);e.exports=n(15).getIteratorMethod=function(e){return void 0!=e?e[s]||e["@@iterator"]||r[i(e)]:void 0}},function(e,t,n){var i=n(28),s=n(23)("toStringTag"),r="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(t=Object(e))[s])?n:r?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){e.exports={"default":n(58),__esModule:!0}},function(e,t,n){n(59),e.exports=n(15).Number.isInteger},function(e,t,n){var i=n(14);i(i.S,"Number",{isInteger:n(60)})},function(e,t,n){var i=n(34),s=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&s(e)===e}},function(e,t,n){e.exports={"default":n(62),__esModule:!0}},function(e,t,n){var i=n(6);e.exports=function(e,t){return i.create(e,t)}},function(e,t,n){"use strict";var i=n(7)["default"];t["default"]=function(e){return e&&e.constructor===i?"symbol":typeof e},t.__esModule=!0},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Permalink=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.Permalink=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];(0,r["default"])(this,e),this._paths=t,this._need=n}return(0,o["default"])(e,[{key:"length",value:function(){return this._paths.length}},{key:"has",value:function(e){var t=this._paths,n=-1!==t.indexOf(e);return n||(n=-1!==t.indexOf("*")),n}},{key:"require",get:function(){return this._need}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Queries=void 0;var s=n(42),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l);n(66),t.Queries=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];(0,o["default"])(this,e),this._queries=t}return(0,u["default"])(e,[{key:"length",value:function(){return this._queries.length}},{key:"all",value:function(){return this._queries}},{key:"search",value:function(e){var t,n=this._queries,i=!0,s=!1,a=void 0;try{for(var o,l=(0,r["default"])(n);!(i=(o=l.next()).done);i=!0){var u=o.value;if(t=u.search(e),null!==t)break}}catch(c){s=!0,a=c}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw a}}return t}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Query=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.Query=function(){function e(t,n){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];(0,r["default"])(this,e),this._key=t,this._type=n,this._require=s,this._value=i}return(0,o["default"])(e,[{key:"has",value:function(e){return this._key===e}},{key:"search",value:function(e){return this.has(e)?{key:this._key,type:this._type,require:this._require,value:this._value}:null}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(68),u=n(69),c=n(41),d=null;t.User=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"login",value:function(t){t=c.Safety.string(t,"");var n=c.Safety.string(t,"");if(""===n)return!1;var i=l.Cookie.save(t);return e.sign=i,i}},{key:"logout",value:function(){l.Cookie.remove(l.Cookie.TARGET),e.sign=!1}},{key:"init",value:function(){var t=e.token;null===t||"undefined"==typeof t||""===t?e.sign=!1:e.login(t)}},{key:"info",value:function(){return d}},{key:"setInfo",value:function(e){d=e}},{key:"sign",get:function(){return null!==e.token},set:function(e){e=!!e,e?u.UserStatus.factory().login():u.UserStatus.factory().logout()}},{key:"token",get:function(){return l.Cookie.get(l.Cookie.TARGET)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Cookie=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=n(41),d=(0,u["default"])();t.Cookie=function(){function e(t){if((0,r["default"])(this,e),d!==t)throw new Error("Cookie is static Class. not use new Cookie().")}return(0,o["default"])(e,null,[{key:"get",value:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}},{key:"save",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?e.TARGET:arguments[1],i=arguments.length<=2||void 0===arguments[2]?new Date(Date.now()+7776e6):arguments[2],s=arguments.length<=3||void 0===arguments[3]?"/":arguments[3],r=arguments.length<=4||void 0===arguments[4]?"":arguments[4],a=arguments.length<=5||void 0===arguments[5]?!1:arguments[5];t=c.Safety.string(t,""),n=c.Safety.string(n,e.TARGET),s=c.Safety.string(s,"/"),r=c.Safety.string(r,""),s=""!==s?"; path="+s:"",r=""!==r?"; domain="+r:"";var o=a?"; secure":"";return document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(t)+"; expires="+i.toUTCString()+r+s+o,!0}},{key:"has",value:function(t){return null!==e.get(t)}},{key:"remove",value:function(){var t=arguments.length<=0||void 0===arguments[0]?e.TARGET:arguments[0],n=arguments.length<=1||void 0===arguments[1]?"/":arguments[1],i=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return e.has(t)?e.save("",t,new Date,n,i):!1}},{key:"TARGET",get:function(){return"auth_token"}},{key:"SYN",get:function(){return"visited"}},{key:"EVER_BEEN",get:function(){return"been"}},{key:"APP_BANNER",get:function(){return"app_banner"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserStatus=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=(0,m["default"])("UserStatus singleton Symbol"),v=null;t.UserStatus=function(e){function t(e){var n;if((0,o["default"])(this,t),y!==e)throw new Error("UserStatus is static Class. not use new UserStatus().");if(null!==v){var i;return i=v,(0,d["default"])(s,i)}var s=(0,d["default"])(this,(0,r["default"])(t).call(this));return v=s,n=v,(0,d["default"])(s,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"login",value:function(){this.dispatch({type:t.LOG_IN,sign:!0})}},{key:"logout",value:function(){this.dispatch({type:t.LOG_OUT,sign:!1})}}],[{key:"factory",value:function(){return null===v&&(v=new t(y)),v}},{key:"LOG_IN",get:function(){return"logIn"}},{key:"LOG_OUT",get:function(){return"logOut"}}]),t}(g.EventDispatcher)},function(e,t,n){e.exports={"default":n(71),__esModule:!0}},function(e,t,n){n(72),e.exports=n(15).Object.getPrototypeOf},function(e,t,n){var i=n(73);n(74)("getPrototypeOf",function(e){return function(t){return e(i(t))}})},function(e,t,n){var i=n(29);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i=n(14),s=n(15),r=n(13);e.exports=function(e,t){var n=(s.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*r(function(){n(1)}),"Object",a)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(63),r=i(s);t["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":(0,r["default"])(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";var i=n(61)["default"],s=n(77)["default"];t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=i(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(s?s(e,t):e.__proto__=t)},t.__esModule=!0},function(e,t,n){e.exports={"default":n(78),__esModule:!0}},function(e,t,n){n(79),e.exports=n(15).Object.setPrototypeOf},function(e,t,n){var i=n(14);i(i.S,"Object",{setPrototypeOf:n(80).set})},function(e,t,n){var i=n(6).getDesc,s=n(34),r=n(33),a=function(e,t){if(r(e),!s(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,s){try{s=n(16)(Function.call,i(Object.prototype,"__proto__").set,2),s(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:s(e,n),e}}({},!1):void 0),check:a}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=void 0;var s=n(42),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l);t.EventDispatcher=function(){function e(){(0,o["default"])(this,e),this._listeners={}}return(0,u["default"])(e,[{key:"on",value:function(e,t){if(null!==t){var n=this._listeners;n.hasOwnProperty(e)?-1===n[e].indexOf(t)&&n[e].push(t):(n[e]=[],n[e].push(t))}}},{key:"off",value:function(e,t){if(null!==t){var n=this._listeners;if(n.hasOwnProperty(e)){var i=n[e],s=i.indexOf(t);-1!==s&&(i[s]=null,this.clean(e,i))}}}},{key:"clean",value:function(e,t){var n=!1,i=!0,s=!1,a=void 0;try{for(var o,l=(0,r["default"])(t);!(i=(o=l.next()).done);i=!0){var u=o.value;if(null!==u){n=!0;break}}}catch(c){s=!0,a=c}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw a}}n||(this._listeners[e]=[])}},{key:"has",value:function(e,t){if(null===t)return!1;var n=this._listeners;return"undefined"==typeof n[e]?!1:-1!==n[e].indexOf(t);
}},{key:"dispatch",value:function(e){var t=this._listeners;if(t.hasOwnProperty(e.type)){var n=t[e.type];e.target=this;var i=!0,s=!1,a=void 0;try{for(var o,l=(0,r["default"])(n);!(i=(o=l.next()).done);i=!0){var u=o.value;null!==u&&"function"==typeof u&&u.call(this,e)}}catch(c){s=!0,a=c}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw a}}}}},{key:"addEventListener",value:function(e,t){this.on(e,t)}},{key:"removeEventListener",value:function(e,t){this.off(e,t)}},{key:"hasEventListener",value:function(e,t){return this.has(e,t)}},{key:"dispatchEvent",value:function(e){this.dispatch(e)}},{key:"listeners",get:function(){return this._listeners}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ApiDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=n(37),d=n(83),f=n(39),p=n(40),h=n(64),m=n(65),g=n(66),y=function(){switch(c.Env.mode){case c.Env.LOCAL:return"http://192.168.33.50";case c.Env.TEST:return"http://www.undotsushin.local";case c.Env.DEVELOP:return"https://dev.sportsbull.jp";case c.Env.PRODUCTION:return"";case c.Env.DEV:return"";case c.Env.STG:return"";default:return""}},v=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=""===e?y():e,n=t+"/api/v1";return{"users:add":new f.Types(new p.Type(n+"/users/","POST"),new h.Permalink,new m.Queries),"users:login":new f.Types(new p.Type(n+"/sessions/","POST"),new h.Permalink,new m.Queries),"users:logout":new f.Types(new p.Type(n+"/sessions/","DELETE"),new h.Permalink,new m.Queries),"users:email":new f.Types(new p.Type(n+"/users/email/","POST"),new h.Permalink,new m.Queries),"auth:sns":new f.Types(new p.Type(n+"/sessions/social"),new h.Permalink,new m.Queries),"auth:fb":new f.Types(new p.Type(t+"/api/v1/auth/facebook"),new h.Permalink,new m.Queries),"auth:tw":new f.Types(new p.Type(t+"/api/v1/auth/twitter"),new h.Permalink,new m.Queries),categories:new f.Types(new p.Type(n+"/category"),new h.Permalink,new m.Queries),"category:slug":new f.Types(new p.Type(n+"/category"),new h.Permalink,new m.Queries),home:new f.Types(new p.Type(n+"/articles/home"),new h.Permalink(["pickup","headline"]),new m.Queries([new g.Query("offset","number",0),new g.Query("length","Number",10)])),self:new f.Types(new p.Type(n+"/articles/self"),new h.Permalink(["pickup","headline"]),new m.Queries([new g.Query("offset","number",0),new g.Query("length","number",10)]),!0),category:new f.Types(new p.Type(n+"/articles/category"),new h.Permalink(["all","*"],!0),new m.Queries([new g.Query("offset","number",0),new g.Query("length","Number",10)])),search:new f.Types(new p.Type(n+"/articles/search"),new h.Permalink(["*"],!0),new m.Queries([new g.Query("offset","number",0),new g.Query("length","Number",10)])),single:new f.Types(new p.Type(n+"/articles/"+d.Path.ARTICLE_ID),new h.Permalink(["*"],!0),new m.Queries),singles:new f.Types(new p.Type(n+"/articles/"+d.Path.ARTICLE_ID+"/next"),new h.Permalink(["*"],!0),new m.Queries([new g.Query("offset","number",0),new g.Query("length","Number",10)])),"bookmark:add":new f.Types(new p.Type(n+"/articles/ARTICLE_ID/bookmark","PUT"),new h.Permalink(["*"],!0),new m.Queries,!0),"bookmark:delete":new f.Types(new p.Type(n+"/articles/ARTICLE_ID/bookmark","DELETE"),new h.Permalink(["*"],!0),new m.Queries,!0),comment:new f.Types(new p.Type(n+"/comments/article/"+d.Path.ARTICLE_ID),new h.Permalink(["*"],!0),new m.Queries([new g.Query("offset","number",0),new g.Query("length","Number",10)])),"comment:official":new f.Types(new p.Type(n+"/comments/article/"+d.Path.ARTICLE_ID+"/official"),new h.Permalink(["*"],!0),new m.Queries([new g.Query("offset","number",0),new g.Query("length","Number",10)])),"comment:normal":new f.Types(new p.Type(n+"/comments/article/"+d.Path.ARTICLE_ID+"/normal"),new h.Permalink(["*"],!0),new m.Queries([new g.Query("offset","number",0),new g.Query("length","Number",10)])),"comment:self":new f.Types(new p.Type(n+"/comments/article/"+d.Path.ARTICLE_ID+"/self"),new h.Permalink(["*"],!0),new m.Queries([new g.Query("offset","number",0),new g.Query("length","Number",10)])),"comment:single":new f.Types(new p.Type(n+"/comments/article/"+d.Path.ARTICLE_ID+"/"+d.Path.COMMENT_ID),new h.Permalink(["*"],!0),new m.Queries),"comment:send":new f.Types(new p.Type(n+"/comments/article/"+d.Path.ARTICLE_ID,"POST"),new h.Permalink(["*"],!0),new m.Queries([]),!0),"comment:reply":new f.Types(new p.Type(n+"/comments/article/"+d.Path.ARTICLE_ID+"/"+d.Path.COMMENT_ID,"POST"),new h.Permalink(["*"],!0),new m.Queries([new g.Query("body","number","",!0)]),!0),"comment:reply:reply":new f.Types(new p.Type(n+"/comments/article/"+d.Path.ARTICLE_ID+"/"+d.Path.COMMENT_ID+"/"+d.Path.REPLY_ID,"POST"),new h.Permalink(["*"],!0),new m.Queries([new g.Query("body","number","",!0)]),!0),"comment:send:delete":new f.Types(new p.Type(n+"/comments/article/"+d.Path.ARTICLE_ID+"/"+d.Path.COMMENT_ID,"DELETE"),new h.Permalink(["*"],!0),new m.Queries,!0),"comment:reply:delete":new f.Types(new p.Type(n+"/comments/article/"+d.Path.ARTICLE_ID+"/"+d.Path.COMMENT_ID+"/"+d.Path.REPLY_ID,"DELETE"),new h.Permalink(["*"],!0),new m.Queries,!0),"comment:good:add":new f.Types(new p.Type(n+"/comments/like/"+d.Path.COMMENT_ID,"PUT"),new h.Permalink(["*"],!0),new m.Queries,!0),"comment:good:delete":new f.Types(new p.Type(n+"/comments/like/"+d.Path.COMMENT_ID,"DELETE"),new h.Permalink(["*"],!0),new m.Queries,!0),"comment:bad:add":new f.Types(new p.Type(n+"/comments/bad/"+d.Path.COMMENT_ID,"PUT"),new h.Permalink(["*"],!0),new m.Queries,!0),"comment:bad:delete":new f.Types(new p.Type(n+"/comments/bad/"+d.Path.COMMENT_ID,"DELETE"),new h.Permalink(["*"],!0),new m.Queries,!0),"users:self":new f.Types(new p.Type(n+"/users/self"),new h.Permalink,new m.Queries,!0),"users:id":new f.Types(new p.Type(n+"/users/"+d.Path.USER_ID),new h.Permalink,new m.Queries,!0),"users:self:bookmark":new f.Types(new p.Type(n+"/users/self/bookmark"),new h.Permalink,new m.Queries([new g.Query("offset","number",0),new g.Query("length","Number",10)])),"users:self:activities":new f.Types(new p.Type(n+"/users/self/activities"),new h.Permalink,new m.Queries([new g.Query("offset","number",0),new g.Query("length","Number",10)])),"users:self:notifications":new f.Types(new p.Type(n+"/users/self/notifications"),new h.Permalink,new m.Queries([new g.Query("offset","number",0),new g.Query("length","Number",10)]),!0),"users:self:notifications:read":new f.Types(new p.Type(n+"/users/self/notifications/read","PUT"),new h.Permalink,new m.Queries,!0),"users:self:notifications:count":new f.Types(new p.Type(n+"/users/self/notifications/count"),new h.Permalink,new m.Queries,!0),"users:settings:account":new f.Types(new p.Type(n+"/users/self/settings/account"),new h.Permalink,new m.Queries,!0),"users:settings:account:edit":new f.Types(new p.Type(n+"/users/self/settings/account","POST"),new h.Permalink,new m.Queries,!0),"users:settings:interest":new f.Types(new p.Type(n+"/users/self/settings/interest"),new h.Permalink,new m.Queries,!0),"users:settings:interest:edit":new f.Types(new p.Type(n+"/users/self/settings/interest","POST"),new h.Permalink,new m.Queries,!0),"users:delete":new f.Types(new p.Type(n+"/users/self","DELETE"),new h.Permalink,new m.Queries,!0)}},E=(0,u["default"])(),_=v();t.ApiDae=function(){function e(t){if((0,r["default"])(this,e),E!==t)throw new Error("ApiDae is static Class. not use new ApiDae().")}return(0,o["default"])(e,null,[{key:"rebuild",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];_=v(e)}},{key:"all",value:function(){return _}},{key:"api",value:function(e){return _[e]}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Path=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])();t.Path=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("Path is static Class. not use new Path().")}return(0,o["default"])(e,null,[{key:"article",value:function(t,n){return t.replace(e.ARTICLE,String(n))}},{key:"comment",value:function(t,n){return t.replace(e.COMMENT,String(n))}},{key:"reply",value:function(t,n){return t.replace(e.REPLY,String(n))}},{key:"user",value:function(t,n){return t.replace(e.USER,String(n))}},{key:"ARTICLE_ID",get:function(){return"ARTICLE_ID"}},{key:"ARTICLE",get:function(){return e.ARTICLE_ID}},{key:"COMMENT_ID",get:function(){return"COMMENT_ID"}},{key:"COMMENT",get:function(){return e.COMMENT_ID}},{key:"REPLY_ID",get:function(){return"REPLY_ID"}},{key:"REPLY",get:function(){return e.REPLY_ID}},{key:"USER_ID",get:function(){return"USER_ID"}},{key:"USER",get:function(){return e.USER_ID}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsType=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])();t.CommentsType=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("CommentsType is static Class. not use new CommentsType().")}return(0,o["default"])(e,null,[{key:"title",value:function(t){switch(t){case e.SELF:return"自分のコメント";case e.NORMAL:return"みんなのコメント";case e.OFFICIAL:return"公式コメンテーター";case e.ALL:return"すべてのコメント";default:return"すべてのコメント"}}},{key:"SELF",get:function(){return"self"}},{key:"NORMAL",get:function(){return"normal"}},{key:"OFFICIAL",get:function(){return"official"}},{key:"ALL",get:function(){return""}},{key:"INDEPENDENT",get:function(){return"independent"}},{key:"SINGLE",get:function(){return"single"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Dom=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=n(41),d=(0,u["default"])();t.Dom=function(){function e(t){if((0,r["default"])(this,e),d!==t)throw new Error("Dom is static Class. not use new Dom().")}return(0,o["default"])(e,null,[{key:"get",value:function(e){var t=document.getElementById(e);return c.Safety.isElement(t)?t:null}},{key:"whole",value:function(){return e.get("whole")}},{key:"page",value:function(){return e.get("page")}},{key:"pageTop",value:function(){return e.get("pageTop")}},{key:"header",value:function(){return e.get("header-container")}},{key:"profile",value:function(){return e.get("user-profile-container")}},{key:"search",value:function(){return e.get("head-search-container")}},{key:"searchOpener",value:function(){return e.get("search-container-opener")}},{key:"footer",value:function(){return e.get("footer-container")}},{key:"service",value:function(){return e.get("side-menu-service")}},{key:"serviceMenu",value:function(){return e.get("side-menu-container")}},{key:"serviceOpener",value:function(){return e.get("menu-opener")}},{key:"ranking",value:function(){return e.get("widget-ranking-container")}},{key:"video",value:function(){return e.get("widget-recommend-container")}},{key:"ranking2",value:function(){return e.get("widget-ranking-container-2")}},{key:"video2",value:function(){return e.get("widget-recommend-container-2")}},{key:"sidebar",value:function(){return e.get("sidebar-moving-container")}},{key:"recommend",value:function(){return e.get("widget-recommend-list-container")}},{key:"pickup",value:function(){return e.get("pickup-container")}},{key:"headline",value:function(){return e.get("headline-container")}},{key:"headlineParent",value:function(){return e.get("js-headline")}},{key:"category",value:function(){return e.get("category-container")}},{key:"board",value:function(){return e.get("board-container")}},{key:"boardMore",value:function(){return e.get("board-container-more")}},{key:"related",value:function(){return e.get("single-related-container")}},{key:"singleFooter",value:function(){return e.get("single-footer-container")}},{key:"singleHeader",value:function(){return e.get("single-header-container")}},{key:"visual",value:function(){return e.get("single-visual-container")}},{key:"commentForm",value:function(){return e.get("comment-form-container")}},{key:"commentSelf",value:function(){return e.get("comment-self-container")}},{key:"commentOfficial",value:function(){return e.get("comment-official-container")}},{key:"commentNormal",value:function(){return e.get("comment-normal-container")}},{key:"post",value:function(){return e.get("post-content-container")}},{key:"readMore",value:function(){return e.get("post-content-read-more")}},{key:"userBanner",value:function(){return e.get("post-content-banner")}},{key:"singlesNext",value:function(){return e.get("js-singles-container")}},{key:"singlesMore",value:function(){return e.get("js-singles-more")}},{key:"signup",value:function(){return e.get("signup-container")}},{key:"login",value:function(){return e.get("login-form-container")}},{key:"logout",value:function(){return e.get("logout-form-container")}},{key:"password",value:function(){return e.get("reset_password-container")}},{key:"passwordResetting",value:function(){return e.get("reset_password-resetting-container")}},{key:"modal",value:function(){return e.get("modal-container")}},{key:"logoutModal",value:function(){return e.get("logout-modal-container")}},{key:"deactivateModal",value:function(){return e.get("deactivate-modal-container")}},{key:"flushModal",value:function(){return e.get("flush-modal-container")}},{key:"userProfile",value:function(){return e.get("mypage-profile-container")}},{key:"userProfileEx",value:function(){return e.get("mypage-profile-container-extend")}},{key:"nav",value:function(){return e.get("global-nav-container")}},{key:"navInner",value:function(){return e.get("gnav-sec-inner")}},{key:"navList",value:function(){return e.get("gnav-sec-list")}},{key:"settings",value:function(){return e.get("setting-form-container")}},{key:"adRanking",value:function(){return e.get("sponsor-link-ranking")}},{key:"adVideo",value:function(){return e.get("sponsor-link-recommend")}},{key:"adRanking2",value:function(){return e.get("sponsor-link-ranking-2")}},{key:"adVideo2",value:function(){return e.get("sponsor-link-recommend-2")}},{key:"bodySection",value:function(){return e.get("body-section")}},{key:"moreExternal",value:function(){return e.get("readMore-external")}},{key:"jsExe",value:function(){return e.get("js-exe")}},{key:"categoryLabel",value:function(){var t=e.jsExe();return null===t?"":t.dataset.label}},{key:"appBanner",value:function(){return e.get("js-header-appbnr-container")}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;var s=n(57),r=i(s),a=n(87),o=i(a),l=n(70),u=i(l),c=n(2),d=i(c),f=n(3),p=i(f),h=n(75),m=i(h),g=n(76),y=i(g),v=n(7),E=i(v),_=n(81),k=n(91),S=(0,E["default"])(),b=null;t.Router=function(e){function t(e){var n;if((0,d["default"])(this,t),S!==e)throw new Error("Router is static Class. not use new Router(). instead Router.factory()");if(null===b){var i=(0,m["default"])(this,(0,u["default"])(t).call(this));i.init(S),b=i}return n=b,(0,m["default"])(i,n)}return(0,y["default"])(t,e),(0,p["default"])(t,[{key:"init",value:function(e){if(S!==e)throw new Error("init is private method.");var t=this;this._rule={"/":t.index.bind(t),"/category/":t.category.bind(t),"/p/":t.single.bind(t),"/a/":t.single.bind(t),"/search/":t.search.bind(t),"/search":t.search.bind(t),"/signup_login/":t.signupLogin.bind(t),"/signup_login":t.signupLogin.bind(t),"/signup/":t.signup.bind(t),"/signup":t.signup.bind(t),"/login/":t.login.bind(t),"/login":t.login.bind(t),"/logout/":t.logout.bind(t),"/logout":t.logout.bind(t),"/reset_password/":t.password.bind(t),"/mypage/":t.mypage.bind(t),"/mypage":t.mypage.bind(t),"/notifications/":t.notifications.bind(t),"/notifications":t.notifications.bind(t),"/settings/":t.settings.bind(t),"/settings":t.settings.bind(t)}}},{key:"route",value:function(){var e=this._rule,t=k.Loc.path,n=t.length,i=!1;if(1!==n){for(var s in e)if(e.hasOwnProperty(s)){var r=s.length;if(1!==r&&t.substr(0,r)===s){e[s](),i=!0;break}}}else this.index(),i=!0;i||this.page404(t)}},{key:"page404",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];this.dispatch({type:t.NOT_FOUND,where:e})}},{key:"authorityError",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];this.dispatch({type:t.AUTHORITY_ERROR,where:e})}},{key:"index",value:function(){this.dispatch({type:t.INDEX})}},{key:"category",value:function(){var e=k.Loc.path.replace(/\/category\/|\/category/gi,"").split("/"),n=(0,o["default"])(e,2),i=n[0],s=n[1];-1!==i.indexOf(".html")&&(i=""),""===i&&(i="all"),this.dispatch({type:t.CATEGORY,slug:i,slugType:s})}},{key:"single",value:function(){var e=k.Loc.path.replace("/p/","").split("/"),n=(0,o["default"])(e,4),i=n[0],s=n[1],a=n[2],l=n[3];if(i&&(0,r["default"])(parseInt(i,10)))"comment"===s?this.comment(i,a,l):this.dispatch({type:t.SINGLE,id:i});else{var u=k.Loc.path.replace("/a/","").split("/"),c=(0,o["default"])(u,4),d=c[0],f=c[1],p=c[2],h=c[3];d&&(0,r["default"])(parseInt(d,10))?"comment"===f?this.comment(d,p,h):this.dispatch({type:t.SINGLE,id:d}):this.page404("single")}}},{key:"comment",value:function(e,n,i){n&&(0,r["default"])(parseInt(n,10))?i&&(0,r["default"])(parseInt(i,10))?this.dispatch({type:t.COMMENT_REPLY,article:e,comment:n,reply:i}):this.dispatch({type:t.COMMENT,article:e,comment:n,reply:i}):this.page404("comment")}},{key:"search",value:function(){var e=k.Loc.path.replace(/\/search\/|\/search/gi,"").split("/"),n=(0,o["default"])(e,1),i=n[0];i?this.dispatch({type:t.SEARCH,keyword:i}):this.dispatch({type:t.SEARCH,keyword:""})}},{key:"signup",value:function(){this.dispatch({type:t.SIGNUP})}},{key:"signupLogin",value:function(){this.dispatch({type:t.SIGNUP_LOGIN})}},{key:"login",value:function(){this.dispatch({type:t.LOGIN})}},{key:"logout",value:function(){this.dispatch({type:t.LOGOUT})}},{key:"password",value:function(){var e=k.Loc.path.replace(/\/reset_password\/|\/reset_password/gi,"").split("/"),n=(0,o["default"])(e,1),i=n[0];"resetting"===i?this.passwordResetting():this.dispatch({type:t.RESET_PASSWORD})}},{key:"passwordResetting",value:function(){this.dispatch({type:t.RESET_PASSWORD_RESETTING})}},{key:"mypage",value:function(){var e=k.Loc.path.replace(/\/mypage\/|\/mypage/gi,"").split("/"),n=(0,o["default"])(e,1),i=n[0];"activities"===i?this.activities():this.dispatch({type:t.MYPAGE})}},{key:"activities",value:function(){this.dispatch({type:t.MYPAGE_ACTIVITIES})}},{key:"notifications",value:function(){this.dispatch({type:t.NOTIFICATIONS})}},{key:"settings",value:function(){var e=k.Loc.path.replace(/\/settings\/|\/settings/gi,"").split("/"),n=(0,o["default"])(e,1),i=n[0];switch(i){case"interest":this.interest();break;case"social":this.social();break;case"deactivate":this.deactivate();break;default:this.dispatch({type:t.SETTING})}}},{key:"interest",value:function(){this.dispatch({type:t.SETTING_INTEREST})}},{key:"social",value:function(){this.dispatch({type:t.SETTING_SOCIAL})}},{key:"deactivate",value:function(){this.dispatch({type:t.SETTING_DEACTIVATE})}}],[{key:"factory",value:function(){return null===b&&(b=new t(S)),b}},{key:"NOT_FOUND",get:function(){return"routeNotFound"}},{key:"AUTHORITY_ERROR",get:function(){return"routeAuthorityError"}},{key:"INDEX",get:function(){return"routeIndex"}},{key:"CATEGORY",get:function(){return"routeCategory"}},{key:"SINGLE",get:function(){return"routeSingle"}},{key:"COMMENT",get:function(){return"routeComment"}},{key:"COMMENT_REPLY",get:function(){return"routeCommentReply"}},{key:"SEARCH",get:function(){return"routeSearch"}},{key:"SIGNUP_LOGIN",get:function(){return"routeSignupLogin"}},{key:"SIGNUP",get:function(){return"routeSignup"}},{key:"SIGNUP_ACCOUNT",get:function(){return"routeSignupAccount"}},{key:"SIGNUP_INTEREST",get:function(){return"routeSignupInterest"}},{key:"LOGIN",get:function(){return"routeLogin"}},{key:"LOGOUT",get:function(){return"routeLogout"}},{key:"RESET_PASSWORD",get:function(){return"routeResetPassword"}},{key:"RESET_PASSWORD_RESETTING",get:function(){return"routeResetPasswordResetting"}},{key:"MYPAGE",get:function(){return"routeMypage"}},{key:"MYPAGE_ACTIVITIES",get:function(){return"routeMypageActivities"}},{key:"NOTIFICATIONS",get:function(){return"routeNotifications"}},{key:"SETTING",get:function(){return"routeSetting"}},{key:"SETTING_INTEREST",get:function(){return"routeSettingInterest"}},{key:"SETTING_SOCIAL",get:function(){return"routeSettingSocial"}},{key:"SETTING_DEACTIVATE",get:function(){return"routeSettingDeactivate"}}]),t}(_.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(88),r=i(s),a=n(42),o=i(a);t["default"]=function(){function e(e,t){var n=[],i=!0,s=!1,r=void 0;try{for(var a,l=(0,o["default"])(e);!(i=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(u){s=!0,r=u}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if((0,r["default"])(Object(t)))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,n){e.exports={"default":n(89),__esModule:!0}},function(e,t,n){n(44),n(51),e.exports=n(90)},function(e,t,n){var i=n(56),s=n(23)("iterator"),r=n(48);e.exports=n(15).isIterable=function(e){var t=Object(e);return void 0!==t[s]||"@@iterator"in t||r.hasOwnProperty(i(t))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Loc=void 0;var s=n(42),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(92),d=n(41);t.Loc=function(){function e(){(0,o["default"])(this,e),this._search=null}return(0,u["default"])(e,[{key:"parse",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return t=d.Safety.string(t,""),this._search=e.parse(t),this}},{key:"find",value:function(e){var t=this._search;return null===t?null:t[e]}}],[{key:"hashClean",value:function(){e.hash="";var t=e.path,n=t.lastIndexOf("#");-1!==n&&(e.path=t.substring(0,n-1))}},{key:"hashStrip",value:function(){var t=arguments.length<=0||void 0===arguments[0]?e.hash:arguments[0];return t=d.Safety.string(t,e.hash),t.replace(/^[#\/]|\s+$/g,"")}},{key:"resolve",value:function(){var t=arguments.length<=0||void 0===arguments[0]?e.path:arguments[0];return t=d.Safety.string(t,e.path),t.split("/")}},{key:"parse",value:function(){var t=arguments.length<=0||void 0===arguments[0]?e.search:arguments[0];if(t=d.Safety.string(t,e.search),"string"!=typeof t||0===t.length)return null;t=t.replace("&amp;","&");var n=t.split("&"),i={},s=!0,a=!1,o=void 0;try{for(var l,u=(0,r["default"])(n);!(s=(l=u.next()).done);s=!0){var c=l.value,f=c.split("=");Array.isArray(f)&&2===f.length&&(i[f[0]]=f[1])}}catch(p){a=!0,o=p}finally{try{!s&&u["return"]&&u["return"]()}finally{if(a)throw o}}return i}},{key:"isLocal",value:function(){var t=e.host;return 0===t.indexOf("192.168")||0===t.indexOf("0.0.0.0")||0===t.indexOf("localhost")||0===t.indexOf("127.0.0.1")}},{key:"index",value:function(){e.current=c.Url.index()}},{key:"current",get:function(){return self.location.href},set:function(e){self.location.href=e}},{key:"path",get:function(){return self.location.pathname},set:function(e){self.location.pathname=e}},{key:"hash",get:function(){return self.location.hash},set:function(e){self.location.hash=e}},{key:"search",get:function(){return self.location.search.substring(1)}},{key:"host",get:function(){return self.location.host}},{key:"hostname",get:function(){return self.location.hostname}},{key:"port",get:function(){return self.location.port}},{key:"protocol",get:function(){return location.protocol}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Url=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=self.Sagen.Browser;t.Url=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"index",value:function(){return"/"}},{key:"category",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"all":arguments[0];return e.CATEGORY.replace(e.CATEGORY_SLUG,t)}},{key:"ranking",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"all":arguments[0];return e.CATEGORY.replace(e.CATEGORY_SLUG,t)+"ranking/"}},{key:"video",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"all":arguments[0];return e.CATEGORY.replace(e.CATEGORY_SLUG,t)+"video/"}},{key:"search",value:function(e){return"/search/"+e}},{key:"signup",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t="/signup/";switch(e){case"account":return t+"account";case"interest":return t+"interest";case"":return t;default:return t}}},{key:"signupHash",value:function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];switch(e){case 2:return"account";case 3:return"interest";case 1:return"";default:return""}}},{key:"signupStepByHash",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];switch(e){case"#account":return 2;case"#interest":return 3;case"#":case"":return 1;default:return 1}}},{key:"login",value:function(){return"/login/"}},{key:"logout",value:function(){return"/logout/"}},{key:"signupLogin",value:function(){return"/signup_login/"}},{key:"password",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t="/reset_password/";switch(e){case"resetting":return t+"resetting";case"":return t;default:return t}}},{key:"mypage",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t="/mypage/";switch(e){case"activities":return t+"activities";case"":return t;default:return t}}},{key:"notifications",value:function(){return"/notifications/"}},{key:"settings",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t="/settings/";switch(e){case"interest":return t+"interest";case"social":return t+"social";case"deactivate":return t+"deactivate";case"":return t;default:return t}}},{key:"about",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t="/about/";switch(e){case"company":return t+"company";case"privacy":return t+"privacy";case"terms":return t+"terms";case"faq":return t+"faq";case"ads":return t+"ads";case"contact":return t+"contact";case"":return t;default:return t}}},{key:"appBanner",value:function(){return l.iOS.is()?"https://itunes.apple.com/jp/app/undotsushin/id1086719653?l=ja&ls=1&mt=8":l.Android.is()?"https://play.google.com/store/apps/details?id=com.undotsushin":null}},{key:"synExtension",value:function(){return"/assets/js/syn.extension-recommend_articles.js"}},{key:"soDmp",value:function(){return"//i.socdm.com/s/so_dmp.js?service_id=un_sports"}},{key:"popin",value:function(){return"/assets/js/pc_popin-recommend.js"}},{key:"CATEGORY_SLUG",get:function(){return"__SLUG__"}},{key:"CATEGORY",get:function(){return"/category/"+e.CATEGORY_SLUG+"/"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Offset=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.Offset=function(){function e(t){(0,r["default"])(this,e),this._element=t}return(0,o["default"])(e,[{key:"offset",value:function(){return e.offset(this._element)}}],[{key:"offset",value:function(e){return e.getBoundingClientRect()}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Scroll=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=self.com.greensock,v=y.TweenLite,E=y.easing,_=(0,m["default"])("singleton Scroll instance"),k=null,S=!1;t.Scroll=function(e){function t(e){var n;if((0,o["default"])(this,t),_!==e)throw new Error("Scroll is singleton Class. not use new Scroll(). instead Scroll.factory()");if(null!==k){var i;return i=k,(0,d["default"])(s,i)}var s=(0,d["default"])(this,(0,r["default"])(t).call(this));return k=s,s.boundScroll=s.onScroll.bind(s),s.previous=-1,s.distance=0,s.direction=-1,n=k,(0,d["default"])(s,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){S||(S=!0,window.addEventListener("scroll",this.boundScroll,!1))}},{key:"stop",value:function(){S=!1,window.removeEventListener("scroll",this.boundScroll)}},{key:"onScroll",value:function(e){var n=this.previous,i=t.SCROLL,s=t.y,r=window.innerHeight,a=s+r,o=n-s,l=0!==o,u=Math.sqrt(o*o)/o;u!==this.direction&&(this.distance=0,this.direction=u);var c=this.distance+o;this.distance=c,this.previous=s,this.dispatch({type:i,originalEvent:e,y:s,height:r,bottom:a,moving:o,distance:c,changed:l})}},{key:"fire",value:function(){var e=this.previous,n=t.SCROLL,i=t.y,s=window.innerHeight,r=i+s,a=e-i,o=this.distance+a;this.distance=o,this.dispatch({type:n,y:i,height:s,bottom:r,moving:a,distance:o,originalEvent:null,changed:!0})}}],[{key:"motion",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?.5:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],i=arguments.length<=3||void 0===arguments[3]?E.Power3.easeOut:arguments[3],s=arguments.length<=4||void 0===arguments[4]?null:arguments[4],r=arguments.length<=5||void 0===arguments[5]?!1:arguments[5];null!==i&&"function"==typeof i||(i=E.Power3.easeOut),v.to(window,t,{scrollTo:{y:e,autoKill:r},delay:n,easing:i,onComplete:function(){"function"==typeof s&&s.call(this)}})}},{key:"sticky",value:function(){var e=arguments.length<=0||void 0===arguments[0]?.5:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=arguments.length<=3||void 0===arguments[3]?null:arguments[3],s=arguments.length<=4||void 0===arguments[4]?!0:arguments[4];return v.to(window,e,{scrollTo:{y:0,autoKill:s,onAutoKill:function(){"function"==typeof i&&i.call(this)}},delay:t,easing:E.Power3.easeOut,onStart:function(){"function"==typeof n&&n.call(this)},onComplete:function(){"function"==typeof i&&i.call(this)}})}},{key:"factory",value:function(){return null===k&&(k=new t(_)),k}},{key:"disable",value:function(){window.addEventListener("wheel",t.disableScroll,!1),window.addEventListener("mousewheel",t.disableScroll,!1),document.addEventListener("mousewheel",t.disableScroll,!1),window.addEventListener("touchmove",t.disableScroll,!1),document.addEventListener("keydown",t.keyDown,!1)}},{key:"enable",value:function(){var e=arguments.length<=0||void 0===arguments[0]?500:arguments[0];setTimeout(t.activate,e),k.fire()}},{key:"disableScroll",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"keyDown",value:function(e){var t=e.keyCode;-1!==[37,38,39,40].indexOf(t)&&(e.preventDefault(),e.stopPropagation())}},{key:"activate",value:function(){window.removeEventListener("wheel",t.disableScroll),window.removeEventListener("mousewheel",t.disableScroll),document.removeEventListener("mousewheel",t.disableScroll),window.removeEventListener("touchmove",t.disableScroll),document.removeEventListener("keydown",t.keyDown),k.distance=0}},{key:"SCROLL",get:function(){return"scrollScroll"}},{key:"y",get:function(){return"undefined"!=typeof window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},set:function(e){setTimeout(function(){window.scrollTo(0,e)},0)}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Ajax=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(96),u=n(97),c=n(98);t.Ajax=function(){function e(){(0,r["default"])(this,e),this._can=!0}return(0,o["default"])(e,[{key:"start",value:function(e,t,n,i){var s=arguments.length<=4||void 0===arguments[4]?u.Result:arguments[4],r=arguments.length<=5||void 0===arguments[5]?null:arguments[5],a=arguments.length<=6||void 0===arguments[6]?null:arguments[6],o=self.fetch,d=this;if(!this.can){var f=new Error("status:999, message:duplicate or busy.");
return f.response={},f.number=999,void i(f)}this.disable();var p={method:t,cache:"no-cache",credentials:"same-origin"};null!==a&&"undefined"!=typeof a&&(p.body=a),null!==r&&"undefined"!=typeof r&&(p.headers=r),o(e,p).then(function(e){var t=e.status;if(t>=200&&300>t)return e;var n=new Error("status:"+t+", message:"+e.statusText);throw n.result=new s(e.json()),n.status=new c.StatusDae(t),n}).then(function(e){return e.json()}).then(function(e){var t=new s(e);if(!l.Codes.status(t.status.code)){var i=t.status.code,r=new Error("status:"+i+", user:"+t.status.user_message+", dev:"+t.status.developer_message);throw r.result=t,r.status=new c.StatusDae(t.status),r}d.enable(),n(t)})["catch"](function(e){d.enable(),i(e)})}},{key:"enable",value:function(){this._can=!0}},{key:"disable",value:function(){this._can=!1}},{key:"can",get:function(){return this._can}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Codes=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c={200:"OK",201:"Created",202:"Accepted",204:"No Content",400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",409:"Conflict",415:"Unsupported Media Type",429:"Too Many Requests",500:"Internal Server Error",502:"Service Unavailable"},d={200:"成功",201:"新しいリソースを作成した",202:"リクエストを受け付けた",204:"内容なし",400:"エラー",401:"認証エラー",403:"アクセス禁止",404:"リソースが存在しない",405:"メソッドが間違っている",409:"リソースが競合している",415:"指定されたメディアタイプがサポートされていない",429:"リクエストの回数制限に引っかかる",500:"サーバ側の問題",502:"一時的にサービス出来ない"},f=(0,u["default"])();t.Codes=function(){function e(t){if((0,r["default"])(this,e),f!==t)throw new Error("Codes is static Class. not use new Codes().")}return(0,o["default"])(e,null,[{key:"status",value:function(e){return e>=200&&300>e}},{key:"message",value:function(t){return{en:e.en(t),jp:e.jp(t)}}},{key:"jp",value:function(e){return d[e]}},{key:"en",value:function(e){return c[e]}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Result=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.Result=function(){function e(t){(0,r["default"])(this,e),this._json=t}return(0,o["default"])(e,[{key:"data",get:function(){return this._json}},{key:"response",get:function(){return this.data.response}},{key:"articles",get:function(){var e=this.response,t=void 0;return e&&e.hasOwnProperty("articles")&&Array.isArray(e.articles)&&(t=e.articles),t}},{key:"total",get:function(){var e=this.response;return e&&e.count?parseInt(e.count,10):0}},{key:"count",get:function(){return this.total}},{key:"status",get:function(){return this.data.status}},{key:"request",get:function(){return this.data.request}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.StatusDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.StatusDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._status=t}return(0,o["default"])(e,[{key:"status",get:function(){return this._status}},{key:"code",get:function(){return this.status.code}},{key:"userMessage",get:function(){return this.status.user_message}},{key:"developerMessage",get:function(){return this.status.developer_message}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Model=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(81),m=n(41);t.Model=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,o["default"])(this,t),e=m.Safety.object(e);var n=(0,d["default"])(this,(0,r["default"])(t).call(this));return n._option=e,n._action=null,n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"executeSafely",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];var s=this.option;s.hasOwnProperty(e)&&"function"==typeof s[e]&&s[e].apply(this,n),this.dispatch({type:e,args:n})}},{key:"option",get:function(){return this._option},set:function(e){this._option=e}},{key:"action",get:function(){return this._action},set:function(e){this._action=e}}],[{key:"UNDEFINED_ERROR",get:function(){return"modelUndefinedError"}},{key:"EMPTY_ERROR",get:function(){return"modelEmptyError"}},{key:"RESPONSE_ERROR",get:function(){return"modelResponseError"}},{key:"COMPLETE",get:function(){return"modelComplete"}}]),t}(h.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(81),m=n(41);t.View=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t),n=m.Safety.object(n);var i=(0,d["default"])(this,(0,r["default"])(t).call(this));return i._element=e,i._option=n,i._action=null,i._home=!1,i.boundSafely=i.executeSafely.bind(i),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"executeSafely",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];var s=this.option;s.hasOwnProperty(e)&&"function"==typeof s[e]&&s[e].apply(this,n),this.dispatch({type:e,args:n})}},{key:"element",get:function(){return this._element},set:function(e){this._element=e}},{key:"option",get:function(){return this._option},set:function(e){this._option=e}},{key:"action",get:function(){return this._action},set:function(e){this._action=e}},{key:"home",get:function(){return this._home},set:function(e){this._home=e}}],[{key:"BEFORE_RENDER",get:function(){return"viewBeforeRender"}},{key:"WILL_MOUNT",get:function(){return"viewWillMount"}},{key:"DID_MOUNT",get:function(){return"viewDidMount"}},{key:"ERROR_MOUNT",get:function(){return"viewErrorMount"}},{key:"UNDEFINED_ERROR",get:function(){return"viewUndefinedError"}},{key:"EMPTY_ERROR",get:function(){return"viewEmptyError"}},{key:"RESPONSE_ERROR",get:function(){return"viewResponseError"}}]),t}(h.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewHeaderUser=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(102),g=n(92),y=n(67),v=n(69),E=self.React,_=self.ReactDOM;t.ViewHeaderUser=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));i._boundCallback=i.memberCallback.bind(i),i._member=null,i._sign=y.User.sign;var s=v.UserStatus.factory(),a=i.onSign.bind(i);return s.on(v.UserStatus.LOG_IN,a),s.on(v.UserStatus.LOG_OUT,a),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){if(y.User.sign){var e=this._member;null!==e&&this.dispose();var t=this._boundCallback;e=new m.ViewHeaderMember(this.element),this._member=e,e.on(h.View.BEFORE_RENDER,t),e.on(h.View.WILL_MOUNT,t),e.on(h.View.DID_MOUNT,t),e.on(h.View.ERROR_MOUNT,t),e.on(h.View.UNDEFINED_ERROR,t),e.on(h.View.EMPTY_ERROR,t),e.on(h.View.RESPONSE_ERROR,t),e.start()}else this.render(),this.dispose()}},{key:"render",value:function(){var e=this,t=E.createClass({displayName:"UserDom",render:function(){return E.createElement("div",{className:"user"},E.createElement("div",{className:"btn-signup"},E.createElement("a",{href:g.Url.signup()},"無料登録")," / ",E.createElement("a",{href:g.Url.login()},"ログイン")))},componentDidMount:function(){e.executeSafely(h.View.DID_MOUNT)}});_.render(E.createElement(t,null),this.element)}},{key:"memberCallback",value:function(e){var t=this._member,n=this._boundCallback;null!==t&&t.off(e.type,n),this.dispatch(e),e.type!==h.View.RESPONSE_ERROR&&e.type!==h.View.UNDEFINED_ERROR&&e.type!==h.View.EMPTY_ERROR||(this.dispose(),this.render())}},{key:"dispose",value:function(){var e=this._member;if(null!==e){var t=this._boundCallback;e.off(h.View.BEFORE_RENDER,t),e.off(h.View.WILL_MOUNT,t),e.off(h.View.DID_MOUNT,t),e.off(h.View.ERROR_MOUNT,t),e.off(h.View.UNDEFINED_ERROR,t),e.off(h.View.EMPTY_ERROR,t),e.off(h.View.RESPONSE_ERROR,t),this._member=null}}},{key:"onSign",value:function(e){var t=e.sign;t!==this._sign&&(this._sign=t,this.start())}},{key:"member",get:function(){return this._member}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewHeaderMember=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(103),g=n(104),y=n(92),v=n(67),E=n(107),_=n(139),k=(n(97),n(41)),S=n(120),b=n(91),T=(n(140),n(142)),P=n(143),R=n(144),N=self.React,M=self.ReactDOM;t.ViewHeaderMember=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return i.action=new _.UsersSelf(i.done.bind(i),i.fail.bind(i)),i._component=null,i._settingStatus=null,i._boundComplete=i.onComplete.bind(i),i._reloadFlag=!1,i._timer=0,i._boundReload=i.reload.bind(i),i._modal=null,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error(E.Message.undef("[MEMBER:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n)}else{var i=new S.UserDae(t);v.User.setInfo(i),this.render(i)}}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e)}},{key:"render",value:function(e){var t=e,n=this;this.executeSafely(h.View.BEFORE_RENDER,t);var i=N.createClass({displayName:"SettingDom",propTypes:{userName:N.PropTypes.string.isRequired,icon:N.PropTypes.string.isRequired},getInitialState:function(){return this.timer=0,this.modal=null,this.status=T.LogoutStatus.factory(),this.commentStatus=P.CommentStatus.factory(),this.refreshTimer=0,{open:"close",userName:this.props.userName,icon:this.props.icon}},render:function(){var e=this.state.userName,t=k.Safety.image(this.state.icon,g.Empty.USER_EMPTY),n=k.Safety.same(t,g.Empty.USER_EMPTY);return N.createElement("div",{className:"user"},N.createElement("div",{className:"notice-container",ref:"notice"}),N.createElement("div",{className:"preference "+this.state.open},N.createElement("a",{className:"preference-opener",href:"#",onClick:this.clickHandler},N.createElement("span",{className:"preference-avatar "+n},N.createElement("img",{src:g.Empty.refresh(t),alt:e}))),N.createElement("nav",{className:"preference-menu"},N.createElement("ul",{className:"dropMenu"},N.createElement("li",{className:"dropMenu-item"},N.createElement("a",{className:"dropMenu-link",href:y.Url.mypage()},"ブックマーク",N.createElement("br",null),"アクティビティ")),N.createElement("li",{className:"dropMenu-item"},N.createElement("a",{className:"dropMenu-link",href:y.Url.settings()},"設定")),N.createElement("li",{className:"dropMenu-item"},N.createElement("a",{className:"dropMenu-link",href:"#",onClick:this.logoutHandler},"ログアウト"))))))},componentDidMount:function(){n.executeSafely(h.View.DID_MOUNT),n.didMount();var e=M.findDOMNode(this.refs.notice),t=new m.ViewHeaderMemberNotice(e);t.start(),this.commentStatus.on(P.CommentStatus.COMMENT_DELETE_MODAL_OPEN,this.otherModalOpen)},componentWillUnmount:function(){this.destroy()},clickHandler:function(e){e.preventDefault(),this.toggleState()},bodyClick:function(){"open"===this.state.open&&(this.timer=setTimeout(this.toggleState,100))},toggleState:function(){this.destroy(),"close"===this.state.open?(this.setState({open:"open"}),document.body.addEventListener("click",this.bodyClick,!1)):this.setState({open:"close"})},destroy:function(){clearTimeout(this.timer),this.timer=0,document.body.removeEventListener("click",this.bodyClick)},activate:function(){document.body.addEventListener("click",this.bodyClick,!1)},logoutHandler:function(e){e.preventDefault(),e.stopPropagation(),this.destroy(),this.status.open(this.callbackOk,this.callbackCancel)},callbackOk:function(){v.User.logout(),b.Loc.index()},callbackCancel:function(){this.activate()},otherModalOpen:function(){"open"===this.state.open&&(this.destroy(),this.setState({open:"close"}))},updateUser:function(e,t){this.setState({icon:e,userName:t})}});this.reloadFlag&&(this.reloadFlag=!1,clearTimeout(this._timer),this._timer=setTimeout(this._boundReload,1e3)),null===this.component?this.component=M.render(N.createElement(i,{icon:t.profilePicture,userName:t.userName}),this.element):this.component.updateUser(t.profilePicture,t.userName)}},{key:"didMount",value:function(){var e=this._settingStatus;null===e&&(e=R.SettingsStatus.factory(),this._settingStatus=e,e.on(R.SettingsStatus.ACCOUNT_COMPLETE,this._boundComplete))}},{key:"reload",value:function(){clearTimeout(this._timer),this.start()}},{key:"onComplete",value:function(){clearTimeout(this._timer),this.reloadFlag=!0,this.start()}},{key:"component",get:function(){return this._component},set:function(e){this._component=e}},{key:"model",get:function(){return this._modal}},{key:"modal",set:function(e){this._modal=e}},{key:"reloadFlag",get:function(){return this._reloadFlag},set:function(e){this._reloadFlag=e}},{key:"timer",get:function(){return this._timer},set:function(e){this._timer=e}},{key:"boundReload",get:function(){return this._boundReload}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewHeaderMemberNotice=void 0;var s=n(57),r=i(s),a=n(70),o=i(a),l=n(2),u=i(l),c=n(3),d=i(c),f=n(75),p=i(f),h=n(76),m=i(h),g=n(100),y=n(104),v=n(105),E=n(92),_=n(106),k=n(107),S=n(108),b=n(117),T=(n(128),n(41)),P=(n(97),n(99)),R=n(129),N=n(132),M=n(133),w=self.React,C=self.ReactDOM;t.ViewHeaderMemberNotice=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,u["default"])(this,t);var i=(0,p["default"])(this,(0,o["default"])(t).call(this,e,n));return i.action=new S.Notice(i.done.bind(i),i.fail.bind(i),0,5),i._menu=null,i._status=null,i._boundNotice=i.onNoticeUpdate.bind(i),i}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"start",value:function(){this.action.next()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error(k.Message.undef("[MEMBER:NOTICE:UNDEFINED]"));this.executeSafely(g.View.UNDEFINED_ERROR,n)}else this.render(t)}},{key:"fail",value:function(e){this.executeSafely(g.View.RESPONSE_ERROR,e)}},{key:"render",value:function(e){var t=new b.NotificationsDae(e),n=this,i=w.createClass({displayName:"NoticeMessageDom",propTypes:{notice:w.PropTypes.object.isRequired},render:function(){var e=this.props.notice,t=e.action,n=v.NoticeAction.message(t);if(!t)return null;var i=e.user,s=e.article;return w.createElement("p",{className:"info-content"},i.userName+"さんがあなたの「"+s.title+"」へのコメントに",w.createElement("strong",null,n),"しました。")}}),s=w.createClass({displayName:"NoticeItemDom",propTypes:{notice:w.PropTypes.object.isRequired,index:w.PropTypes.number.isRequired},getInitialState:function(){return{notice:this.props.notice,index:this.props.index}},render:function(){var e=this.state.notice,t=T.Safety.image(e.user.profilePicture,y.Empty.USER_EMPTY),n=T.Safety.same(t,y.Empty.USER_EMPTY);switch(e.action){case"comment":case"reply":return w.createElement("li",{className:"info-item info-item-"+e.id},w.createElement("a",{href:e.article.reply.url,className:"info-link info-link-"+e.id,onClick:this.readedClick},w.createElement("figure",{className:"info-user-thumb "+n},w.createElement("img",{src:y.Empty.refresh(t),alt:""})),w.createElement(i,{notice:e}),w.createElement("p",{className:"info-date"},e.displayDate)));case"bad":case"good":return w.createElement("li",{className:"info-item info-item-"+e.id},w.createElement("a",{href:e.article.comments.url,className:"info-link info-link-"+e.id,onClick:this.readedClick},w.createElement("figure",{className:"info-user-thumb "+n},w.createElement("img",{src:t,alt:""})),w.createElement(i,{notice:e}),w.createElement("p",{className:"info-date"},e.displayDate)));case"notice":return w.createElement("a",{href:e.url,className:"info-link"},w.createElement("div",{className:"activity-content"},e.body),w.createElement("p",{className:"act-date"},e.displayDate));default:return null}},readedClick:function(){}}),a=w.createClass({displayName:"NoticeMenuDom",propTypes:{notifications:w.PropTypes.array.isRequired},getInitialState:function(){return{notifications:this.props.notifications}},render:function(){var e=this.props.notifications;return w.createElement("nav",{className:"notice-menu"},w.createElement("div",{className:"dropMenu"},w.createElement("div",{className:"info"},w.createElement("h2",{className:"info-heading"},"お知らせ"),w.createElement("div",{className:"info-btn-readAll"}," "),w.createElement("ul",{className:"info-list"},e.map(function(e,t){return w.createElement(s,{key:"notice-"+e.id,notice:e,index:t})}),w.createElement("li",{className:"btn-viewmore"},w.createElement("a",{className:"btn-viewmore-link",href:E.Url.notifications()},w.createElement("span",null,"すべて見る")))))))}}),o=w.createClass({displayName:"NoticeTotalDom",propTypes:{total:w.PropTypes.number.isRequired},getInitialState:function(){return this.polling=null,this.callback=null,this.model=null,this.status=null,{total:0}},render:function(){var e=this.state.total;return 0===e?null:w.createElement("span",{className:"notice-num"},e)},componentDidMount:function(){var e=this.callback;null===e&&(e={},this.callback=e,e[P.Model.COMPLETE]=this.done,e[P.Model.UNDEFINED_ERROR]=this.fail,e[P.Model.RESPONSE_ERROR]=this.fail),null===this.model&&(this.model=new R.ModelNoticeCount(e)),null===this.status&&(this.status=N.NoticeStatus.factory());var t=this.polling;null===t?(t=new M.Polling(_.Length.interval),this.polling=t,t.on(M.Polling.UPDATE,this.update),t.start(),this.model.start()):this.restart()},componentWillUnmount:function(){this.dispose()},dispose:function(){this.polling.off(M.Polling.UPDATE,this.update)},restart:function(){var e=this.polling;null!==e&&(e.off(M.Polling.UPDATE,this.update),e.on(M.Polling.UPDATE,this.update),e.setPolling(_.Length.interval))},update:function(){this.polling.off(M.Polling.UPDATE,this.update),this.model.start()},done:function(e){var t=e.count;(0,r["default"])(t)&&this.state.total!==t&&this.updateTotal(t),this.restart()},fail:function(){this.restart()},updateTotal:function(e){this.setState({total:e}),this.status.update(e)}}),l=w.createClass({displayName:"NoticeDom",propTypes:{response:w.PropTypes.object.isRequired},getInitialState:function(){return this.timer=0,{response:this.props.response,open:"close"}},render:function(){var e=this.state.response,t=T.Safety.array(e.notifications);return w.createElement("div",{className:"notice "+this.state.open},w.createElement("a",{href:"#",className:"notice-opener",onClick:this.clickHandler},w.createElement("i",{className:"notice-icon"}," "),w.createElement(o,{total:e.total})),w.createElement(a,{notifications:t}))},componentDidMount:function(){n.executeSafely(g.View.DID_MOUNT),n.onMount()},componentWillUnmount:function(){this.destroy(),n.dispose()},clickHandler:function(e){e.preventDefault(),this.toggleState()},bodyClick:function(){"open"===this.state.open&&(this.timer=setTimeout(this.toggleState,100))},toggleState:function(){this.destroy(),"close"===this.state.open?(this.setState({open:"open"}),document.body.addEventListener("click",this.bodyClick,!1)):this.setState({open:"close"})},destroy:function(){clearTimeout(this.timer),this.timer=0,document.body.removeEventListener("click",this.bodyClick)},updateResponse:function(e){this.setState({response:e})}});null===this._menu?this._menu=C.render(w.createElement(l,{response:t}),this.element):this._menu.updateResponse(t)}},{key:"dispose",value:function(){this.status.off(N.NoticeStatus.UPDATE_COUNT,this._boundNotice)}},{key:"onMount",value:function(){var e=N.NoticeStatus.factory();this._status=e,e.on(N.NoticeStatus.UPDATE_COUNT,this._boundNotice)}},{key:"onNoticeUpdate",value:function(e){0!==e.count&&this.reload()}},{key:"reload",value:function(){this._action.reload()}}]),t}(g.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Empty=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])();t.Empty=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("Empty is static Class. not use new Empty().")}return(0,o["default"])(e,null,[{key:"refresh",value:function(e){return e+"?"+Date.now()}},{key:"THUMB_EMPTY",get:function(){return"/assets/images/common/thumb-empty-100x100.png"}},{key:"IMG_SMALL",get:function(){return"/assets/images/common/thumb-noimage-70x70.png"}},{key:"IMG_MIDDLE",get:function(){return"/assets/images/common/thumb-noimage-16x9-s.png"}},{key:"IMG_LARGE",get:function(){return"/assets/images/common/thumb-pickup-empty.png"}},{key:"VIDEO_THUMBNAIL",get:function(){return"/assets/images/common/thumb-16x9.png"}},{key:"VIDEO_PLAY",get:function(){return"/assets/images/common/thumb-16x9-play.png"}},{key:"VIDEO_PICKUP_PLAY",get:function(){return"/assets/images/common/thumb-640x400-play.png"}},{key:"VIDEO_PLAY_SMALL",get:function(){return"/assets/images/common/thumb-16x9-play-s.png"}},{key:"VIDEO_PLAY_SMALL_1X1",get:function(){return"/assets/images/common/thumb-1x1-play-s.png"}},{key:"USER_PICTURE",get:function(){return"/assets/images/common/thumb-user.png"}},{key:"USER_PICTURE_FEATURE",get:function(){return"/assets/images/common/thumb-user-feature.png"}},{key:"USER_EMPTY",get:function(){return"/assets/images/common/thumb-user-empty.png"}},{key:"SETTING_AVATAR",get:function(){return"/assets/images/setting/thumb-avatar.png"}},{key:"KV_OVERLAY",get:function(){return"/assets/images/index/kv-overlay.png"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeAction=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])(),d={comment:"返信",reply:"返信",good:"Good",bad:"Bad",notice:"通知"};t.NoticeAction=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("NoticeAction is static Class. not use new NoticeAction().")}return(0,o["default"])(e,null,[{key:"message",value:function(e){return d[e]}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Length=void 0;var s=n(57),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=9999,d=5,f=5,p=5,h=16,m=10,g=999,y=6e4;t.Length=function(){function e(){(0,o["default"])(this,e)}return(0,u["default"])(e,null,[{key:"pickup",get:function(){return c},set:function(e){if(!(0,r["default"])(e))throw new Error("pickup: integer required. "+e);c=e}},{key:"headline",get:function(){return d},set:function(e){if(!(0,r["default"])(e))throw new Error("headline: integer required. "+e);d=e}},{key:"ranking",get:function(){return f},set:function(e){if(!(0,r["default"])(e))throw new Error("ranking: integer required. "+e);f=e}},{key:"spRanking",get:function(){return 10}},{key:"video",get:function(){return p},set:function(e){if(!(0,r["default"])(e))throw new Error("video: integer required. "+e);p=e}},{key:"archive",get:function(){return h},set:function(e){if(!(0,r["default"])(e))throw new Error("archive: integer required. "+e);h=e}},{key:"list",get:function(){return m},set:function(e){if(!(0,r["default"])(e))throw new Error("archive: integer required. "+e);m=e}},{key:"max",get:function(){return g}},{key:"interval",get:function(){return y},set:function(e){if(!(0,r["default"])(e))throw new Error("interval: integer required. "+e);y=e}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.Message=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"undef",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return""+t+e.NET_UNDEFINED}},{key:"empty",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return""+t+e.NET_EMPTY}},{key:"RANKING_TITLE",get:function(){return"人気の記事"}},{key:"VIDEOS_TITLE",get:function(){return"オススメ動画"}},{key:"RECOMMEND_TITLE",get:function(){return"オススメ記事"}},{key:"HEADLINE_TITLE",get:function(){return"ヘッドラインニュース"}},{key:"LATEST_TITLE",get:function(){return"新着記事"}},{key:"RELATED_TITLE",get:function(){return"関連記事"}},{key:"TAGS_TITLE",get:function(){return"TAGS"}},{key:"UNLOAD",get:function(){return"入力内容が取消しされます！"}},{key:"DELETE",get:function(){return"このコメントを削除しますか？"}},{key:"DELETE_WILL",get:function(){return"このコメントを削除する"}},{key:"DEACTIVATE",get:function(){return"退会を行うと、登録済みの情報は全て閲覧する事が出来なくなります。"}},{key:"LOGOUT",get:function(){return"ログアウトしますか？"}},{key:"BOOKMARK_WILL",get:function(){return"ブックマークする"}},{key:"BOOKMARK_DID",get:function(){return"ブックマーク解除"}},{key:"COMMENT_SUBMIT",get:function(){return"コメントを投稿"}},{key:"PLACEHOLDER_SEARCH",get:function(){return"記事を検索"}},{key:"SUBMIT_SEARCH",get:function(){return"検索"}},{key:"OPENER_SEARCH",get:function(){return"記事検索"}},{key:"PLACEHOLDER_EMAIL",get:function(){return"メールアドレスを入力"}},{key:"PLACEHOLDER_PWD",get:function(){return"パスワードを入力"}},{key:"PLACEHOLDER_NAME",get:function(){return"ユーザー名を入力"}},{key:"PLACEHOLDER_BIO",get:function(){return"肩書を入力 (任意)"}},{key:"PLACEHOLDER_PICTURE",get:function(){return"プロフィール写真選択"}},{key:"PLACEHOLDER_CHANGE_PICTURE",get:function(){return"写真を変更する"}},{key:"PLACEHOLDER_COMMENT",get:function(){return"コメントを書く"}},{key:"SUBMIT_LOGIN",get:function(){return"ログイン"}},{key:"SUBMIT_LOGOUT",get:function(){return"ログアウト"}},{key:"READ_MORE",get:function(){return"続きを読む"}},{key:"READ_MORE_EXTERNAL",get:function(){return"続きを読む(外部サイトへ)"}},{key:"WEBSITE",get:function(){return"ウェブサイト"}},{key:"BUTTON_CLOSE",get:function(){return"閉じる"}},{key:"BUTTON_YES",get:function(){return"はい"}},{key:"BUTTON_NO",get:function(){return"いいえ"}},{key:"BUTTON_CANCEL",get:function(){return"キャンセル"}},{key:"BUTTON_DELETE",get:function(){return"削除"}},{key:"BUTTON_DEACTIVATE",get:function(){return"退会"}},{key:"BUTTON_DEACTIVATE_TEXT",get:function(){return"スポーツブルから退会する"}},{key:"BUTTON_SAVE",get:function(){return"保存する"}},{key:"BUTTON_NEXT",get:function(){return"次へ"}},{key:"BUTTON_RESISTER",get:function(){return"登録する"}},{key:"BUTTON_VIEW_MORE",get:function(){return"VIEW MORE"}},{key:"PLEASE_MAKE_ACCOUNT",get:function(){return"アカウント作成 (無料)"}},{key:"SIGNUP_STEP_1",get:function(){return"基本情報設定"}},{key:"SIGNUP_STEP_2",get:function(){return"興味のある競技"}},{key:"SIGNUP_STEP_3",get:function(){return"完了"}},{key:"HERE_TO_LOGIN",get:function(){return"ログインはこちら"}},{key:"TITLE_ENTRY_MEMBER",get:function(){return"新規会員登録"}},{key:"TITLE_INTEREST_SPORTS",get:function(){return"興味のある競技を選択"}},{key:"LABEL_RECOMMEND",get:function(){return"おすすめ記事"}},{key:"LABEL_MOVIE",get:function(){return"動画"}},{key:"FAVORITE_SPORTS",get:function(){return"好きな競技"}},{key:"NET_UNDEFINED",get:function(){return"サーバーレスポンスに問題が発生しました。"}},{key:"NET_EMPTY",get:function(){return"レスポンスが空でした。"}},{key:"LOGIN_COMPLETE",get:function(){return"ログインしました。"}},{key:"DEACTIVATE_COMPLETE",get:function(){return"退会しました。"}},{key:"NEWS",get:function(){return"news"}},{key:"RANKING",get:function(){return"ranking"}},{key:"VIDEO",get:function(){return"video"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Notice=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(109),m=n(38),g=n(67),y=n(106);t.Notice=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],s=arguments.length<=3||void 0===arguments[3]?y.Length.list:arguments[3];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,g.User.token,m.Api.notice(""),e,n,i,s))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"reload",value:function(){this.reloadFlag=!0;var e=this._url+"?offset=0&length="+this.offset;this.ajax.start(e,this.method,this.boundSuccess,this.boundFail,this.resultClass,this.headers)}}]),t}(h.OffsetAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.OffsetAuth=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(110),m=n(106),g=n(116),y=n(41),v=n(97);n(39),t.OffsetAuth=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=arguments.length<=4||void 0===arguments[4]?0:arguments[4],l=arguments.length<=5||void 0===arguments[5]?m.Length.archive:arguments[5],u=arguments.length<=6||void 0===arguments[6]?v.Result:arguments[6];(0,o["default"])(this,t);var c=(0,d["default"])(this,(0,r["default"])(t).call(this,n,i,s,a,l,u));return c._headers=g.Token.token(e),c}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"next",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.method:arguments[0];this.hasNext()&&(e=y.Safety.string(e,this.method),this.ajax.start(this.url,e,this.boundSuccess,this.boundFail,this.resultClass,this.headers))}},{key:"headers",get:function(){return this._headers}}]),t}(h.Offset)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Offset=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(111),p=i(f),h=n(76),m=i(h),g=n(97),y=n(115),v=(n(39),n(106)),E=n(41);t.Offset=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?0:arguments[3],a=arguments.length<=4||void 0===arguments[4]?v.Length.archive:arguments[4],l=arguments.length<=5||void 0===arguments[5]?g.Result:arguments[5];(0,o["default"])(this,t);var u=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,i));return u._offset=s,u._length=a,u._total=-1,u._resultClass=l,u._reloadFlag=!1,u}return(0,m["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){arguments.length<=0||void 0===arguments[0]?this.method:arguments[0]}},{key:"next",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.method:arguments[0];this.hasNext()&&(e=E.Safety.string(e,this.method),this.ajax.start(this.url,e,this.boundSuccess,this.boundFail,this.resultClass))}},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this._length:arguments[0];this.offset+=e}},{key:"rest",value:function(){return this.total-this.offset}},{key:"hasNext",value:function(){return this.total<0?!0:this.offset<this.total}},{key:"success",value:function(e){this.reloadFlag?this.reloadFlag=!1:this.update(this.length),this.total=e.total,(0,p["default"])((0,r["default"])(t.prototype),"success",this).call(this,e)}},{key:"total",get:function(){return this._total},set:function(e){this._total=e}},{key:"length",get:function(){return this._length},set:function(e){this._length=e}},{key:"offset",get:function(){return this._offset},set:function(e){this._offset=e}},{key:"url",get:function(){return this._url+"?offset="+this.offset+"&length="+this.length}},{key:"reloadFlag",get:function(){return this._reloadFlag},set:function(e){this._reloadFlag=e}}]),t}(y.Action)},function(e,t,n){"use strict";var i=n(112)["default"];t["default"]=function(e,t,n){for(var s=!0;s;){var r=e,a=t,o=n;s=!1,null===r&&(r=Function.prototype);var l=i(r,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(o)}var c=Object.getPrototypeOf(r);
if(null===c)return;e=c,t=a,n=o,s=!0,l=c=void 0}},t.__esModule=!0},function(e,t,n){e.exports={"default":n(113),__esModule:!0}},function(e,t,n){var i=n(6);n(114),e.exports=function(e,t){return i.getDesc(e,t)}},function(e,t,n){var i=n(26);n(74)("getOwnPropertyDescriptor",function(e){return function(t,n){return e(i(t),n)}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(97),u=n(41),c=n(95);n(39),t.Action=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?l.Result:arguments[3];(0,r["default"])(this,e),this._types=t,this._resolve=n,this._reject=i,this._ajax=new c.Ajax,this._url=t.url,this._method=t.method,this._resultClass=s,this._boundSuccess=this.success.bind(this),this._boundFail=this.fail.bind(this)}return(0,o["default"])(e,[{key:"start",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.method:arguments[0];e=u.Safety.string(e,this.method),this.ajax.start(this.url,e,this.boundSuccess,this.boundFail,this.resultClass)}},{key:"success",value:function(e){var t=this._resolve;"function"==typeof t&&t(e)}},{key:"fail",value:function(e){var t=this._reject;"function"==typeof t&&t(e)}},{key:"url",get:function(){return this._url}},{key:"method",get:function(){return this._method}},{key:"types",get:function(){return this._types}},{key:"resolve",get:function(){return this._resolve}},{key:"reject",get:function(){return this._reject}},{key:"ajax",get:function(){return this._ajax}},{key:"boundSuccess",get:function(){return this._boundSuccess}},{key:"boundFail",get:function(){return this._boundFail}},{key:"resultClass",get:function(){return this._resultClass}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=n(41),d=(0,u["default"])(),f=function(){function e(t){if((0,r["default"])(this,e),d!==t)throw new Error("Api is static Class. not use new Api().")}return(0,o["default"])(e,null,[{key:"token",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return null===e||"undefined"==typeof e||""===e?null:(t=c.Safety.object(t),t.Authorization="OAuth realm=undotsushin.com, oautn_token="+e,t)}}]),e}();t.Token=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(118);t.NotificationsDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t);var n=t.notifications;n=l.Safety.array(n);var i=n.map(function(e){return new u.NoticeDae(e)});this._response=t,this._notifications=i}return(0,o["default"])(e,[{key:"response",get:function(){return this._response}},{key:"notifications",get:function(){return this._notifications}},{key:"total",get:function(){return this.response.count}},{key:"count",get:function(){return this.total}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(119),c=n(120),d=n(126);t.NoticeDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),l.Safety.check(t,"date")&&(this._formatDate=u.Format.date(t.date)),this._notice=t,this._user=new c.UserDae(t.user),this._article=new d.NoticeArticleDae(t.article)}return(0,o["default"])(e,[{key:"notice",get:function(){return this._notice}},{key:"id",get:function(){return this.notice.id}},{key:"date",get:function(){return this.notice.date}},{key:"formatDate",get:function(){return this._formatDate}},{key:"displayDate",get:function(){return this.notice.display_date}},{key:"action",get:function(){return this.notice.action}},{key:"user",get:function(){return this._user}},{key:"article",get:function(){return this._article}},{key:"body",get:function(){return this.notice.body}},{key:"url",get:function(){return this.notice.url}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Format=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])();t.Format=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("Format is static Class. not use new Format().")}return(0,o["default"])(e,null,[{key:"date",value:function(e){var t=e.match(/(\d+)\-(\d+)\-(\d+)T(\d+):(\d+):(\d+)?/);t.shift();var n=t.map(function(e){return parseInt(e,10)});return n[0]+"年"+n[1]+"月"+n[2]+"日"+n[3]+"時"+n[4]+"分"+n[5]+"秒"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(121),u=n(122),c=n(123),d=n(124),f=n(41);t.UserDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=f.Safety.object(t),this._user=t,this._type=new l.TypeDae(t.type),this._interest=new u.InterestDae(t.interest),this._banners=new d.BannersDae(t.banner),this._logo=new c.LogoDae(t.logo)}return(0,o["default"])(e,[{key:"user",get:function(){return this._user}},{key:"type",get:function(){return this._type}},{key:"id",get:function(){return this.user.id}},{key:"userName",get:function(){return f.Safety.string(this.user.name,"")}},{key:"profilePicture",get:function(){return f.Safety.string(this.user.profile_picture,"")}},{key:"url",get:function(){return f.Safety.string(this.user.url,"")}},{key:"bio",get:function(){return f.Safety.string(this.user.bio,"")}},{key:"email",get:function(){return f.Safety.string(this.user.email,"")}},{key:"accessToken",get:function(){return f.Safety.string(this.user.access_token,"")}},{key:"sessionToken",get:function(){return f.Safety.string(this.user.session_token,"")}},{key:"interest",get:function(){return this._interest}},{key:"banner",get:function(){return this._banners}},{key:"logo",get:function(){return this._logo}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.TypeDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._type=t}return(0,o["default"])(e,[{key:"type",get:function(){return this._type}},{key:"id",get:function(){return this.type.id}},{key:"label",get:function(){return this.type.label}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.InterestDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.InterestDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._interest=t}return(0,o["default"])(e,[{key:"interest",get:function(){return this._interest}},{key:"category",get:function(){var e=this.interest;return Array.isArray(e)||(e=[this.interest]),e}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LogoDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.LogoDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._logo=t}return(0,o["default"])(e,[{key:"logo",get:function(){return this._logo}},{key:"img",get:function(){return this.logo.img}},{key:"link",get:function(){return this.logo.link}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BannersDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(125),u=n(41);t.BannersDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=u.Safety.object(t);var n=u.Safety.object(t.pc),i=u.Safety.object(t.sp);this._pc=new l.BannerDae(n.text,n.image,n.link),this._sp=new l.BannerDae(i.text,i.image,i.link),this._banner=t}return(0,o["default"])(e,[{key:"banner",get:function(){return this._banner}},{key:"pc",get:function(){return this._pc}},{key:"sp",get:function(){return this._sp}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.BannerDae=void 0;var s=n(2),r=i(s);t.BannerDae=function a(e,t,n){(0,r["default"])(this,a),this.text=e,this.image=t,this.link=n}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeArticleDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(127);t.NoticeArticleDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._article=t,this._comment=new u.PopularDae(t.comment),this._comments=new u.PopularDae(t.comments),this._reply=new u.PopularDae(t.reply)}return(0,o["default"])(e,[{key:"article",get:function(){return this._article}},{key:"title",get:function(){return this.article.title}},{key:"url",get:function(){return this.article.url}},{key:"comment",get:function(){return this._comment}},{key:"comments",get:function(){return this._comments}},{key:"reply",get:function(){return this._reply}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PopularDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(119),c=n(120);t.PopularDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),l.Safety.check(t,"date")&&(this._formatDate=u.Format.date(t.date)),this._user=new c.UserDae(t.user),this._comment=t}return(0,o["default"])(e,[{key:"comment",get:function(){return this._comment}},{key:"id",get:function(){return this.comment.id}},{key:"date",get:function(){return this.comment.date}},{key:"formatDate",get:function(){return this._formatDate}},{key:"displayDate",get:function(){return this.comment.display_date}},{key:"body",get:function(){return this.comment.body}},{key:"bodyEscape",get:function(){return this.comment.body_escape}},{key:"isGood",get:function(){return this.isLike}},{key:"isLike",get:function(){return this.comment.is_like}},{key:"isBad",get:function(){return this.comment.is_bad}},{key:"good",get:function(){return this.comment.like}},{key:"like",get:function(){return this.good}},{key:"bad",get:function(){return this.comment.bad}},{key:"url",get:function(){return this.comment.url}},{key:"user",get:function(){return this._user}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeCountDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(98);n(97),t.NoticeCountDae=function(){function e(t){(0,r["default"])(this,e),this._result=t,this._response=t.response,this._status=new l.StatusDae(t.status)}return(0,o["default"])(e,[{key:"response",get:function(){return this._response}},{key:"status",get:function(){return this._status}},{key:"count",get:function(){return this.response.count}},{key:"total",get:function(){return this.count}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelNoticeCount=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=(n(97),n(130)),g=n(128);t.ModelNoticeCount=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.action=new m.NoticeCount(n.done.bind(n),n.fail.bind(n)),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_NOTICE_COUNT:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,new g.NoticeCountDae(e))}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeCount=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(131),p=n(38),h=n(67);t.NoticeCount=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,h.User.token,p.Api.notice("count"),e,n))}return(0,d["default"])(t,e),t}(f.ActionAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionAuth=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(115),m=n(67),g=n(116),y=n(41),v=n(97);n(39),t.ActionAuth=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=arguments.length<=4||void 0===arguments[4]?v.Result:arguments[4];if((0,o["default"])(this,t),!m.User.sign)throw new Error("Authorization required.");var l=(0,d["default"])(this,(0,r["default"])(t).call(this,n,i,s,a));return l._headers=g.Token.token(e),l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.method:arguments[0];e=y.Safety.string(e,this.method),this.ajax.start(this.url,e,this.boundSuccess,this.boundFail,this.resultClass,this.headers)}},{key:"headers",get:function(){return this._headers}}]),t}(h.Action)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeStatus=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=(0,m["default"])(),v=null;t.NoticeStatus=function(e){function t(e){var n;if((0,o["default"])(this,t),y!==e)throw new Error("NoticeStatus is static Class. not use new NoticeStatus().");if(null===v){var i=(0,d["default"])(this,(0,r["default"])(t).call(this));v=i}return n=v,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"update",value:function(e){this.dispatch({type:t.UPDATE_COUNT,count:e})}}],[{key:"factory",value:function(){return null===v&&(v=new t(y)),v}},{key:"UPDATE_COUNT",get:function(){return"noticeUpdateCount"}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Polling=void 0;var s=n(134),r=i(s),a=n(70),o=i(a),l=n(2),u=i(l),c=n(3),d=i(c),f=n(75),p=i(f),h=n(76),m=i(h),g=n(7),y=i(g),v=n(81),E=n(138),_=(0,y["default"])("Polling singleton symbol"),k=(0,y["default"])("Cycle.UPDATE has watched flag"),S=(0,y["default"])("already called Fps.start flag"),b=(0,y["default"])("keep polling instance"),T=(0,y["default"])("Polling.UPDATE Events instance");t.Polling=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?1e3:arguments[0];(0,u["default"])(this,t);var n=(0,p["default"])(this,(0,o["default"])(t).call(this)),i=E.Cycle.factory();return(0,r["default"])(n,{cycle:i}),n[b]=e,n[_]=n.update.bind(n),n[k]=!1,n[S]=0,n[T]={type:t.UPDATE,target:n,currentTarget:n},n}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"turnOver",value:function(){return this[k]=!this[k],this.started}},{key:"updateEvents",value:function(e,t){var n=this.events;return n.begin=e,n.present=t,n.polling=this.polling,n}},{key:"initCycle",value:function(){var e=this.cycle;return e.on(E.Cycle.UPDATE,this[_]),e.start(),e}},{key:"start",value:function(){return this.started?!1:(this.begin=Date.now(),this.turnOver(),this.initCycle(),!0)}},{key:"stop",value:function(){return this.started?(this.cycle.off(E.Cycle.UPDATE,this[_]),this.turnOver(),!0):!1}},{key:"update",value:function(){var e=Date.now(),t=this.polling,n=this.begin;return e-n>=t?(this.fire(this.updateEvents(n,e)),this.begin=e,!0):!1}},{key:"fire",value:function(e){this.dispatch(e)}},{key:"reset",value:function(){this.begin=Date.now()}},{key:"setPolling",value:function(e){return this.begin=Date.now(),this.polling=e,this}},{key:"changePolling",value:function(e){return this.setPolling(e)}},{key:"polling",get:function(){return this[b]},set:function(e){this[b]=e}},{key:"begin",get:function(){return this[S]},set:function(e){this[S]=e}},{key:"events",get:function(){return this[T]},set:function(e){this[T]=e}},{key:"started",get:function(){return this[k]}}],[{key:"UPDATE",get:function(){return"pollingUpdate"}}]),t}(v.EventDispatcher)},function(e,t,n){e.exports={"default":n(135),__esModule:!0}},function(e,t,n){n(136),e.exports=n(15).Object.assign},function(e,t,n){var i=n(14);i(i.S+i.F,"Object",{assign:n(137)})},function(e,t,n){var i=n(6),s=n(73),r=n(27);e.exports=n(13)(function(){var e=Object.assign,t={},n={},i=Symbol(),s="abcdefghijklmnopqrst";return t[i]=7,s.split("").forEach(function(e){n[e]=e}),7!=e({},t)[i]||Object.keys(e({},n)).join("")!=s})?function(e,t){for(var n=s(e),a=arguments,o=a.length,l=1,u=i.getKeys,c=i.getSymbols,d=i.isEnum;o>l;)for(var f,p=r(a[l++]),h=c?u(p).concat(c(p)):u(p),m=h.length,g=0;m>g;)d.call(p,f=h[g++])&&(n[f]=p[f]);return n}:Object.assign},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Cycle=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=(0,m["default"])("Cycle singleton SYmbol"),v=null,E=(0,m["default"])("requestAnimationFrame ID"),_=(0,m["default"])("bound update"),k=(0,m["default"])("has started requestAnimationFrame flag"),S=(0,m["default"])("Cycle.UPDATE Events instance");t.Cycle=function(e){function t(e){var n;if((0,o["default"])(this,t),e!==y)throw new Error("don't use new, instead use static factory method.");var i=(0,d["default"])(this,(0,r["default"])(t).call(this));if(null!==v){var s;return s=v,(0,d["default"])(i,s)}return v=i,i[S]={type:t.UPDATE,target:i,currentTarget:i},i[E]=0,i[_]=i.update.bind(i),i[k]=!1,n=v,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){return this[k]?!1:(this[k]=!0,this.update(),!0)}},{key:"stop",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this[E]:arguments[0];return this[k]?(cancelAnimationFrame(e),this[k]=!1,!0):!1}},{key:"update",value:function(){var e=requestAnimationFrame(this[_]);this[E]=e;var t=this.events;t.id=e,this.dispatch(t)}},{key:"events",get:function(){return this[S]}}],[{key:"factory",value:function(){return new t(y)}},{key:"UPDATE",get:function(){return"cycleUpdate"}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UsersSelf=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(131),p=n(38),h=n(67);t.UsersSelf=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,h.User.token,p.Api.users("self"),e,n))}return(0,d["default"])(t,e),t}(f.ActionAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewLogoutModal=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(141),g=n(142),y=self.ReactDOM;t.ViewLogoutModal=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return s._render=null,s._yes=n,s._no=i,s._status=g.LogoutStatus.factory(),s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render()}},{key:"render",value:function(){null===this._render&&(this._render=y.render(React.createElement(m.LogoutNode,{ok:this._yes,cancel:this._no}),this.element)),this._status.on(g.LogoutStatus.OPEN,this.onOpen.bind(this))}},{key:"open",value:function(){null!==this._render&&this._render.updateShow(!0)}},{key:"onOpen",value:function(){this.open()}},{key:"yes",set:function(e){this._yes=e}},{key:"no",set:function(e){this._no=e}}]),t}(h.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogoutNode=void 0;var i=n(107),s=n(67),r=n(91),a=n(142),o=self.React,l=self.com.greensock,u=l.TweenLite,c=l.easing;t.LogoutNode=o.createClass({displayName:"LogoutNode",propTypes:{ok:o.PropTypes.func,cancel:o.PropTypes.func,listen:o.PropTypes.bool},getDefaultProps:function(){return{ok:null,cancel:null,type:"logout",listen:!1}},getInitialState:function(){return this.status=null,this.ok=null,this.cancel=null,{show:!1,css:{opacity:0}}},render:function(){return this.state.show?o.createElement("div",{className:"modal-dialogue modal-dialogue_delete",ref:"modalContainer",style:this.state.css},o.createElement("div",{className:"modal-bg",onClick:this.cancelClick}),o.createElement("div",{className:"modal-dialogue-contents "+this.props.type},o.createElement("a",{href:"#",className:"modal-dialogue-close",onClick:this.cancelClick},i.Message.BUTTON_CLOSE),o.createElement("p",{className:"lead"},i.Message.LOGOUT),o.createElement("ul",{className:"btn-block"},o.createElement("li",{className:"btn-item"},o.createElement("a",{href:"#",className:"btn-link btn-link_cancel",onClick:this.cancelClick},i.Message.BUTTON_NO)),o.createElement("li",{className:"btn-item"},o.createElement("a",{href:"#",className:"btn-link btn-link_submit",onClick:this.okClick},i.Message.BUTTON_YES))))):null},componentDidMount:function(){if(this.props.listen){var e=a.LogoutStatus.factory();this.status=e,e.on(a.LogoutStatus.OPEN,this.onOpen),e.on(a.LogoutStatus.CLOSE,this.onClose)}},componentWillUnMount:function(){var e=this.status;null!==e&&(e.off(a.LogoutStatus.OPEN,this.onOpen),e.off(a.LogoutStatus.CLOSE,this.onClose),this.status=null)},cancelClick:function(e){e.preventDefault(),"function"==typeof this.cancel?this.cancel():"function"==typeof this.props.cancel&&this.props.cancel(),this.closeModal()},okClick:function(e){e.preventDefault(),"function"==typeof this.ok?this.ok():"function"==typeof this.props.ok?this.props.ok():(s.User.logout(),r.Loc.index()),this.closeModal(.5)},openModal:function(){var e={opacity:0},t=this;u.to(e,.5,{opacity:1,easing:c.Linear.easeNone,onUpdate:function(){t.setState({css:{opacity:e.opacity}})},onComplete:function(){t.setState({css:{opacity:1}})}})},closeModal:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t={opacity:1},n=this;u.to(t,.5,{delay:e,opacity:0,easing:c.Linear.easeNone,onUpdate:function(){n.setState({css:{opacity:t.opacity}})},onComplete:function(){n.setState({css:{opacity:0},show:!1})}})},updateShow:function(e){this.setState({show:e}),e&&this.openModal()},onOpen:function(e){this.ok=e.ok,this.cancel=e.cancel,this.updateShow(!0)},onClose:function(){this.ok=null,this.cancel=null}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LogoutStatus=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=(0,m["default"])(),v=null;t.LogoutStatus=function(e){function t(e){var n;if((0,o["default"])(this,t),y!==e)throw new Error("LogoutStatus is static Class. not use new LogoutStatus(). instead LogoutStatus.factory()");if(null===v){var i=(0,d["default"])(this,(0,r["default"])(t).call(this));v=i}return n=v,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"open",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];this.dispatch({type:t.OPEN,ok:e,cancel:n})}},{key:"close",value:function(){this.dispatch({type:t.CLOSE})}}],[{key:"factory",value:function(){return null===v&&(v=new t(y)),v}},{key:"OPEN",get:function(){return"logoutOpen"}},{key:"CLOSE",get:function(){return"logoutClose"}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentStatus=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=(0,m["default"])(),v=null;t.CommentStatus=function(e){function t(e){var n;if((0,o["default"])(this,t),y!==e)throw new Error("CommentStatus is static Class. not use new CommentStatus(). instead CommentStatus.factory()");if(null===v){var i=(0,d["default"])(this,(0,r["default"])(t).call(this));v=i}return n=v,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"fire",value:function(e,t){this.dispatch({type:e,commentId:t})}},{key:"remove",value:function(e,n){this.dispatch({commentId:e,articleId:n,type:t.COMMENT_DELETE})}},{key:"notice",value:function(e){this.fire(t.NOTICE,e)}},{key:"modal",value:function(e){this.fire(t.COMMENT_DELETE_MODAL_OPEN,e)}}],[{key:"factory",value:function(){return null===v&&(v=new t(y)),v}},{key:"GOOD_ADD",get:function(){return"goodAdd"}},{key:"GOOD_DELETE",get:function(){return"goodDelete"}},{key:"BAD_ADD",get:function(){return"badAdd"}},{key:"BAD_DELETE",get:function(){return"badDelete"}},{key:"COMMENT_DELETE",get:function(){return"commentDelete"}},{key:"NOTICE",get:function(){return"commentNotice"}},{key:"COMMENT_WILL_DELETE",get:function(){return"commentWillDelete"}},{key:"COMMENT_DELETE_MODAL_OPEN",get:function(){return"commentDeleteModalOpen"}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsStatus=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=(0,m["default"])(),v=null;t.SettingsStatus=function(e){function t(e){var n;if((0,o["default"])(this,t),y!==e)throw new Error("SettingsStatus is static Class. not use new SettingsStatus(). instead SettingsStatus.factory()");if(null===v){var i=(0,d["default"])(this,(0,r["default"])(t).call(this));v=i}return n=v,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,null,[{key:"factory",value:function(){return null===v&&(v=new t(y)),v}},{key:"ACCOUNT_COMPLETE",get:function(){return"settingsAccountComplete"}},{key:"ACCOUNT_ERROR",get:function(){return"settingsAccountError"}},{key:"INTEREST_COMPLETE",get:function(){return"settingsInterestComplete"}},{key:"INTEREST_ERROR",get:function(){return"settingsInterestError"}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewHeaderSearch=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(146),g=self.ReactDOM;t.ViewHeaderSearch=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e,n))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render()}},{key:"render",value:function(){g.render(React.createElement(m.HeaderSearchNode,null),this.element)}}]),t}(h.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderSearchNode=void 0;var i=n(92),s=n(107),r=n(147),a=n(148),o=self.React;t.HeaderSearchNode=o.createClass({displayName:"HeaderSearchNode",propTypes:{listen:o.PropTypes.bool,show:o.PropTypes.bool},getDefaultProps:function(){return{listen:!1,show:!0}},getInitialState:function(){return this.input=null,this.status=null,this.errors={keyword:new a.ErrorMessage},{focus:"",keyword:"",enable:"",error:!1,show:this.props.show}},render:function(){var e=this,t=function(t){return e.errors[t].error?"error":""};return this.state.show?o.createElement("div",{className:"head-search form-parts "+t("keyword")+" "+this.state.enable},o.createElement("form",{onSubmit:this.submitHandler},o.createElement("input",{type:"text",ref:"searchText",placeholder:s.Message.PLACEHOLDER_SEARCH,value:this.state.keyword,onChange:this.changeHandler,autoFocus:this.props.listen}),o.createElement("input",{type:"submit",value:s.Message.SUBMIT_SEARCH}))):null},componentDidMount:function(){if(this.props.listen&&null===this.status){var e=r.SearchStatus.factory();this.status=e,e.on(r.SearchStatus.OPEN,this.open),e.on(r.SearchStatus.CLOSE,this.close)}},componentWillUnMount:function(){if(null!==this.status){var e=this.status;e.off(r.SearchStatus.OPEN,this.open),e.off(r.SearchStatus.CLOSE,this.close)}},changeHandler:function(e){this.setState({keyword:e.target.value})},submitHandler:function(e){e.preventDefault(),this.reset(),""===this.state.keyword?(this.errors.keyword.message="***",this.setState({error:!0})):location.href=i.Url.search(this.state.keyword)},reset:function(){this.errors.keyword.reset(),this.setState({error:!1})},open:function(){this.reset(),this.setState({enable:"enable",show:!0})},close:function(){this.setState({enable:"",show:!1})}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchStatus=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=(0,m["default"])(),v=null;t.SearchStatus=function(e){function t(e){var n;if((0,o["default"])(this,t),y!==e)throw new Error("SearchStatus is static Class. not use new SearchStatus(). instead SearchStatus.factory()");if(null===v){var i=(0,d["default"])(this,(0,r["default"])(t).call(this));v=i}return n=v,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"open",value:function(){this.dispatch({type:t.OPEN})}},{key:"close",value:function(){this.dispatch({type:t.CLOSE})}}],[{key:"factory",value:function(){return null===v&&(v=new t(y)),v}},{key:"OPEN",get:function(){return"searchOpen"}},{key:"CLOSE",get:function(){return"searchClose"}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorMessage=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.ErrorMessage=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];(0,r["default"])(this,e),this._message=t}return(0,o["default"])(e,[{key:"reset",value:function(){this.message=""}},{key:"error",get:function(){return""!==this._message}},{key:"message",get:function(){return this._message},set:function(e){this._message=l.Safety.string(e,"")}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewCategory=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(150),p=n(152),h=n(153),m=n(181),g=n(67),y=n(41);t.ViewCategory=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,o["default"])(this,t);var a=(0,u["default"])(this,(0,r["default"])(t).call(this,n,i,null,s,!0)),l=y.Safety.string(e,"all");a.action=g.User.sign?new p.CategoryAuth(l,"",a.done.bind(a),a.fail.bind(a)):new f.Category(l,"",a.done.bind(a),a.fail.bind(a)),
a.slug=l;var c=new m.ComponentCategoryOption(e);return c.start(),a}return(0,d["default"])(t,e),t}(h.ViewArchiveMasonryInfinite)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Category=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(110),m=n(38),g=n(41),y=n(106),v=n(151);t.Category=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?"all":arguments[0],n=arguments.length<=1||void 0===arguments[1]?"":arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=arguments.length<=4||void 0===arguments[4]?0:arguments[4],l=arguments.length<=5||void 0===arguments[5]?y.Length.archive:arguments[5];(0,o["default"])(this,t),e=g.Safety.string(e,"all");var u=(0,d["default"])(this,(0,r["default"])(t).call(this,m.Api.category(),i,s,a,l));return u._slug=e,g.Safety.normalize(n,[v.ArchiveType.DEFAULT,v.ArchiveType.RANKING,v.ArchiveType.VIDEO,v.ArchiveType.RECOMMEND])||(n=""),u._type=n,u}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"slug",get:function(){return this._slug}},{key:"type",get:function(){return this._type}},{key:"url",get:function(){return""===this.type?this._url+"/"+this.slug+"?offset="+this.offset+"&length="+this.length:this._url+"/"+this.slug+"/"+this.type+"?offset="+this.offset+"&length="+this.length}}]),t}(h.Offset)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ArchiveType=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])();t.ArchiveType=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("ArchiveType is static Class. not use new ArchiveType().")}return(0,o["default"])(e,null,[{key:"DEFAULT",get:function(){return""}},{key:"RANKING",get:function(){return"ranking"}},{key:"VIDEO",get:function(){return"video"}},{key:"RECOMMEND",get:function(){return"recommend"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryAuth=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(109),m=n(38),g=n(41),y=n(67),v=n(106);t.CategoryAuth=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?"all":arguments[0],n=arguments.length<=1||void 0===arguments[1]?"":arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=arguments.length<=4||void 0===arguments[4]?0:arguments[4],l=arguments.length<=5||void 0===arguments[5]?v.Length.archive:arguments[5];(0,o["default"])(this,t),e=g.Safety.string(e,"all"),n=g.Safety.string(n,"");var u=(0,d["default"])(this,(0,r["default"])(t).call(this,y.User.token,m.Api.category(),i,s,a,l));return u._slug=e,u._type="",g.Safety.normalize(n,["","ranking","video"])&&(u._type=n),u}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"slug",get:function(){return this._slug}},{key:"type",get:function(){return this._type}},{key:"url",get:function(){return""===this.type?this._url+"/"+this.slug+"?offset="+this.offset+"&length="+this.length:this._url+"/"+this.slug+"/"+this.type+"?offset="+this.offset+"&length="+this.length}}]),t}(h.OffsetAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewArchiveMasonryInfinite=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(107),m=n(100),g=(n(97),n(41)),y=n(154),v=n(163),E=n(179),_=n(94),k=n(176),S=n(177),b=self.ReactDOM;t.ViewArchiveMasonryInfinite=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=arguments.length<=4||void 0===arguments[4]?!0:arguments[4];(0,o["default"])(this,t),s=g.Safety.object(s);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,e,s));return"function"==typeof i&&(l.action=new i(l.done.bind(l),l.fail.bind(l))),l._moreElement=n,l._articles=[],l._useMasonry=!!a,l._articleRendered=null,l._moreRendered=null,l._request=null,l._slug="all",l._gaSend=!1,l.boundMore=l.moreButton.bind(l),l.afterClick=!1,l.scroll=_.Scroll.factory(),l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.next()}},{key:"done",value:function(e){var t=e.articles;if("undefined"==typeof t){var n=new Error(h.Message.undef("[ARCHIVE:UNDEFINED]"));this.executeSafely(m.View.UNDEFINED_ERROR,n),this.moreButton(!1)}else if(0===t.length){var i=new Error(h.Message.empty("[ARCHIVE:EMPTY]"));this.executeSafely(m.View.EMPTY_ERROR,i),this.moreButton(!1)}else this.request=e.request,this.render(t)}},{key:"fail",value:function(e){this.executeSafely(m.View.RESPONSE_ERROR,e),this.moreButton&&this.moreButton(!1)}},{key:"showError",value:function(){arguments.length<=0||void 0===arguments[0]?"":arguments[0]}},{key:"render",value:function(e){var t=this.articles,n=this.articles.length,i=this.element;this.executeSafely(m.View.BEFORE_RENDER,t),e.forEach(function(e,i){var s=new y.ArticleDae(e);s.index=n+i,t.push(s)}),null===this.articleRendered?(this.articleRendered=b.render(React.createElement(v.ComponentArticlesMasonryInfinite,{list:t,home:this.home,offset:this.request.offset,length:this.request.length,action:this.action,callback:this.executeSafely.bind(this),boundMore:this.moreButton.bind(this),masonry:this.useMasonry}),i),this.home?k.Ga.add(new S.GaData("ViewArchiveMasonryInfinite.render","home_articles","view - new",String(1),0,!0)):k.Ga.add(new S.GaData("ViewArchiveMasonryInfinite.render",this.slug+"_articles","view - new",String(1),0,!0))):this.articleRendered.updateList(t,this.request.offset,this.request.length)}},{key:"moreButton",value:function(e){var t=this.moreElement;e&&(null===this.moreRendered?this.moreRendered=b.render(React.createElement(E.ComponentMoreButton,{show:e,action:this.action,element:t,home:this.home,slug:this.slug,afterClick:this.afterClick}),t):this.moreRendered.updateShow(e),this.scroll.fire())}},{key:"moreElement",get:function(){return this._moreElement}},{key:"slug",get:function(){return this._slug},set:function(e){this._slug=e}},{key:"articlesList",get:function(){return this._articles}},{key:"gaSend",get:function(){return this._gaSend},set:function(e){this._gaSend=e}},{key:"useMasonry",get:function(){return this._useMasonry}},{key:"articleRendered",get:function(){return this._articleRendered},set:function(e){this._articleRendered=e}},{key:"moreRendered",get:function(){return this._moreRendered},set:function(e){this._moreRendered=e}},{key:"request",get:function(){return this._request},set:function(e){this._request=e}},{key:"articles",get:function(){return this._articles},set:function(e){this._articles=e}}]),t}(m.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(119),c=n(155),d=n(120),f=n(160),p=n(161);t.ArticleDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._article=t,this._categories=new p.CategoriesDae(t),this._media=new c.MediaDae(t.media),this._user=new d.UserDae(t.user),this._popular=new f.CommentsPopularDae(t.comments_popular);var n=parseInt(t.comments_count,10);n=l.Safety.integer(n,0),this._commentsCount=n,l.Safety.check(t,"date")&&(this._formatDate=u.Format.date(t.date)),this._index=-1}return(0,o["default"])(e,[{key:"index",get:function(){return this._index},set:function(e){this._index=e}},{key:"article",get:function(){return this._article}},{key:"categories",get:function(){return this._categories}},{key:"commentsCount",get:function(){return this.commentsTotal}},{key:"commentsTotal",get:function(){return this._commentsCount}},{key:"commentsPopular",get:function(){return this._popular}},{key:"date",get:function(){return this.article.date}},{key:"formatDate",get:function(){return this._formatDate}},{key:"displayDate",get:function(){return this.article.display_date}},{key:"description",get:function(){return this.article.description}},{key:"id",get:function(){return this.article.id}},{key:"isBookmarked",get:function(){return this.article.is_bookmarked}},{key:"isRecommend",get:function(){return this.article.is_recommend}},{key:"isNew",get:function(){return this.article.is_new}},{key:"media",get:function(){return this._media}},{key:"mediaType",get:function(){return this.article.media_type}},{key:"title",get:function(){return this.article.title}},{key:"url",get:function(){return this.article.url}},{key:"user",get:function(){return this._user}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MediaDae=void 0;var s=n(42),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(156),d=n(157),f=n(41);t.MediaDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if((0,o["default"])(this,e),t=f.Safety.object(t),this._media=t,this._list=[],Array.isArray(t.images)){var n=!0,i=!1,s=void 0;try{for(var a,l=(0,r["default"])(t.images);!(n=(a=l.next()).done);n=!0){var u=a.value;this._list.push(new c.ImagesDae(u))}}catch(p){i=!0,s=p}finally{try{!n&&l["return"]&&l["return"]()}finally{if(i)throw s}}}else this._images=new c.ImagesDae(t.images),this._list.push(this._images);this._video=new d.VideoDae(t.video)}return(0,u["default"])(e,[{key:"media",get:function(){return this._media}},{key:"images",get:function(){return this._images}},{key:"video",get:function(){return this._video}},{key:"list",get:function(){return this._list}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImagesDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.ImagesDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._images=t}return(0,o["default"])(e,[{key:"images",get:function(){return this._images}},{key:"caption",get:function(){return this.images.caption}},{key:"large",get:function(){return this.images.large}},{key:"medium",get:function(){return this.images.medium}},{key:"thumbnail",get:function(){return this.images.thumbnail}},{key:"original",get:function(){return this.images.original}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VideoDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(158),c=n(159);t.VideoDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._video=t,this._url=new u.UrlDae(t.url),this._adUrl=new c.AdUrl(t.ad_url)}return(0,o["default"])(e,[{key:"video",get:function(){return this._video}},{key:"caption",get:function(){return this.video.caption}},{key:"url",get:function(){return this._url}},{key:"youtube",get:function(){return this.video.youtube}},{key:"facebook",get:function(){return this.video.facebook}},{key:"type",get:function(){return this.video.type}},{key:"player",get:function(){return this.video.player}},{key:"vast",get:function(){return l.Safety.string(this.video.vast,"")}},{key:"adUrl",get:function(){return this._adUrl}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UrlDae=void 0;var s=n(63),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(41);t.UrlDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,o["default"])(this,e),t="undefined"==typeof t||null===t?"":"object"===("undefined"==typeof t?"undefined":(0,r["default"])(t))?c.Safety.object(t):String(t),this._url=t}return(0,u["default"])(e,[{key:"url",get:function(){return this._url}},{key:"sd",get:function(){return c.Safety.string(this.url.sd,"")}},{key:"hd",get:function(){return c.Safety.string(this.url.hd,"")}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AdUrl=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.AdUrl=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),this._adUrl=l.Safety.object(t)}return(0,o["default"])(e,[{key:"adUrl",get:function(){return this._adUrl}},{key:"pc",get:function(){return l.Safety.string(this.adUrl.pc,"")}},{key:"sp",get:function(){return l.Safety.string(this.adUrl.sp,"")}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsPopularDae=void 0;var s=n(42),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(127),d=n(41);t.CommentsPopularDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];(0,o["default"])(this,e),t=d.Safety.array(t),this._comments=t,this._popularComments=null,this.init()}return(0,u["default"])(e,[{key:"init",value:function(){if(null===this._popularComments){var e=[],t=!0,n=!1,i=void 0;try{for(var s,a=(0,r["default"])(this._comments);!(t=(s=a.next()).done);t=!0){var o=s.value;e.push(new c.PopularDae(o))}}catch(l){n=!0,i=l}finally{try{!t&&a["return"]&&a["return"]()}finally{if(n)throw i}}this._popularComments=e}}},{key:"original",get:function(){return this._comments}},{key:"comments",get:function(){return this._popularComments.slice(0)}},{key:"length",get:function(){return this.total}},{key:"total",get:function(){return this.comments.length}},{key:"hasFirst",get:function(){return this.total>0}},{key:"hasSecond",get:function(){return this.total>1}},{key:"first",get:function(){return this.init(),this.comments[0]}},{key:"exceptFirst",get:function(){var e=[].slice(0);return this.hasSecond&&(e=this.comments.slice(0),e.shift()),e}},{key:"seconds",get:function(){return this.exceptFirst}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CategoriesDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(162);t.CategoriesDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t);var n=l.Safety.array(t.categories),i=[],s={};n.forEach(function(e){var t=new u.SlugDae(e);t.slug&&t.label&&(i.push(t),s[t.slug]=t)}),this._response=t,this._categories=n,this._cats=i,this._bank=s;var a=i.map(function(e){return e.slug});this._slugs=a.join(", "),this._slugsClasses=a.join("-"),this._slug=i.length>0?i[0].slug:"";var o=i.map(function(e){return e.label});this._labels=o.join(" "),this._label=i.length>0?i[0].label:""}return(0,o["default"])(e,[{key:"bySlug",value:function(e){return this._bank[e]}},{key:"response",get:function(){return this._response}},{key:"categories",get:function(){return this._categories}},{key:"all",get:function(){return this._cats}},{key:"bank",get:function(){return this._bank}},{key:"count",get:function(){return this.total}},{key:"total",get:function(){return this.response.count}},{key:"slugs",get:function(){return this._slugs}},{key:"slugsClasses",get:function(){return this._slugsClasses}},{key:"slug",get:function(){return this._slug}},{key:"labels",get:function(){return this._labels}},{key:"label",get:function(){return this._label}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SlugDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.SlugDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._category=t}return(0,o["default"])(e,[{key:"category",get:function(){return this._category}},{key:"id",get:function(){return this.category.id}},{key:"label",get:function(){return this.category.label}},{key:"slug",get:function(){return this.category.slug}},{key:"url",get:function(){return this.category.url}},{key:"isInterest",get:function(){return this.category.is_interest}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentArticlesMasonryInfinite=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(104),m=n(100),g=n(164),y=n(166),v=n(41),E=n(178),_=self.React,k=self.ReactDOM,S=self.imagesLoaded,b=self.Isotope;t.ComponentArticlesMasonryInfinite=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={arranged:"prepare",list:n.props.list,offset:n.props.offset,length:n.props.length},n.isotope=null,n.img=null,n.elements=[],n.boundAppend=n.appendImages.bind(n),n.boundImages=n.onImages.bind(n),n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{list:_.PropTypes.array.isRequired,home:_.PropTypes.bool.isRequired,offset:_.PropTypes.number.isRequired,length:_.PropTypes.number.isRequired,action:_.PropTypes.object.isRequired,callback:_.PropTypes.func.isRequired,boundMore:_.PropTypes.func.isRequired,masonry:_.PropTypes.bool.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidUpdate",value:function(){for(var e=k.findDOMNode(this.refs.boardRout),t=e.childNodes,n=[],i=this.state.offset,s=Math.min(i+this.state.length,t.length);s>i;i++)n.push(t[i]);this.elements=n;var r=S(n);r.off("always",this.boundAppend),r.on("always",this.boundAppend),this.img=r}},{key:"componentDidMount",value:function(){this.props.callback(m.View.DID_MOUNT),this.props.boundMore(this.props.action.hasNext()),this.props.masonry&&this.shouldMasonry()}},{key:"componentWillUnmount",value:function(){null!==this.isotope&&this.isotope.destroy()}},{key:"render",value:function(){var e=this;return _.createElement("div",{ref:"boardRout",className:"board-large-column"},this.state.list.map(function(t,n){var i=t.commentsPopular,s=t.commentsCount,r=v.Safety.image(t.media.images.medium,h.Empty.IMG_MIDDLE);return _.createElement("div",{key:"archive-"+t.id,className:"board-item board-item-"+n+" board-item-"+t.mediaType},_.createElement("a",{className:"post",href:t.url},_.createElement(g.ComponentArticleThumbnail,{mediaType:t.mediaType,thumbnail:r,title:t.title,masonry:e.props.masonry,action:e.props.action,recommend:t.isRecommend&&e.props.home}),_.createElement("div",{className:"post-data"},_.createElement("p",{className:"post-category post-category-"+t.categories.slugsClasses},_.createElement(E.CategoryLabelNode,{categories:t.categories.all,id:"post-archive-"+t.id,index:n,mediaType:t.mediaType,recommend:t.isRecommend&&e.props.home})),_.createElement("h3",{className:"post-heading"},t.title),_.createElement("p",{className:"post-date"},t.displayDate),_.createElement("div",{className:"post-excerpt-text"},t.description))),_.createElement(y.ComponentArticlePopular,{key:"comment-"+t.id,uniqueId:"comment-"+t.id,commentsPopular:i,total:s,articleId:String(t.id)}))}))}},{key:"shouldMasonry",value:function(){var e=k.findDOMNode(this.refs.boardRout),t=e.childNodes,n=S(t);this.img=n,n.on("always",this.boundImages)}},{key:"appendImages",value:function(){this.img.off("always",this.boundAppend),this.isotope.appended(this.elements),this.isotope.reloadItems(),this.isotope.layout(),this.props.boundMore(this.props.action.hasNext())}},{key:"onImages",value:function(){this.img.off("always",this.boundImages);var e=k.findDOMNode(this.refs.boardRout);this.isotope=new b(e,{itemSelector:".board-item",masonry:{gutter:28}})}},{key:"updateList",value:function(e,t,n){this.setState({list:e,offset:t,length:n})}}]),t}(_.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentArticleThumbnail=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(104),m=n(165),g=self.React;t.ComponentArticleThumbnail=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={mediaType:e.mediaType,thumbnail:e.thumbnail,title:e.title},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{mediaType:g.PropTypes.string.isRequired,thumbnail:g.PropTypes.string.isRequired,title:g.PropTypes.string.isRequired,recommend:g.PropTypes.bool.isRequired,masonry:g.PropTypes.bool,action:g.PropTypes.object,small:g.PropTypes.bool}}},{key:"defaultProps",get:function(){return{masonry:!1,action:{},small:!1}}}]),(0,d["default"])(t,[{key:"render",value:function(){var e=this.props.mediaType;if(e===m.MediaType.IMAGE){var t={background:"url("+this.props.thumbnail+") center center / cover no-repeat"};return g.createElement("figure",{className:"post-thumb post-thumb-"+e,style:t},g.createElement("img",{className:"image-hd",src:h.Empty.VIDEO_THUMBNAIL,alt:""}))}if(e===m.MediaType.VIDEO){var n=this.props.small?h.Empty.VIDEO_PLAY_SMALL:h.Empty.VIDEO_PLAY;return g.createElement("figure",{className:"post-thumb post-thumb-"+e},g.createElement("img",{className:"video-thumbnail",src:this.props.thumbnail,alt:this.props.title}),g.createElement("img",{className:"post-thumb-overlay-movie type-movie",src:n,alt:""}))}return null}}]),t}(g.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MediaType=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])();t.MediaType=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("MediaType is static Class. not use new MediaType().")}return(0,o["default"])(e,null,[{key:"IMAGE",get:function(){return"image"}},{key:"VIDEO",get:function(){return"video"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentArticlePopular=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(167),m=n(169),g=n(67),y=n(104),v=n(41),E=self.React;t.ComponentArticlePopular=function(e){function t(e){return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){var e=this.props.commentsPopular,t=e.hasFirst;if(!t)return null;var n=this.props.total,i=this.props.articleId,s=e.hasSecond,r=e.first,a=e.seconds;s&&(n-=a.length),n-=1;var o=r,l=o.user,u=v.Safety.image(l.profilePicture,y.Empty.USER_EMPTY),c=v.Safety.same(u,y.Empty.USER_EMPTY),d=g.User.sign;return E.createElement("div",{className:"comments-popular"},E.createElement("div",{className:"feature-user comment-item"},E.createElement("figure",{className:"comment-user"},E.createElement("span",{className:"comment-user-link"},E.createElement("span",{className:"comment-user-thumb "+c},E.createElement("img",{src:y.Empty.refresh(u),alt:l.userName})),E.createElement("div",{className:"comment-user-data"},E.createElement("p",{className:"comment-user-name"},l.userName),E.createElement("p",{className:"comment-user-job"},l.bio)))),E.createElement("div",{className:"comment-content",dangerouslySetInnerHTML:{__html:o.body}}),E.createElement(m.ReactionNode,{uniqueId:this.props.uniqueId,articleId:String(i),commentId:String(o.id),sign:d,good:o.good,bad:o.bad,isGood:o.isGood,isBad:o.isBad,activate:!1,url:o.url})),E.createElement(h.ComponentCommentsSecond,{seconds:a,articleId:i,total:n,hasSecond:s}))}}],[{key:"propTypes",get:function(){return{commentsPopular:E.PropTypes.object.isRequired,total:E.PropTypes.number.isRequired,articleId:E.PropTypes.string.isRequired,uniqueId:E.PropTypes.string.isRequired}}}]),t}(E.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentCommentsSecond=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(168),m=n(104),g=n(41),y=self.React;t.ComponentCommentsSecond=function(e){function t(e){(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.state={seconds:e.seconds},n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){if(!this.props.hasSecond)return y.createElement("div",{className:"commented-user"}," ");var e=this.state.seconds,t=this.props.articleId;return y.createElement("div",{className:"commented-user"},y.createElement("ul",{className:"comments-second"},e.map(function(e,n){var i=e.user,s=g.Safety.image(i.profilePicture,m.Empty.USER_EMPTY),r=g.Safety.same(s,m.Empty.USER_EMPTY);return y.createElement("li",{key:"user-"+t+"-"+e.id+"-"+i.id+"-"+n,className:"commented-user-item commented-user-item-"+n},y.createElement("span",{className:"commented-user-thumb "+r},y.createElement("img",{src:m.Empty.refresh(s),alt:i.userName})))})),y.createElement(h.CommentUserPlusCountNode,{total:this.props.total}))}}],[{key:"propTypes",get:function(){return{seconds:y.PropTypes.array.isRequired,articleId:y.PropTypes.string.isRequired,total:y.PropTypes.number.isRequired,hasSecond:y.PropTypes.bool.isRequired}}}]),t}(y.Component)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=self.React;t.CommentUserPlusCountNode=n.createClass({displayName:"CommentUserPlusCountNode",propType:{total:n.PropTypes.number.isRequired},getInitialState:function(){return{total:this.props.total}},render:function(){return this.state.total>0?n.createElement("span",{className:"commented-user-andmore"},"+",this.state.total):null}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionNode=void 0;var i=n(170),s=n(171),r=n(172),a=n(173),o=n(99),l=n(176),u=n(177),c=self.React;t.ReactionNode=c.createClass({displayName:"ReactionNode",propTypes:{uniqueId:c.PropTypes.string.isRequired,articleId:c.PropTypes.string.isRequired,commentId:c.PropTypes.string,sign:c.PropTypes.bool.isRequired,good:c.PropTypes.number.isRequired,bad:c.PropTypes.number.isRequired,isGood:c.PropTypes.bool.isRequired,isBad:c.PropTypes.bool.isRequired,activate:c.PropTypes.bool,url:c.PropTypes.string.isRequired},getDefaultProps:function(){return{activate:!0}},getInitialState:function(){return this.good=null,this.bad=null,this.goodStar=null,this.badStar=null,this.goodCount=this.props.good,this.badCount=this.props.bad,{loading:"",good:this.props.good,bad:this.props.bad,isGood:this.props.isGood,isBad:this.props.isBad,sign:this.props.sign,activate:this.props.activate}},render:function(){var e=function(e){return e?" active":""},t=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return e>0?e:""};return this.state.activate&&this.state.sign?c.createElement("div",{className:"comment-reaction "+this.state.loading},c.createElement("a",{className:"comment-reaction-btn comment-reaction-like"+e(this.state.isGood),href:"#",onClick:this.goodClick},c.createElement("i",null," "),t(this.state.good)),c.createElement("a",{className:"comment-reaction-btn comment-reaction-dislike"+e(this.state.isBad),href:"#",onClick:this.badClick},c.createElement("i",null," "),t(this.state.bad)),c.createElement("div",{className:"loading-spinner"})):c.createElement("div",{className:"comment-reaction "+this.state.loading},c.createElement("span",{className:"comment-reaction-btn comment-reaction-like"},c.createElement("i",null," "),t(this.state.good)),c.createElement("span",{className:"comment-reaction-btn comment-reaction-dislike"},c.createElement("i",null," "),t(this.state.bad)),c.createElement("div",{className:"loading-spinner"}))},componentDidMount:function(){if(this.state.activate&&this.state.sign){this.good=s.Good.factory(),this.bad=r.Bad.factory();var e=new a.ModelCommentStar(this.props.commentId,i.ActionType.GOOD);this.goodStar=e,e.on(o.Model.UNDEFINED_ERROR,this.goodError),e.on(o.Model.RESPONSE_ERROR,this.goodError);var t=new a.ModelCommentStar(this.props.commentId,i.ActionType.BAD);t.on(o.Model.UNDEFINED_ERROR,this.badError),t.on(o.Model.RESPONSE_ERROR,this.badError),this.badStar=t}},componentWillUnMount:function(){if(this.state.activate&&this.state.sign){var e=this.goodStar;e.off(o.Model.UNDEFINED_ERROR,this.goodError),e.off(o.Model.RESPONSE_ERROR,this.goodError);var t=this.badStar;t.off(o.Model.UNDEFINED_ERROR,this.badError),t.off(o.Model.RESPONSE_ERROR,this.badError),this.good=null,this.bad=null}},loadingStart:function(){this.setState({loading:"loading"})},loadingStop:function(){this.setState({loading:""})},goodClick:function(e){e.preventDefault(),this.state.isGood?this.goodDelete():this.goodAdd()},badClick:function(e){e.preventDefault(),this.state.isBad?this.badDelete():this.badAdd()},goodDelete:function(){this.loadingStart(),this.goodStar.on(o.Model.COMPLETE,this.goodDeleteDone),this.goodStar.start(i.ActionType.DELETE)},goodAdd:function(){this.loadingStart(),this.goodStar.on(o.Model.COMPLETE,this.goodAddDone),this.goodStar.start(i.ActionType.ADD)},badDelete:function(){this.loadingStart(),this.badStar.on(o.Model.COMPLETE,this.badDeleteDone),this.badStar.start(i.ActionType.DELETE)},badAdd:function(){this.loadingStart(),this.badStar.on(o.Model.COMPLETE,this.badAddDone),this.badStar.start(i.ActionType.ADD)},goodAddDone:function(){this.goodStar.off(o.Model.COMPLETE,this.goodAddDone);var e=++this.goodCount;if(this.state.isBad){var t=--this.badCount;this.setState({good:e,isGood:!0,bad:t,loading:"",isBad:!1})}else this.setState({good:e,isGood:!0,loading:""});this.good.add(this.props.commentId,this.props.articleId),l.Ga.add(new u.GaData("ReactionNode.goodAddDone","comment","reaction - good",this.props.url,parseFloat(this.props.commentId)))},goodDeleteDone:function(){this.goodStar.off(o.Model.COMPLETE,this.goodDeleteDone),this.good.remove(this.props.commentId,this.props.articleId);var e=--this.goodCount;this.setState({good:e,loading:"",isGood:!1}),l.Ga.add(new u.GaData("ReactionNode.goodAddDone","comment","reaction - bad",this.props.url,parseFloat(this.props.commentId)))},badAddDone:function(){this.badStar.off(o.Model.COMPLETE,this.badAddDone);var e=++this.badCount;if(this.state.isGood){var t=--this.goodCount;this.setState({bad:e,isBad:!0,good:t,loading:"",isGood:!1})}else this.setState({bad:e,isBad:!0,loading:""});this.bad.add(this.props.commentId,this.props.articleId),l.Ga.add(new u.GaData("ReactionNode.goodAddDone","comment","reaction - bad",this.props.url,parseFloat(this.props.commentId)))},badDeleteDone:function(){this.badStar.off(o.Model.COMPLETE,this.badDeleteDone),this.bad.remove(this.props.commentId,this.props.articleId);var e=--this.badCount;this.setState({bad:e,loading:"",isBad:!1}),l.Ga.add(new u.GaData("ReactionNode.goodAddDone","comment","reaction - good",this.props.url,parseFloat(this.props.commentId)))},goodError:function(){this.loadingStop()},badError:function(){this.loadingStop()}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionType=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])();t.ActionType=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("CommentsType is static Class. not use new CommentsType().")}return(0,o["default"])(e,null,[{key:"ADD",get:function(){return"add"}},{key:"DELETE",get:function(){return"delete"}},{key:"GOOD",get:function(){return"good"}},{key:"BAD",get:function(){return"bad"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Good=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=n(143),v=(0,m["default"])(),E=null;t.Good=function(e){function t(e){var n;if((0,o["default"])(this,t),v!==e)throw new Error("Good is static Class. not use new Good(). instead Good.factory()");
if(null===E){var i=(0,d["default"])(this,(0,r["default"])(t).call(this));E=i}return n=E,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"fire",value:function(e,t,n){this.dispatch({type:e,commentId:t,articleId:n})}},{key:"add",value:function(e,t){this.fire(y.CommentStatus.GOOD_ADD,e,t)}},{key:"remove",value:function(e,t){this.fire(y.CommentStatus.GOOD_DELETE,e,t)}}],[{key:"factory",value:function(){return null===E&&(E=new t(v)),E}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Bad=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=n(143),v=(0,m["default"])(),E=null;t.Bad=function(e){function t(e){var n;if((0,o["default"])(this,t),v!==e)throw new Error("Bad is static Class. not use new Bad(). instead Bad.factory()");if(null===E){var i=(0,d["default"])(this,(0,r["default"])(t).call(this));E=i}return n=E,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"fire",value:function(e,t,n){this.dispatch({type:e,commentId:t,articleId:n})}},{key:"add",value:function(e,t){this.fire(y.CommentStatus.BAD_ADD,e,t)}},{key:"remove",value:function(e,t){this.fire(y.CommentStatus.BAD_DELETE,e,t)}}],[{key:"factory",value:function(){return null===E&&(E=new t(v)),E}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelCommentStar=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=(n(97),n(174)),g=n(170),y=n(41);t.ModelCommentStar=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if((0,o["default"])(this,t),!y.Safety.normalize(n,[g.ActionType.GOOD,g.ActionType.BAD]))throw new Error("type is not correct. "+n);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,i));return s.action=n===g.ActionType.GOOD?m.CommentStar.good(e,s.done.bind(s),s.fail.bind(s)):m.CommentStar.bad(e,s.done.bind(s),s.fail.bind(s)),s._actionType=n,s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(e){switch(e){case g.ActionType.DELETE:this.action.remove();break;case g.ActionType.ADD:this.action.add()}}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_STAR:UNDEFINED]"+this._actionType+".サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n,this._actionType)}else this.executeSafely(h.Model.COMPLETE,e,this._actionType)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e,this._actionType)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentStar=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(175),y=n(38),v=n(83),E=n(41),_=n(67),k=n(170),S=(0,m["default"])();t.CommentStar=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=arguments.length<=4||void 0===arguments[4]?null:arguments[4];if((0,o["default"])(this,t),S!==e)throw new Error("CommentStar is static Class. not use new CommentStar(). instead CommentStar.add, CommentStar.remove");if(!E.Safety.normalize(i,[k.ActionType.GOOD,k.ActionType.BAD]))throw new Error("type is not correct. "+i);var l=y.Api.comment(i+":"+k.ActionType.ADD),u=y.Api.comment(i+":"+k.ActionType.DELETE),c=(0,d["default"])(this,(0,r["default"])(t).call(this,_.User.token,l,null,s,a));return c._add=l,c._remove=u,c._commentId=n,c}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){arguments.length<=0||void 0===arguments[0]?"":arguments[0]}},{key:"add",value:function(){this.ajax.start(this.url,this._add.method,this.success.bind(this),this.fail.bind(this),this.resultClass,this.headers)}},{key:"remove",value:function(){this.ajax.start(this.url,this._remove.method,this.success.bind(this),this.fail.bind(this),this.resultClass,this.headers,this.data)}},{key:"commentId",get:function(){return this._commentId},set:function(e){this._commentId=e}},{key:"url",get:function(){return v.Path.comment(this._url,this.commentId)}}],[{key:"good",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return new t(S,e,k.ActionType.GOOD,n,i)}},{key:"bad",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return new t(S,e,k.ActionType.BAD,n,i)}}]),t}(g.ActionAuthBehavior)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionAuthBehavior=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(131),m=n(97),g=n(41);n(39),t.ActionAuthBehavior=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=arguments.length<=4||void 0===arguments[4]?null:arguments[4],l=arguments.length<=5||void 0===arguments[5]?m.Result:arguments[5];(0,o["default"])(this,t);var u=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,s,a,l));return u._data=i,u}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.method:arguments[0];e=g.Safety.string(e,this.method),this.ajax.start(this.url,e,this.boundSuccess,this.boundFail,this.resultClass,this.headers,this.data)}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}}]),t}(h.ActionAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Ga=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(37),u=n(177),c=[],d=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"click",value:function(t,n,i,s){var r=arguments.length<=4||void 0===arguments[4]?!1:arguments[4];e.add(new u.GaData(t,n,i,s,0,r))}},{key:"add",value:function(t){c.push(t),e.send()}},{key:"addPage",value:function(t,n){var i=arguments.length<=2||void 0===arguments[2]?"":arguments[2],s=new u.GaData(n);s.hitType=e.PAGEVIEW,s.setPage(t,i),e.add(s)}},{key:"send",value:function(){var t=self.ga;if("undefined"==typeof t)return void setTimeout(e.send,25);for(var n=l.Env.mode===l.Env.PRODUCTION;c.length>0;){var i=c.shift();e.tracking(t,i),n||console.warn(i.method+": ga, send, ",i)}}},{key:"tracking",value:function(t,n){return null!==n.page?e.page(t,n):n.eventInteraction?t("send",n.hitType,n.eventCategory,n.eventAction,n.eventLabel,n.eventValue,u.GaData.nonInteraction()):t("send",n.hitType,n.eventCategory,n.eventAction,n.eventLabel,n.eventValue)}},{key:"page",value:function(e,t){var n={hitType:t.hitType,page:t.page};return""!==t.title&&(n.title=t.title),e("send",n)}},{key:"single",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?"Ga.single":arguments[1],i="provider",s="view",r=t.user.userName;e.add(new u.GaData(n,i,s,r,0,!0));var a=t.categories;i="category",a.all.map(function(t){e.add(new u.GaData(n,i,s,t.label,0,!0))})}},{key:"PAGEVIEW",get:function(){return"pageview"}}]),e}();t.Ga=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GaData=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.GaData=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?"":arguments[1],i=arguments.length<=2||void 0===arguments[2]?"":arguments[2],s=arguments.length<=3||void 0===arguments[3]?"":arguments[3],a=arguments.length<=4||void 0===arguments[4]?0:arguments[4],o=arguments.length<=5||void 0===arguments[5]?!1:arguments[5],l=arguments.length<=6||void 0===arguments[6]?"event":arguments[6],u=arguments.length<=7||void 0===arguments[7]?null:arguments[7];(0,r["default"])(this,e),this.method=t,this.eventCategory=n,this.eventAction=i,this.eventLabel=s,this.eventValue=a,this.eventInteraction=o,this.hitType=l,this.page=u,this.title=""}return(0,o["default"])(e,[{key:"setPage",value:function(e,t){var n="/p/"+e+"/";return this.page=n,this.title=t,n}}],[{key:"nonInteraction",value:function(){return{nonInteraction:!0}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryLabelNode=void 0;var i=n(107),s=n(165),r=self.React,a=function(e){return e?r.createElement("i",{className:"post-label_recommend"},i.Message.LABEL_RECOMMEND):null},o=function(e){return e===s.MediaType.VIDEO?r.createElement("i",{className:"post-label_movie"},"Message.LABEL_MOVIE"):null};t.CategoryLabelNode=r.createClass({displayName:"CategoryLabelNode",propType:{index:r.PropTypes.number.isRequired,id:r.PropTypes.string.isRequired,categories:r.PropTypes.array.isRequired,mediaType:r.PropTypes.string,recommend:r.PropTypes.bool},defaultProps:{mediaType:"",recommend:!1},render:function(){if(!this.props.categories.length)return null;var e=this.props.id,t=this.props.index;return r.createElement("span",{className:"category-label-wrapper"},a(this.props.recommend),o(this.props.mediaType),this.props.categories.map(function(n,i){return n.label?r.createElement("span",{key:"ranking-"+e+"-"+t+"-"+i,className:"category-label"},n.label):null}))}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentMoreButton=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(107),m=n(180),g=n(176),y=n(177),v=self.React;t.ComponentMoreButton=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={disable:!1,show:e.show,loading:e.loading},n.rise=null,n.boundRise=n.onRise.bind(n),n.boundClick=n.onClick.bind(n),n.page=1,n.timer=0,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{home:v.PropTypes.bool.isRequired,show:v.PropTypes.bool.isRequired,action:v.PropTypes.object.isRequired,element:v.PropTypes.object.isRequired,slug:v.PropTypes.string.isRequired,loading:v.PropTypes.string,afterClick:v.PropTypes.bool}}},{key:"defaultProps",get:function(){return{loading:"",afterClick:!1}}}]),(0,d["default"])(t,[{key:"onClick",value:function(e){e.preventDefault(),this.onRise()}},{key:"destroy",value:function(){var e=this.rise;null!==e&&(e.stop(),e.off(m.Rise.RISE,this.boundRise),e=null)}},{key:"updateLoading",value:function(e){var t=this.rise,n="";e?(n="loading",t&&t.stop(),this.props.action.next()):t&&t.start(),this.setState({loading:n})}},{key:"updateShow",value:function(e){e?this.updateLoading(!1):this.destroy(),this.setState({show:e})}},{key:"onRise",value:function(){this.updateLoading(!0),this.props.home?this.gaHome():this.gaCategory()}},{key:"gaHome",value:function(){g.Ga.add(new y.GaData("ComponentMoreButton.gaHome","home_articles","view - new",String(++this.page),0,!0))}},{key:"gaCategory",value:function(){g.Ga.add(new y.GaData("ComponentMoreButton.gaCategory",this.props.slug+"_articles","view - new",String(++this.page),0,!0))}},{key:"componentDidMount",value:function(){var e=this.rise;this.state.show&&null===e&&(e=new m.Rise(this.props.element),this.rise=e,e.on(m.Rise.RISE,this.boundRise),this.props.afterClick||e.delayStart(.5))}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"render",value:function(){return this.state.show?v.createElement("div",{id:"more",className:"board-btn-viewmore loading-root "+this.state.loading},v.createElement("a",{className:"board-btn-viewmore-link",href:"#more",onClick:this.boundClick},v.createElement("span",null,h.Message.BUTTON_VIEW_MORE)),v.createElement("span",{className:"loading-spinner"}," ")):null}}]),t}(v.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Rise=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(81),m=n(93),g=n(94);t.Rise=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this));return i._element=e,i._offset=n,i._dom=new m.Offset(e),i._boundScroll=i.onScroll.bind(i),i._scroll=g.Scroll.factory(),i.timer=0,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"offset",value:function(){return this._offset}},{key:"start",value:function(){this.stop(),this._scroll.on(g.Scroll.SCROLL,this._boundScroll),this._scroll.start()}},{key:"stop",value:function(){this._scroll.off(g.Scroll.SCROLL,this._boundScroll)}},{key:"delayStart",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?.5:arguments[0];clearTimeout(this.timer),this.timer=setTimeout(function(){e.start()},1e3*t)}},{key:"onScroll",value:function(e){var n=e.y,i=e.height,s=n+i-this._offset,r=this._dom.offset(),a=n+r.top+r.height;s>a&&this.dispatch({type:t.RISE,window:s,element:a,originalEvent:e,offset:r})}},{key:"element",get:function(){return this._element}},{key:"dom",get:function(){return this._dom}},{key:"boundScroll",get:function(){return this._boundScroll}},{key:"scroll",get:function(){return this._scroll},set:function(e){this._scroll=e}}],[{key:"RISE",get:function(){return"rise"}}]),t}(h.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentCategoryOption=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(85),m=n(100),g=n(182),y=n(190),v=n(99),E=n(198),_=(n(97),n(201)),k=n(133),S=self.Sagen,b=self.ReactDOM;t.ComponentCategoryOption=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?"all":arguments[0];(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,null,null)),i={};return i[v.Model.COMPLETE]=n.done.bind(n),n.action=new E.ModelCategoriesSlug(e,i),n.boundSafety=n.executeSafely.bind(n),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"!=typeof t&&null!==t){var n=new _.CategoriesSlugDae(t);n.pickup.has()&&this.pickup(n),n.headline.has()&&this.headline(n)}}},{key:"pickup",value:function(e){var t=h.Dom.pickup();null!==t&&b.render(React.createElement(g.ComponentCarousel,{list:e.pickup.articles,callback:this.boundSafety,polling:new k.Polling(5e3),index:0,sp:S.Browser.Mobile.phone(),home:!1}),t)}},{key:"headline",value:function(e){var t=h.Dom.headlineParent();if(null!==t){var n=S.Browser.Mobile.phone()?"sp":"pc";b.render(React.createElement(y.ComponentHeadlineOption,{list:e.headline.articles,callback:this.boundSafety,home:!1,ad:e.headline.ad,browser:n,category:e}),t)}}}]),t}(m.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentCarousel=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(183),m=n(185),g=n(100),y=n(133),v=self.Sagen,E=self.React,_=self.document;t.ComponentCarousel=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e)),i=e.list.length;return 2===i&&(i=4),n.length=i,n.left=e.sp?280:640,n.unit=(e.sp,"px"),n.state={length:i,index:e.index,style:{}},n.polling=e.polling,n.timer=0,n.boundUpdate=n.update.bind(n),n.boundNext=n.onNext.bind(n),n.boundPrev=n.onPrev.bind(n),n.boundPager=n.onPagerClick.bind(n),n.last=i-1,n.position=-1,n.bindNext=n.next.bind(n),n.bindPrev=n.prev.bind(n),n.bindPlay=n.play.bind(n),n.bindPause=n.pause.bind(n),n.bindLength=n.updateLength.bind(n),n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"direction",value:function(e,t,n){return 1>=e?null:E.createElement("div",{className:"direction"},E.createElement("a",{id:"prev",className:"direction-prev",href:"#prev",onClick:t},"Prev"),E.createElement("a",{id:"next",className:"direction-next",href:"#next",onClick:n},"Next"))}},{key:"propTypes",get:function(){return{list:E.PropTypes.array.isRequired,callback:E.PropTypes.func.isRequired,polling:E.PropTypes.object.isRequired,index:E.PropTypes.number,sp:E.PropTypes.bool,home:E.PropTypes.bool}}},{key:"defaultProps",get:function(){return{index:0,sp:v.Browser.Mobile.phone(),home:!1}}}]),(0,d["default"])(t,[{key:"updateLength",value:function(e){var t=_.createElement("style"),n=_.createTextNode("#js-pickup-slider{width: "+e*this.left+this.unit+";}");t.media="screen",t.type="text/css",t.styleSheet?t.styleSheet.cssText=n.nodeValue:t.appendChild(n),_.getElementsByTagName("head")[0].appendChild(t)}},{key:"play",value:function(){this.pause();var e=this.polling;e.on(y.Polling.UPDATE,this.boundUpdate),e.start()}},{key:"pause",value:function(){var e=this.polling;e.off(y.Polling.UPDATE,this.boundUpdate),e.stop()}},{key:"update",value:function(){this.next()}},{key:"onNext",value:function(e){e.preventDefault(),this.next()}},{key:"onPrev",value:function(e){e.preventDefault(),this.prev()}},{key:"next",value:function(){var e=this.position+1;e>this.last&&(e=0),this.jump(e)}},{key:"prev",value:function(){var e=this.position-1;0>e&&(e=this.last),this.jump(e)}},{key:"jump",value:function(e){this.pause();var t=this.last,n=this.position;0>=e?n===t?(this.setState({index:-1e3}),this.delay(e)):this.setup(e):e===t&&0===n?(this.setState({index:-2e3}),this.delay(e)):this.setup(e)}},{key:"delay",value:function(e){var t=this;clearTimeout(this.timer),this.timer=setTimeout(function(){return t.setup(e)},25)}},{key:"setup",value:function(e){this.position=e,this.setState({index:e}),this.play()}},{key:"onPagerClick",value:function(e){this.jump(parseInt(e,10))}},{key:"translateX",value:function(e){return this.length<=1?"translateX(0)":"translateX("+(-this.left*e-this.left*this.length)+this.unit+")"}},{key:"transform",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return-1e3===e?this.lastToFirst():-2e3===e?this.firstToLast():{transform:this.translateX(e),transition:"transform 0.5s linear"}}},{key:"lastToFirst",value:function(){return{transform:this.translateX(-1)}}},{key:"firstToLast",value:function(){return{transform:this.translateX(this.length)}}},{key:"componentDidMount",value:function(){this.props.callback(g.View.DID_MOUNT),this.props.list.length>1&&this.jump(0)}},{key:"render",value:function(){var e=this.props.list;return 0===e.length?null:E.createElement("div",{className:"hero-sec"},E.createElement("div",{className:"hero-slider pickup-container pickup-slider-length-"+e.length+" slide-"+this.state.index},E.createElement("div",{className:"hero-slider-inner"},E.createElement("div",{className:"pickup-slider-wrapper",style:this.transform(this.state.index)},E.createElement(m.ComponentPickupArticles,{list:e,sp:this.props.sp,home:this.props.home,next:this.bindNext,prev:this.bindPrev,play:this.bindPlay,pause:this.bindPause,length:this.bindLength,position:this.state.index}))),E.createElement("div",{className:"hero-slider-control"},t.direction(e.length,this.boundPrev,this.boundNext),E.createElement(h.ComponentPagers,{list:e,onPager:this.boundPager,sp:this.props.sp,position:this.state.index}))))}}]),t}(E.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentPagers=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(184),m=self.React;t.ComponentPagers=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={position:e.position},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{list:m.PropTypes.array.isRequired,onPager:m.PropTypes.func.isRequired,sp:m.PropTypes.bool.isRequired,position:m.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.position;t>=0&&t!==this.state.position&&this.setState({position:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.list;if(n.length<2)return null;var i=n.length,s=0,r=t.onPager;return t.sp?null:m.createElement("div",{className:"pager"},m.createElement("ul",{className:"pager-list"},n.map(function(t){return m.createElement(h.ComponentPager,{key:"pager-"+s,id:String(t.id),index:s++,length:i,onPager:r,position:e.state.position})})))}}]),t}(m.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentPager=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=self.React;t.ComponentPager=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.boundClick=n.onClick.bind(n),n.index=e.index,n.state={current:e.index===e.position?"current":"",position:e.position},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{index:h.PropTypes.number.isRequired,id:h.PropTypes.string.isRequired,length:h.PropTypes.number.isRequired,onPager:h.PropTypes.func.isRequired,position:h.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"onClick",value:function(e){e.preventDefault(),this.props.onPager(e.target.innerHTML)}},{key:"componentWillReceiveProps",value:function(e){var t=e.position;if(t>=0&&t!==this.state.position){var n=t===this.index?"current":"";""===n&&2===this.props.length&&(n=t===this.index+2?"current":""),this.setState({position:t,current:n})}}},{key:"render",value:function(){var e=this.index;return h.createElement("li",{className:"pager-item pager-"+e+" "+this.state.current},h.createElement("a",{href:"#pickup-"+e,className:"pager-link",onClick:this.boundClick},e))}}]),t}(h.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentPickupArticles=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(186),m=n(104),g=n(41),y=n(187),v=self.React,E=t.ComponentPickupArticles=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={style:{}},n.dragging=0,n.timer=0,n.boundStart=n.touchStart.bind(n),n.boundMove=n.touchMove.bind(n),n.boundEnd=n.touchEnd.bind(n),n.boundCancel=n.touchCancel.bind(n),n.touching=null,n.pickupSlider=null,n.state={position:e.position},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{list:v.PropTypes.array.isRequired,sp:v.PropTypes.bool.isRequired,home:v.PropTypes.bool.isRequired,next:v.PropTypes.func.isRequired,prev:v.PropTypes.func.isRequired,play:v.PropTypes.func.isRequired,pause:v.PropTypes.func.isRequired,length:v.PropTypes.func.isRequired,position:v.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"dispatchLength",value:function(){var e=this.pickupSlider.getElementsByTagName("li");this.props.length(e.length)}},{key:"prepareSwipe",value:function(){var e=this.pickupSlider;if(e){var t=new y.Touching(e,!1,1);this.touching=t,t.on(y.Touching.START,this.boundStart),t.init()}}},{key:"touchStart",value:function(){this.dragging=0,this.setState({style:{}}),clearTimeout(this.timer);var e=this.touching;e.on(y.Touching.MOVE,this.boundMove),e.on(y.Touching.END,this.boundEnd),e.on(y.Touching.CANCEL,this.boundCancel)}},{key:"touchMove",value:function(e){return e.scrolling?!0:(this.props.pause(),this.dragging+=e.between.x,this.drag(this.dragging),!1)}},{key:"touchEnd",value:function(){var e=Math.abs(this.dragging),t=!!e;return this.dispose(),t?(this.props.pause(),10>e?this.reset():this.move(this.dragging),!1):(this.reset(),!0)}},{key:"touchCancel",value:function(){this.reset()}},{key:"drag",value:function(e){var t={left:e+"px",transitionDuration:"0s"};this.setState({style:t})}},{key:"move",value:function(e){this.dragging=0,this.setState({style:{left:"0px"}}),e>0?this.props.prev():0>e&&this.props.next()}},{key:"reset",value:function(){this.dispose(),this.props.play(),this.setState({style:{}}),this.dragging=0}},{key:"dispose",value:function(){var e=this.touching;e.off(y.Touching.MOVE,this.boundMove),e.off(y.Touching.END,this.boundEnd),e.off(y.Touching.CANCEL,this.boundCancel)}},{key:"makeClone",value:function(e,n,i,s){return e?t.makeArticle(i[s],n,!0,this.props.home):null}},{key:"componentDidMount",value:function(){this.props.list.length>1&&this.props.sp&&this.prepareSwipe(),this.dispatchLength()}},{key:"componentWillReceiveProps",value:function(e){var t=e.position;t>=0&&t!==this.state.position&&this.setState({position:t})}},{key:"render",value:function(){var e=this,n=this.props.list,i=n.length>1,s=2===n.length,r=this.props.home,a=this.state.position;return v.createElement("ul",{className:"pickup-slider",id:"js-pickup-slider",ref:function(t){e.pickupSlider=t},style:this.state.style},n.map(function(e,n){return t.makeArticle(e,1e4+n,s,r,a)}),n.map(function(e,n){return t.makeArticle(e,1e3+n,i,r,a)}),n.map(function(e,n){return t.makeArticle(e,n,!0,r,a)}),n.map(function(e,n){return t.makeArticle(e,2e3+n,i,r,a)}),n.map(function(e,n){return t.makeArticle(e,2e4+n,s,r,a)}))}}]),t}(v.Component);E.makeArticle=function(e,t,n,i,s){var r=g.Safety.image(e.media.images.large,m.Empty.IMG_LARGE);return n?v.createElement(h.ComponentPickupArticle,{key:"pickup-"+t,index:t,id:String(e.id),slug:e.categories.slug,categories:e.categories.all,url:e.url,date:e.displayDate,title:e.title,large:r,commentsCount:e.commentsCount,mediaType:e.mediaType,home:i,position:s}):null}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentPickupArticle=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(178),m=n(104),g=n(165),y=n(176),v=n(177),E=self.React,_=function(e){return e===g.MediaType.VIDEO?E.createElement("img",{src:m.Empty.VIDEO_PICKUP_PLAY,alt:"",className:"overlay overlay-play"}):null};t.ComponentPickupArticle=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.boundGa=n.gaSend.bind(n),n.state={current:e.index===e.position?"current":"",position:e.position},n.index=e.index,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{index:E.PropTypes.number.isRequired,id:E.PropTypes.string.isRequired,slug:E.PropTypes.string.isRequired,categories:E.PropTypes.array.isRequired,url:E.PropTypes.string.isRequired,date:E.PropTypes.string.isRequired,title:E.PropTypes.string.isRequired,large:E.PropTypes.string.isRequired,commentsCount:E.PropTypes.number.isRequired,mediaType:E.PropTypes.string.isRequired,home:E.PropTypes.bool.isRequired,position:E.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"gaSend",value:function(){var e=this.props.home?"home_pickup":this.props.slug+"_pickup";y.Ga.add(new v.GaData("ComponentCarouselArticle.gaSend",e,"click",this.props.url,parseFloat(this.props.id)))}},{key:"componentWillReceiveProps",value:function(e){var t=e.position;if(t>=0&&this.index<1e3&&t!==this.state.position){var n=t===this.index?"current":"";""===n&&2===this.props.length&&(n=t===this.index+2?"current":""),this.setState({position:t,current:n})}}},{key:"render",value:function(){var e=this.props;return E.createElement("li",{id:"pickup-"+e.index,className:"pickup pickup-"+e.index+" "+this.state.current},E.createElement("a",{href:e.url,style:{background:"url("+e.large+") no-repeat 50% 50% / cover"},onClick:this.boundGa},E.createElement("img",{src:m.Empty.KV_OVERLAY,alt:"",className:"overlay"}),_(e.mediaType),E.createElement("div",{className:"post-overview"},E.createElement("p",{className:"post-category post-category-"+e.slug},E.createElement(h.CategoryLabelNode,{categories:e.categories,id:"pickup-label-"+e.id,index:e.index})),E.createElement("h2",{className:"post-heading"},e.title),E.createElement("p",{className:"post-date"},e.date))))}}]),t}(E.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Touching=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=n(41),v=n(188),E=n(189),_=(0,m["default"])(),k=(0,m["default"])(),S=(0,m["default"])(),b=(0,m["default"])(),T=(0,m["default"])();t.Touching=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?10:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this));return s.element=e,s.canceling=n,s.threshold=i,s[_]=s.onStart.bind(s),s[k]=s.onMove.bind(s),s[S]=s.onEnd.bind(s),s[b]=s.onCancel.bind(s),s[T]=s.onBlur.bind(s),s.vectors={start:new v.Vectors,end:new v.Vectors,moving:[].slice(0)},s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"init",value:function(){this.element.addEventListener("touchstart",this.boundStart,!1),window.addEventListener("blur",this.boundBlur,!1)}},{key:"onStart",value:function(e){this.dispose(),this.reset();var n=this.vectors,i=t.point(e);n.start.update(i.x,i.y),n.moving.push(n.start);var s=document.body;s.addEventListener("touchend",this.boundEnd,!1),s.addEventListener("touchmove",this.boundMove,!1),s.addEventListener("touchcancel",this.boundCancel,!1),this.dispatch({type:t.START,originalEvent:e,position:n.start})}},{key:"onMove",value:function(e){var n=this.vectors,i=n.moving,s=t.point(e),r=new v.Vectors(s.x,s.y,Date.now()),a=i.pop();i.push(a);var o=t.scrolling(r,a,this.threshold);r.scrolling=o,i.push(r),this.canceling&&!o&&e.preventDefault();var l=r.between(a);this.dispatch(new E.TouchingEvents(t.MOVE,e,r,l,o))}},{key:"onEnd",value:function(e){var n=this.vectors,i=t.point(e),s=new v.Vectors(i.x,i.y,Date.now()),r=n.start,a=t.scrolling(s,r,this.threshold);s.scrolling=a,this.canceling&&!a&&e.preventDefault();var o=s.between(r);this.dispatch(new E.TouchingEvents(t.END,e,s,o,a)),this.dispatch(new E.TouchingEvents(t.TOUCH,e,s,o,a))}},{key:"onCancel",value:function(e){this.dispose(),this.reset(),this.dispatch({type:t.CANCEL,originalEVent:e})}},{key:"onBlur",value:function(e){this.dispose(),this.reset(),this.dispatch({type:t.CANCEL,originalEVent:e})}},{key:"dispose",value:function(){var e=document.body;e.removeEventListener("touchend",this.boundEnd),e.removeEventListener("touchmove",this.boundMove),e.removeEventListener("touchcancel",this.boundCancel)}},{key:"reset",value:function(){var e=this.vectors;return e.start.reset(),e.end.reset(),e.moving=[].slice(0),e}},{key:"boundStart",get:function(){return this[_]}},{key:"boundMove",get:function(){return this[k]}},{key:"boundEnd",get:function(){return this[S]}},{key:"boundCancel",get:function(){return this[b]}},{key:"boundBlur",get:function(){return this[T]}}],[{key:"scrolling",value:function(e,t,n){var i=e.betweenY(t);return Math.abs(i)>=n}},{key:"point",value:function(e){var t=e.pageX,n=e.pageY;if(y.Safety.exist(t)&&y.Safety.exist(n))return{x:t,y:n};var i=e.changedTouches;if(!y.Safety.exist(i))return{x:0,y:0};var s=i[0];return{x:s.pageX,y:s.pageY}}},{key:"START",get:function(){return"touchingStart"}},{key:"END",get:function(){return"touchingEnd"}},{key:"CANCEL",get:function(){return"touchingCancel"}},{key:"MOVE",get:function(){return"touchingMove"}},{key:"TOUCH",get:function(){return"touchingTouch"}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Vectors=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.Vectors=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?0:arguments[0],n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];
(0,r["default"])(this,e),this.x=t,this.y=n,this.time=i,this.scrolling=!1}return(0,o["default"])(e,[{key:"reset",value:function(){return this.x=0,this.y=0,this.time=0,this}},{key:"update",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?Date.now():arguments[2];return this.x=e,this.y=t,this.time=n,this}},{key:"distance",value:function(e){var t=this.x-e.x,n=this.y-e.y,i=t*t+n*n;return Math.sqrt(i)}},{key:"duration",value:function(e){return this.time-e.time}},{key:"clone",value:function t(){var t=new e(this.x,this.y,this.time);return t.scrolling=this.scrolling,t}},{key:"length",value:function(){var e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}},{key:"divideByScalar",value:function(e){var t=this.clone();if(0===e)t.x=0,t.y=0;else{var n=t.x,i=t.y,s=1/e;t.x=n*s,t.y=i*s}return t}},{key:"normalize",value:function(){return this.divideByScalar(this.length())}},{key:"betweenX",value:function(e){return this.x-e.x}},{key:"betweenY",value:function(e){return this.y-e.y}},{key:"betweenTime",value:function(e){return this.time-e.time}},{key:"between",value:function(e){var t=this.clone();return t.x=t.betweenX(e),t.y=t.betweenY(e),t.time=t.betweenTime(e),t}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TouchingEvents=void 0;var s=n(2),r=i(s),a=n(188);t.TouchingEvents=function o(e,t){var n=arguments.length<=2||void 0===arguments[2]?new a.Vectors:arguments[2],i=arguments.length<=3||void 0===arguments[3]?new a.Vectors:arguments[3],s=arguments.length<=4||void 0===arguments[4]?!1:arguments[4];(0,r["default"])(this,o),this.type=e,this.origin=t,this.current=n,this.between=i,this.scrolling=s}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentHeadlineOption=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(100),m=n(191),g=n(197),y=self.React;t.ComponentHeadlineOption=function(e){function t(e){return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,e))}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{list:y.PropTypes.array.isRequired,callback:y.PropTypes.func.isRequired,home:y.PropTypes.bool.isRequired,ad:y.PropTypes.object.isRequired,browser:y.PropTypes.string.isRequired,category:y.PropTypes.object.isRequired}}}]),(0,d["default"])(t,[{key:"render",value:function(){var e=this.props.list;return 0===e.length?null:y.createElement("div",{className:"headline-section"},y.createElement("div",{className:"headline-outer"},y.createElement("div",{id:"headline-container"},y.createElement(m.ComponentHeadlines,{list:e,callback:this.props.callback,home:this.props.home})),y.createElement(g.ComponentHeadlineAd,{browser:this.props.browser,ad:this.props.ad,category:this.props.category})))}},{key:"componentDidMount",value:function(){this.props.callback(h.View.DID_MOUNT)}}]),t}(y.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentHeadlines=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(100),m=n(192),g=n(104),y=n(107),v=n(196),E=n(41),_=self.React;t.ComponentHeadlines=function(e){function t(e){return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,e))}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{list:_.PropTypes.array.isRequired,callback:_.PropTypes.func.isRequired,home:_.PropTypes.bool}}},{key:"defaultProps",get:function(){return{home:!1}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){this.props.callback(h.View.DID_MOUNT),this.ad()}},{key:"ad",value:function(){var e=this.refs.sponsorLink;if(e){var t=document.createElement("div"),n=document.createElement("script");n.src=v.Ad.ssl()+"/sdk/js/adg-script-loader.js?id=34481&targetID=adg_34481&displayid=2&adType=PC&width=0&height=0&sdkType=3&async=true&tagver=2.0.0",t.appendChild(n),e.appendChild(t)}}},{key:"render",value:function(){if(0===this.props.list.length)return null;var e=this.props.home;return _.createElement("div",{className:"headline"},_.createElement("div",{className:"headline-heading"},_.createElement("h2",{className:"headline-heading-title"},_.createElement("img",{src:"/assets/images/common/headline-heading.png",alt:"HEADLINE NEWS"})),_.createElement("span",{className:"headline-heading-ruby"},y.Message.HEADLINE_TITLE)),_.createElement("ul",{className:"board-small column2"},this.props.list.map(function(t,n){var i=E.Safety.image(t.media.images.thumbnail,g.Empty.IMG_SMALL);return _.createElement(m.ComponentHeadlineArticle,{key:"headline-"+t.id,index:n,id:String(t.id),slug:t.categories.slug,categories:t.categories.all,url:t.url,date:t.displayDate,title:t.title,thumbnail:i,mediaType:t.mediaType,home:e})}),_.createElement("li",{className:"board-item sponsor-link"},_.createElement("div",{ref:"sponsorLink"}))))}}]),t}(_.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentHeadlineArticle=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(104),m=n(165),g=n(178),y=n(193),v=n(195),E=n(176),_=n(177),k=self.React,S=function(e){return e===m.MediaType.VIDEO?k.createElement("img",{src:h.Empty.VIDEO_PLAY_SMALL_1X1,alt:"",className:"post-thumb-overlay-movie type-movie"}):null};t.ComponentHeadlineArticle=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.boundGa=n.gaSend.bind(n),n.h3=null,n.state={title:e.title},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"reduce",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?35:arguments[1];return e.length>t?e.substr(0,t-1)+"…":e}},{key:"propTypes",get:function(){return{index:k.PropTypes.number.isRequired,id:k.PropTypes.string.isRequired,slug:k.PropTypes.string.isRequired,categories:k.PropTypes.array.isRequired,url:k.PropTypes.string.isRequired,date:k.PropTypes.string.isRequired,title:k.PropTypes.string.isRequired,thumbnail:k.PropTypes.string.isRequired,mediaType:k.PropTypes.string.isRequired,home:k.PropTypes.bool.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){null!==this.h3&&this.titleLength()}},{key:"titleLength",value:function(){var e=new y.Elements(this.h3),n=v.Num["float"](parseFloat(e.style.get("minHeight"))),i=e.offset(),s=v.Num["float"](i.height);if(!(n>=s)){var r=t.reduce(this.props.title);this.setState({title:r})}}},{key:"render",value:function(){var e=this,t=this.props;return k.createElement("li",{className:"board-item board-item-"+t.index},k.createElement("a",{className:"post",href:t.url,onClick:this.boundGa},k.createElement("figure",{className:"post-thumb post-thumb-headline"},k.createElement("img",{src:t.thumbnail,alt:t.title}),S(this.props.mediaType)),k.createElement("div",{className:"post-data"},k.createElement("p",{className:"post-category post-category-"+t.slug},k.createElement(g.CategoryLabelNode,{categories:this.props.categories,id:"headline-label-"+this.props.id,index:this.props.index,mediaType:this.props.mediaType,recommend:!1})),k.createElement("h3",{className:"post-heading",ref:function(t){e.h3=t}},this.state.title),k.createElement("p",{className:"post-date"},t.date))))}},{key:"gaSend",value:function(){var e=this.props.home?"home":this.props.slug;E.Ga.add(new _.GaData("ComponentHeadlineArticle.gaSend",e+"_headline","click",this.props.url,parseFloat(this.props.id)))}}]),t}(k.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Elements=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(93),y=n(194),v=self.Sagen,E=(0,m["default"])("Sagen.Dom instance"),_=(0,m["default"])("Style instance");t.Elements=function(e){function t(e){if((0,o["default"])(this,t),!e)throw new Error("element is not correct: "+e);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n[E]=new v.Dom(e),n[_]=new y.Style(e),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"dom",get:function(){return this[E]}},{key:"style",get:function(){return this[_]}}]),t}(g.Offset)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Style=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=self.Sagen.Dom,d=(0,u["default"])("current style.cssText");t.Style=function(){function e(t){(0,r["default"])(this,e),this.element=t,this[d]=this.current()}return(0,o["default"])(e,[{key:"get",value:function(e){return c.getStyle(this.element,e)}},{key:"set",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];t&&(this[d]=e);var n=this.element;return n&&n.style&&n.style.cssText?(n.style.cssText=e,t):t}},{key:"current",value:function(){var e=this.element;return e&&e.style?e.style.cssText:""}},{key:"restore",value:function(){var e=this.origin,t=this.element;return t&&t.style&&t.style.cssText?(t.style.cssText=e,e):""}},{key:"origin",get:function(){return this[d]}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Num=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.Num=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"float",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],n=10*t,i=parseInt(e*n,10);return i/n}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Ad=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=n(91),d=(0,u["default"])();t.Ad=function(){function e(t){if((0,r["default"])(this,e),d!==t)throw new Error("Ad is static Class. not use new Ad().")}return(0,o["default"])(e,null,[{key:"host",value:function(){switch(c.Loc.protocol){case"https:":return e.ssl();case"http:":default:return"http://i.socdm.com"}}},{key:"ssl",value:function(){return"https://ssl.socdm.com"}},{key:"make",value:function(t,n){var i=document.createElement("div"),s=document.createElement("script");return s.src=t.split(e.ID).join(n),i.appendChild(s),i}},{key:"makeStream",value:function(t,n){var i=document.createElement("div"),s=document.createElement("script");return s.src=e.host()+"/sdk/js/adg-script-loader.js?id="+n+"&targetID="+t+"&displayid=2&adType=INFEED&async=true&tagver=2.0.0",i.appendChild(s),i}},{key:"ID",get:function(){return"__TARGET_ID__"}},{key:"SP_40713",get:function(){return e.host()+"/sdk/js/adg-script-loader.js?id=35244&targetID="+e.ID+"&displayid=2&adType=INFEED&async=true&tagver=2.0.0"}},{key:"SP_40680",get:function(){return e.host()+"/sdk/js/adg-script-loader.js?id=35208&targetID="+e.ID+"&displayid=3&adType=INFEED&async=true&tagver=2.0.0"}},{key:"SP_40681",get:function(){return e.host()+"/sdk/js/adg-script-loader.js?id=35209&targetID="+e.ID+"&displayid=3&adType=INFEED&async=true&tagver=2.0.0"}},{key:"SP_NEWS",get:function(){return e.SP_40713}},{key:"SP_OFFICIAL",get:function(){return e.SP_40680}},{key:"SP_NORMAL",get:function(){return e.SP_40681}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentHeadlineAd=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(196),m=self.React;t.ComponentHeadlineAd=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.sponsorLink=null,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{browser:m.PropTypes.string.isRequired,ad:m.PropTypes.object.isRequired,category:m.PropTypes.object}}},{key:"defaultProps",get:function(){return{category:{}}}}]),(0,d["default"])(t,[{key:"isBig6Tv",value:function(){var e=this.props.category;return"big6tv"===e.slug}},{key:"script",value:function n(e){if(this.sponsorLink){var t=document.createElement("div"),n=document.createElement("script");n.src=e,t.appendChild(n),this.sponsorLink.appendChild(t)}}},{key:"sp",value:function(){if(!this.isBig6Tv()){var e=this.props.ad.sp;e&&this.script(h.Ad.host()+"/sdk/js/adg-script-loader.js?id="+e+"&targetID=adg_"+e+"&displayid=2&adType=INFEED&async=true&tagver=2.0.0")}}},{key:"pc",value:function(){if(!this.isBig6Tv()){var e=this.props.ad.pc;e&&this.script(h.Ad.host()+"/sdk/js/adg-script-loader.js?id="+e+"&targetID=adg_"+e+"&displayid=2&adType=PC&width=0&height=0&sdkType=3&async=true&tagver=2.0.0")}}},{key:"componentDidMount",value:function(){switch(this.props.browser){case"sp":this.sp();break;case"pc":default:this.pc()}}},{key:"render",value:function(){var e=this;switch(this.props.browser){case"sp":if(!this.props.ad.sp)return null;break;case"pc":default:if(!this.props.ad.pc)return null}return m.createElement("div",{className:"sponsor-link",ref:function(t){e.sponsorLink=t}})}}]),t}(m.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelCategoriesSlug=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(199),g=n(201);n(97),t.ModelCategoriesSlug=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,n));return i.action=new m.CategoriesSlug(e,i.done.bind(i),i.fail.bind(i)),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_CATEGORIES:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,new g.CategoriesSlugDae(t))}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CategoriesSlug=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(200),m=n(41);t.CategoriesSlug=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];(0,o["default"])(this,t),e=m.Safety.string(e,"all");var s=(0,d["default"])(this,(0,r["default"])(t).call(this,n,i));return s._slug=e,s._url=s._types.url+"/"+e,s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"slug",get:function(){return this._slug}}]),t}(h.Categories)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Categories=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(115),p=n(38);t.Categories=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,p.Api.categories(),e,n))}return(0,d["default"])(t,e),t}(f.Action)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CategoriesSlugDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(202),c=n(204),d=n(124),f=(n(125),n(206)),p=n(207);t.CategoriesSlugDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._theme=new u.ThemeDae(t.theme),this._banner=new d.BannersDae(t.banner),this._ad=new c.AdDae(t.ad),this._response=t,this._pickup=new f.PickupDae(t.pickup),this._headline=new p.HeadlineDae(t.headline),this._titleBanner=new d.BannersDae(t.title_banner)}return(0,o["default"])(e,[{key:"response",get:function(){return this._response}},{key:"id",get:function(){return this.response.id}},{key:"label",get:function(){return this.response.label}},{key:"slug",get:function(){return this.response.slug}},{key:"url",get:function(){return this.response.url}},{key:"titleImage",get:function(){return console.warn("deprecated instead use titleBanner.[pc|sp]"),this.response.title_img}},{key:"title",get:function(){return this.response.title}},{key:"description",get:function(){return this.response.description}},{key:"theme",get:function(){return this._theme}},{key:"banner",get:function(){return this._banner}},{key:"ad",get:function(){return this._ad}},{key:"isShowFilter",get:function(){return this.response.is_show_filter}},{key:"pickup",get:function(){return this._pickup}},{key:"headline",get:function(){return this._headline}},{key:"titleImgLink",get:function(){return console.warn("deprecated instead use titleBanner.[pc|sp]"),this.response.title_img_link}},{key:"titleBanner",get:function(){return this._titleBanner}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(203);t.ThemeDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._theme=t,this._images=new u.ImagesDae(t.images)}return(0,o["default"])(e,[{key:"theme",get:function(){return this._theme}},{key:"base",get:function(){return this.theme.base}},{key:"backgroundColor",get:function(){return this.theme.background_color}},{key:"images",get:function(){return this._images}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ImagesDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.ImagesDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._images=t}return(0,o["default"])(e,[{key:"images",get:function(){return this._images}},{key:"pc",get:function(){return this.images.pc}},{key:"sp",get:function(){return this.images.sp}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AdDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(205);t.AdDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._pc=new u.AdPcDae(t.pc),this._ad=t}return(0,o["default"])(e,[{key:"ad",get:function(){return this._ad}},{key:"ios",get:function(){return this.ad.ios}},{key:"android",get:function(){return this.ad.android}},{key:"sp",get:function(){return this.ad.sp}},{key:"pc",get:function(){return this._pc}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AdPcDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.AdPcDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._pc=t}return(0,o["default"])(e,[{key:"pc",get:function(){return this._pc}},{key:"sidebarTop",get:function(){return this.pc.sidebar_top}},{key:"sidebarBottom",get:function(){return this.pc.sidebar_bottom}},{key:"singleTop",get:function(){return this.pc.single_top}},{key:"singleBottomLeft",get:function(){return this.pc.single_bottom_left}},{key:"singleBottomRight",get:function(){return this.pc.single_bottom_right}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PickupDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(154);t.PickupDae=function(){function e(t){(0,r["default"])(this,e);var n=l.Safety.object(t),i=l.Safety.array(n.articles),s=i.map(function(e){return new u.ArticleDae(e)});this._pickup=n,this._articles=s}return(0,o["default"])(e,[{key:"has",value:function(){return this.articles.length>0}},{key:"pickup",get:function(){return this._pickup}},{key:"articles",get:function(){return this._articles}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HeadlineDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(208),c=n(209);t.HeadlineDae=function(){function e(t){(0,r["default"])(this,e);var n=l.Safety.object(t),i=l.Safety.array(n.articles),s=i.map(function(e){return new u.RelatedDae(e)});this._headline=n,this._articles=s,this._ad=new c.HeadlineAdDae(n.ad)}return(0,o["default"])(e,[{key:"has",value:function(){return this.articles.length>0}},{key:"headline",get:function(){return this._headline}},{key:"articles",get:function(){return this._articles}},{key:"ad",get:function(){return this._ad}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RelatedDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(119),c=n(155),d=n(120),f=n(161),p=n(202),h=n(204),m=n(124);t.RelatedDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t),this._response=t,this._categories=new f.CategoriesDae(t),this._media=new c.MediaDae(t.media),this._user=new d.UserDae(t.user);var n=void 0;l.Safety.check(t,"date")&&(n=u.Format.date(t.date)),this._formatDate=n,this._theme=new p.ThemeDae(t.theme),this._banner=new m.BannersDae(t.banner),this._ad=new h.AdDae(t.ad)}return(0,o["default"])(e,[{key:"response",get:function(){return this._response}},{key:"id",get:function(){return this.response.id}},{key:"date",get:function(){return this.response.date}},{key:"formatDate",get:function(){return this._formatDate}},{key:"displayDate",get:function(){return this.response.display_date}},{key:"title",get:function(){return this.response.title}},{key:"description",get:function(){return this.response.description}},{key:"categories",get:function(){return this._categories}},{key:"url",get:function(){return this.response.url}},{key:"isBookmarked",get:function(){return this.response.is_bookmarked}},{key:"mediaType",get:function(){return this.response.media_type}},{key:"media",get:function(){return this._media}},{key:"user",get:function(){return this._user}},{key:"theme",get:function(){return this._theme}},{key:"banner",get:function(){return this._banner}},{key:"ad",get:function(){return this._ad}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HeadlineAdDae=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(204);t.HeadlineAdDae=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n._pc=n.ad.pc,n}return(0,d["default"])(t,e),t}(f.AdDae)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewSingle=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(211),g=n(214),y=n(224),v=n(228),E=n(316),_=n(317),k=(n(97),n(41)),S=n(215),b=(n(161),n(162),n(85)),T=n(67),P=n(107),R=n(177),N=n(176),M=n(302),w=n(314),C=n(235),D=n(239),O=n(236),I=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,o["default"])(this,t),s=k.Safety.object(s);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,n,s)),l=T.User.sign?_.SingleAuth:E.Single;return a.action=new l(e,a.done.bind(a),a.fail.bind(a)),a._elements=i,a._boundMount=a.headerMount.bind(a),a._viewRelated=null,a._header=null,a._footer=null,a._singles=null,a.id=e,a.page=null,a.manager=null,a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error(P.Message.undef("[SINGLE:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n)}else{var i=new S.SingleDae(t),s=M.SinglesHistory.factory();this.manager=s;var r=new w.Page(i);this.page=r,s.setBase(r.url()),s.hit(r);var a=b.Dom.get("js-current-post"),o=new C.Snap(a,!0,r);o.on(C.Snap.SNAPPED,this.onSnap.bind(this)),o.on(C.Snap.BEAT_UP,this.onBeat.bind(this)),o.init();var l=new O.Hit(a);l.on(O.Hit.COLLISION,this.hitIn.bind(this)),l.start();var u=D.TopButton.factory();u.on(D.TopButton.COMPLETE,this.onTop.bind(this)),this.render(i),this.singles(i)}}},{key:"onSnap",value:function(){this.manager.hit(this.page)}},{key:"onBeat",value:function(){this.manager.hit(this.page)}},{key:"hitIn",value:function(){this.manager.hit(this.page)}},{key:"onTop",value:function(){this.manager.hit(this.page)}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e),console.warn("error",e)}},{key:"singles",value:function n(e){if(null===this._singles){var t=b.Dom.singlesNext(),i=b.Dom.singlesMore();if(null!==t&&null!==i){var n=new v.ViewSingles(this.id,t,i,e);this._singles=n,n.start()}}else this._singles.update()}},{key:"render",value:function(e){this.executeSafely(h.View.BEFORE_RENDER,e);var n=void 0,i=void 0;null===this._header?(n=new g.ViewSingleHeader(this.element,e),n.on(h.View.DID_MOUNT,this._boundMount),this._header=n,n.start()):this._header.render(e),k.Safety.isElement(this._elements.footer)&&(null===this._footer?(i=new y.ViewSingleFooter(this._elements.footer,e),this._footer=i,i.start()):this._footer.render(e)),e.hasRelated&&this.related(e.related),N.Ga.single(e,"ViewSingle.render"),t.moreExternal()}},{key:"headerMount",value:function(){this._header.off(h.View.DID_MOUNT,this._boundMount),this.executeSafely(h.View.DID_MOUNT)}},{key:"related",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];if(k.Safety.isElement(this._elements.related))if(e=k.Safety.array(e),null===this._viewRelated){var t=new m.ViewRelated(this._elements.related,e);t.start(),this._viewRelated=t}else this._viewRelated.render(e)}},{key:"header",get:function(){return this._header},set:function(e){this._header=e}},{key:"boundMount",get:function(){return this._boundMount}}],[{key:"moreExternal",value:function(){var e=b.Dom.moreExternal();null!==e&&e.addEventListener("click",t.onExternal,!1)}},{key:"onExternal",value:function(e){var t="external_link",n="click",i=k.Safety.string(e.target.href,""),s="ViewSingle.onExternal";N.Ga.add(new R.GaData(s,t,n,i,0,!0))}},{key:"ga",value:function(e){var t="provider",n="view",i=e.user.userName,s="ViewSingle.ga";N.Ga.add(new R.GaData(s,t,n,i,0,!0));var r=e.categories;t="category",r.all.map(function(e){N.Ga.add(new R.GaData(s,t,n,e.label,0,!0))})}}]),t}(h.View);t.ViewSingle=I},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewRelated=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(41),g=(n(208),n(212)),y=self.ReactDOM;t.ViewRelated=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return i._related=m.Safety.array(n),i._rendered=null,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render(this._related)}},{key:"render",value:function(e){if(m.Safety.isElement(this.element)&&0!==e.length){var t=this.element;null===this._rendered?this._rendered=y.render(React.createElement(g.ComponentSingleRelated,{list:e}),t):this._rendered.updateList(e)}}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSingleRelated=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(107),m=n(104),g=n(41),y=n(213),v=n(164),E=self.React;t.ComponentSingleRelated=function(e){function t(e){(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.state={list:e.list},n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){var e=this.state.list;return 0===e.length?null:E.createElement("div",{className:"related-post"},E.createElement("div",{className:"comment-heading"},E.createElement("h2",null,h.Message.RELATED_TITLE)),E.createElement("ul",{className:"board-small column2"},e.map(function(e,t){var n=g.Safety.image(e.media.images.thumbnail,m.Empty.IMG_SMALL);return E.createElement("li",{className:"board-item column2",key:"related-"+e.id},E.createElement("a",{href:e.url,id:"related-"+e.id,className:"post post-"+t},E.createElement(v.ComponentArticleThumbnail,{mediaType:e.media.mediaType,thumbnail:n,title:"",recommend:!1}),E.createElement("div",{className:"post-data"},E.createElement(y.ComponentCategoryLabels,{index:t,id:"related-"+e.id,categories:e.categories.all,slug:e.categories.slug}),E.createElement("h3",{className:"post-heading"},e.title),E.createElement("p",{className:"post-date"},e.displayDate))))})))}},{key:"updateList",value:function(e){this.setState({list:e})}}],[{key:"propTypes",get:function(){return{list:E.PropTypes.array.isRequired}}}]),t}(E.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentCategoryLabels=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=self.React;t.ComponentCategoryLabels=function(e){function t(e){return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.categories;if(0===t.length)return null;var n=e.id,i=e.index,s=e.slug||"x",r=this.props.className;return h.createElement("p",{className:r+" "+r+"-"+s},t.map(function(e,t){return h.createElement("span",{key:"labels-"+n+"-"+i+"-"+t,className:"category-label"},e.label)}))}}],[{key:"propTypes",get:function(){return{index:h.PropTypes.number.isRequired,id:h.PropTypes.string.isRequired,categories:h.PropTypes.array.isRequired,slug:h.PropTypes.string,className:h.PropTypes.string}}},{key:"defaultProps",get:function(){return{slug:"",className:"post-category"}}}]),t}(h.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewSingleHeader=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=(n(215),n(67)),g=n(219),y=self.ReactDOM;t.ViewSingleHeader=function(e){function t(e,n){(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return i._single=n,i._rendered=null,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render(this._single)}},{key:"render",value:function(e){var t=this.element;null===this._rendered?this._rendered=y.render(React.createElement(g.ComponentSingleHeader,{single:e,sign:m.User.sign,callback:this.executeSafely.bind(this)}),t):this._rendered.updateSingle(e,m.User.sign)}},{key:"rendered",get:function(){return this._rendered},set:function(e){this._rendered=e}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SingleDae=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(41),m=n(216),g=n(208),y=n(217),v=n(218);t.SingleDae=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,o["default"])(this,t),e=h.Safety.object(e);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));n._keywords=new m.KeywordsDae(e.keywords);var i=[];h.Safety.check(e,"related_articles","array")&&(i=e.related_articles.map(function(e){
return new g.RelatedDae(e)})),n._related=i,n._canonical=new y.CanonicalDae(e.canonical);var s=h.Safety.array(e.recommend_articles);return n._recommendArticles=s.map(function(e){return new t(e)}),n._readmore=new v.ReadmoreDae(e.readmore),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"body",get:function(){return this.response.body}},{key:"bodyEscape",get:function(){return h.Safety.string(this.response.body_escape,"")}},{key:"hasRelated",get:function(){return this._related.length>0}},{key:"related",get:function(){return this._related}},{key:"keywords",get:function(){return this._keywords}},{key:"isShowImage",get:function(){return this.response.is_show_image}},{key:"canonical",get:function(){return this._canonical}},{key:"mediaVkRefid",get:function(){return this.response.media_vk_refid}},{key:"recommendArticles",get:function(){return this._recommendArticles}},{key:"readmore",get:function(){return this._readmore}}]),t}(g.RelatedDae)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.KeywordsDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.KeywordsDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];(0,r["default"])(this,e),this._keywords=l.Safety.array(t)}return(0,o["default"])(e,[{key:"concat",value:function(){var e=arguments.length<=0||void 0===arguments[0]?", ":arguments[0];return e=l.Safety.string(e,", "),this.keywords.join(e)}},{key:"keywords",get:function(){return this._keywords}},{key:"hasKeyword",get:function(){return this.keywords.length>0}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CanonicalDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.CanonicalDae=function(){function e(t){(0,r["default"])(this,e),t=l.Safety.object(t),this._canonical=t}return(0,o["default"])(e,[{key:"canonical",get:function(){return this._canonical}},{key:"isCanonical",get:function(){return!!this.canonical.is_canonical}},{key:"url",get:function(){return this.canonical.url}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReadmoreDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41);t.ReadmoreDae=function(){function e(t){(0,r["default"])(this,e),t=l.Safety.object(t),this._readmore=t}return(0,o["default"])(e,[{key:"readmore",get:function(){return this._readmore}},{key:"isReadmore",get:function(){return!!this.readmore.is_readmore}},{key:"url",get:function(){return this.readmore.url}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSingleHeader=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(220),g=n(223),y=self.React;t.ComponentSingleHeader=function(e){function t(e){(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single,sign:e.sign,status:e.single.isBookmarked,bookmarked:e.single.isBookmarked?"bookmarked enable":"",loading:""},n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"componentWillMount",value:function(){var e=this.props.callback;e&&e(h.View.WILL_MOUNT)}},{key:"componentDidMount",value:function(){var e=this.props.callback;e&&e(h.View.DID_MOUNT)}},{key:"updateSingle",value:function(e,t){this.setState({single:e,sign:t})}},{key:"render",value:function(){var e=this.state.single;return y.createElement("div",{className:"single-header-root"},y.createElement("div",{className:"post-heading post-heading-"+e.id},y.createElement("h1",null,e.title)),y.createElement(g.ComponentCategoryLabelsLink,{index:0,id:"single-label-"+e.id,categories:e.categories.all,className:"category-heading"}),y.createElement("div",{className:"post-data"},y.createElement("div",{className:"f-left"},y.createElement("p",{className:"post-author"},e.user.userName),y.createElement("p",{className:"post-date"},e.displayDate)),y.createElement(m.BookmarkNode,{sign:this.state.sign,isBookmarked:this.state.status,articleId:String(e.id)})))}}],[{key:"propTypes",get:function(){return{single:y.PropTypes.object.isRequired,sign:y.PropTypes.bool.isRequired,callback:y.PropTypes.func}}}]),t}(y.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BookmarkNode=void 0;var i=n(107),s=n(99),r=n(221),a=n(91),o=n(176),l=n(177),u=self.React;t.BookmarkNode=u.createClass({displayName:"BookmarkNode",propTypes:{sign:u.PropTypes.bool.isRequired,isBookmarked:u.PropTypes.bool,articleId:u.PropTypes.string},getDefaultProps:function(){return{isBookmarked:!1,articleId:"",marked:"bookmarked enable"}},getInitialState:function(){return this.action=null,{sign:this.props.sign,status:this.props.isBookmarked,bookmarked:this.props.isBookmarked?this.props.marked:"",loading:""}},render:function(){return this.state.sign?u.createElement("div",{className:"f-right"},u.createElement("div",{className:this.state.loading+" loading-root btn-bookmark"},u.createElement("a",{href:"#",className:this.state.bookmarked,onClick:this.clickBookmark,ref:"bookmarked"},u.createElement("span",null,this.state.status?i.Message.BOOKMARK_DID:i.Message.BOOKMARK_WILL)),u.createElement("div",{className:"loading-spinner"}))):null},componentDidMount:function(){if(this.state.sign){var e=new r.ModelBookmark(this.props.articleId);this.action=e,e.on(s.Model.COMPLETE,this.done),e.on(s.Model.UNDEFINED_ERROR,this.fail),e.on(s.Model.RESPONSE_ERROR,this.fail)}},componentWillUnMount:function(){this.dispose()},dispose:function(){var e=this.action;null!==e&&(e.off(s.Model.COMPLETE,this.done),e.off(s.Model.UNDEFINED_ERROR,this.fail),e.off(s.Model.RESPONSE_ERROR,this.fail),this.action=null)},clickBookmark:function(e){e.preventDefault(),this.setState({loading:"loading"}),this.action.start(!this.state.status),this.state.status?o.Ga.add(new l.GaData("BookmarkNode.clickBookmark","bookmark","cancel",a.Loc.current,parseFloat(this.props.articleId))):o.Ga.add(new l.GaData("BookmarkNode.clickBookmark","bookmark","save",a.Loc.current,parseFloat(this.props.articleId)))},done:function(){var e="";this.state.status||(e=this.props.marked),this.setState({loading:"",status:!this.state.status,bookmarked:e})},fail:function(){this.setState({loading:""})}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelBookmark=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=(n(97),n(222));t.ModelBookmark=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,n));return i.action=new m.Bookmark(e,i.done.bind(i),i.fail.bind(i)),i._articleId=e,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(e){e?this.action.add():this.action.remove()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_BOOKMARK:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,e)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}},{key:"articleId",get:function(){return this._articleId}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Bookmark=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(175),m=n(38),g=n(83),y=n(67);t.Bookmark=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];(0,o["default"])(this,t);var s=m.Api.bookmark("add"),a=m.Api.bookmark("delete"),l=(0,d["default"])(this,(0,r["default"])(t).call(this,y.User.token,s,null,n,i));return l._add=s,l._remove=a,l._articleId=e,l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){arguments.length<=0||void 0===arguments[0]?"":arguments[0]}},{key:"add",value:function(){this.ajax.start(this.url,this._add.method,this.success.bind(this),this.fail.bind(this),this.resultClass,this.headers)}},{key:"remove",value:function(){this.ajax.start(this.url,this._remove.method,this.success.bind(this),this.fail.bind(this),this.resultClass,this.headers)}},{key:"url",get:function(){return g.Path.article(this._url,this._articleId)}},{key:"articleId",get:function(){return this._articleId}}]),t}(h.ActionAuthBehavior)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentCategoryLabelsLink=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(92),m=self.React;t.ComponentCategoryLabelsLink=function(e){function t(e){return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){var e=this.props,t=e.categories;if(0===t.length)return null;var n=e.id,i=e.index,s=e.slug||"x",r=this.props.className;return m.createElement("p",{className:r+" "+r+"-"+s},t.map(function(e,t){return m.createElement("span",{key:"labels-"+n+"-"+i+"-"+t,className:"category-label"},m.createElement("a",{href:h.Url.category(e.slug)},e.label))}))}}],[{key:"propTypes",get:function(){return{index:m.PropTypes.number.isRequired,id:m.PropTypes.string.isRequired,categories:m.PropTypes.array.isRequired,slug:m.PropTypes.string,className:m.PropTypes.string}}},{key:"defaultProps",get:function(){return{slug:"",className:"post-category"}}}]),t}(m.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewSingleFooter=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=(n(215),n(225)),g=self.ReactDOM;t.ViewSingleFooter=function(e){function t(e,n){(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return i._single=n,i._rendered=null,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render(this._single)}},{key:"render",value:function(e){null===this._rendered?this._rendered=g.render(React.createElement(m.ComponentSingleFooter,{single:e,callback:this.executeSafely.bind(this)}),this.element):this._rendered.updateSingle(e)}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSingleFooter=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(100),m=n(92),g=n(107),y=n(226),v=self.React;t.ComponentSingleFooter=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:v.PropTypes.object.isRequired,callback:v.PropTypes.func.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){this.props.callback(h.View.DID_MOUNT)}},{key:"updateSingle",value:function(e){this.setState({single:e})}},{key:"render",value:function(){var e=this.state.single,t=e.keywords,n=y.Banner.pc(e);return t.hasKeyword?v.createElement("div",{className:"post-footer"},n,v.createElement("div",{className:"post-tags"},v.createElement("h2",{className:"post-tags-heading"},g.Message.TAGS_TITLE),v.createElement("ul",{className:"post-tags-list"},t.keywords.map(function(e,t){return v.createElement("li",{key:"keyword-"+t,className:"post-tags-item"},v.createElement("a",{href:m.Url.search(e)},e))})))):null===n?null:v.createElement("div",{className:"post-footer"},n)}}]),t}(v.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Banner=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(227);t.Banner=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"pc",value:function(e){var t=e.user.banner.pc,n=e.banner.pc;return!n.image&&t.image&&(n=t),n?React.createElement(u.BannerNode,{banner:n}):null}},{key:"sp",value:function(e,t){if(!l.Safety.isElement(t))return null;var n=e.user.banner.sp,i=e.banner.sp;return!i.image&&n.image&&(i=n),i?React.createElement(u.BannerNode,{banner:i,pc:!1}):null}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BannerNode=void 0;var i=n(41),s=n(176),r=self.React;t.BannerNode=r.createClass({displayName:"BannerNode",propTypes:{banner:r.PropTypes.object.isRequired,pc:r.PropTypes.bool},getDefaultProps:function(){return this.link="",{pc:!0}},render:function(){var e=this.props.banner;if("undefined"==typeof e.text||"undefined"==typeof e.image||"undefined"==typeof e.link)return null;if(!i.Safety.isImg(e.image))return null;var t=i.Safety.string(e.link,"");return""===t?null:(this.link=t,r.createElement("div",{className:"sponsor-link editor-bnr"+(this.props.pc?" w728":"")},r.createElement("a",{href:t,target:"_blank",onClick:this.bannerClick},r.createElement("img",{src:e.image,alt:e.text}))))},bannerClick:function(){s.Ga.click("BannerNode.bannerClick","banner_link","click",this.link,!0)}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewSingles=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(153),m=n(100),g=n(67),y=n(107),v=n(229),E=n(230),_=n(215),k=n(231),S=self.ReactDOM,b=self.React;t.ViewSingles=function(e){function t(e,n,i,s){var a=arguments.length<=4||void 0===arguments[4]?{}:arguments[4];(0,o["default"])(this,t);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,n,i,null,a,!1)),u=l.done.bind(l),c=l.fail.bind(l);return l.action=g.User.sign?new E.SinglesAuth(e,u,c):new v.Singles(e,u,c),l.single=s,l.id=e,l.request={offset:0,length:0},l.articleRendered=null,l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"done",value:function(e){var t=e.articles;if(Array.isArray(t)&&"undefined"!=typeof t)if(0===t.length){var n=new Error(y.Message.empty("[ARCHIVE:EMPTY]"));this.executeSafely(m.View.EMPTY_ERROR,n)}else{var i=e.request;i.length||(i.length=this.action.length),this.request=i,this.render(t)}else{var s=new Error(y.Message.undef("[ARCHIVE:UNDEFINED]"));this.executeSafely(m.View.UNDEFINED_ERROR,s)}}},{key:"render",value:function(e){var t=this.articles,n=this.articles.length;e.map(function(e,i){var s=new _.SingleDae(e);return s.index=n+i,t.push(s),e});var i=this.request.offset,s=this.request.length;S.render(b.createElement(k.ComponentSingles,{list:t,offset:i,length:s,action:this.action,callback:this.boundSafely,boundMore:this.boundMore,single:this.single,home:!1,sign:g.User.sign}),this.element)}}]),t}(h.ViewArchiveMasonryInfinite)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Singles=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(110),m=n(106),g=n(83),y=n(38);t.Singles=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?0:arguments[3],a=arguments.length<=4||void 0===arguments[4]?m.Length.list:arguments[4];(0,o["default"])(this,t);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,y.Api.singles(),n,i,s,a));return l.id=e,l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"url",get:function(){return g.Path.article(this._url,this.id)+"?offset="+this.offset+"&length="+this.length}}]),t}(h.Offset)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SinglesAuth=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(109),m=n(106),g=n(83),y=n(67),v=n(38);t.SinglesAuth=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?0:arguments[3],a=arguments.length<=4||void 0===arguments[4]?m.Length.list:arguments[4];(0,o["default"])(this,t);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,y.User.token,v.Api.singles(),n,i,s,a));return l.id=e,l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"url",get:function(){return g.Path.article(this._url,this.id)+"?offset="+this.offset+"&length="+this.length}}]),t}(h.OffsetAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSingles=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(100),m=n(232),g=n(233),y=n(246),v=n(244),E=n(262),_=self.React;t.ComponentSingles=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={list:e.list,offset:e.offset,length:e.length},n.manager=v.SinglesManager.factory(e.single),n.offset=0,n.timer=0,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{list:_.PropTypes.array.isRequired,offset:_.PropTypes.number.isRequired,length:_.PropTypes.number.isRequired,action:_.PropTypes.object.isRequired,callback:_.PropTypes.func.isRequired,boundMore:_.PropTypes.func.isRequired,single:_.PropTypes.object.isRequired,home:_.PropTypes.bool.isRequired,sign:_.PropTypes.bool.isRequired}}}]),(0,d["default"])(t,[{key:"underThree",value:function(){var e=arguments.length<=0||void 0===arguments[0]?9:arguments[0],t=this.props.single,n=!0,i=this.props.sign;return _.createElement("div",{className:"singles-root-under3"},_.createElement(g.ComponentSinglesWidget,{index:e,single:t,type:m.WidgetType.RECOMMEND,strong:n,sign:i}),_.createElement(g.ComponentSinglesWidget,{index:e+1,single:t,type:m.WidgetType.RELATED,strong:n,sign:i}),_.createElement(g.ComponentSinglesWidget,{index:e+2,single:t,type:m.WidgetType.POPULAR,strong:n,sign:i}))}},{key:"next",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(!t){var n=e+1;if(n%3!==0)return null}var i=this.props.single,s=this.props.sign,r=this.manager.next();switch(r){case m.WidgetType.RECOMMEND:return _.createElement(g.ComponentSinglesWidget,{index:e,single:i,type:m.WidgetType.RECOMMEND,strong:t,sign:s});case m.WidgetType.RELATED:return _.createElement(g.ComponentSinglesWidget,{index:e,single:i,type:m.WidgetType.RELATED,strong:t,sign:s});case m.WidgetType.POPULAR:return _.createElement(g.ComponentSinglesWidget,{index:e,single:i,type:m.WidgetType.POPULAR,strong:t,sign:s});default:return null}}},{key:"widget",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return _.createElement(g.ComponentSinglesWidget,{index:t,single:this.props.single,type:e,strong:n,sign:this.props.sign})}},{key:"delayMore",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?.5:arguments[0];clearTimeout(this.timer),this.timer=setTimeout(function(){e.props.boundMore(e.props.action.hasNext())},1e3*t)}},{key:"componentDidMount",value:function(){this.props.callback(h.View.DID_MOUNT),this.props.boundMore(this.props.action.hasNext()),this.offset=this.props.offset}},{key:"componentWillReceiveProps",value:function(e){e.offset!==this.offset&&(this.offset=e.offset,this.setState({offset:e.offset,list:e.list,length:e.length}),this.delayMore(),E.Fb.delay())}},{key:"render",value:function(){var e=this,t=this.props,n=this.state,i=n.list,s=i.length;return 0===s?_.createElement("div",{className:"singles-root"},this.underThree(s)):3>s?_.createElement("div",{className:"singles-root"},i.map(function(e,n){return _.createElement(y.ComponentSinglesArticleMagnet,{key:"singles-article-"+e.id,single:e,sign:t.sign,index:n})}),this.underThree(s)):6>s?_.createElement("div",{className:"singles-root"},i.map(function(n,i){return _.createElement("div",{key:"single-root-"+n.id,className:"singles-root-article singles-root-article-under6"},_.createElement(y.ComponentSinglesArticleMagnet,{key:"singles-article-"+n.id,single:n,sign:t.sign,index:i}),e.next(i))}),this.next(s,!0),this.next(s+1,this.manager.count<3)):9>s?_.createElement("div",{className:"singles-root"},i.map(function(n,i){return _.createElement("div",{key:"single-root-"+n.id,className:"singles-root-article singles-root-article-under9"},_.createElement(y.ComponentSinglesArticleMagnet,{key:"singles-article-"+n.id,single:n,sign:t.sign,index:i}),e.next(i))}),this.next(s,this.manager.count<3)):_.createElement("div",{className:"singles-root"},i.map(function(n,i){return _.createElement("div",{key:"single-root-"+n.id,className:"singles-root-article"},_.createElement(y.ComponentSinglesArticleMagnet,{key:"singles-article-"+n.id,single:n,sign:t.sign,index:i}),e.next(i))}))}}]),t}(_.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetType=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.WidgetType=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"RECOMMEND",get:function(){return"widget-postList_recommend"}},{key:"POPULAR",get:function(){return"widget-postList_popular"}},{key:"RELATED",get:function(){return"widget-postList_related"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSinglesWidget=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(232),m=n(234),g=n(240),y=n(245),v=self.React;t.ComponentSinglesWidget=function(e){function t(e){(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.state={index:e.index,single:e.single,type:e.type,strong:e.strong,sign:e.sign},n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){switch(this.state.type){case h.WidgetType.RECOMMEND:return this.recommend();case h.WidgetType.RELATED:return this.related();case h.WidgetType.POPULAR:default:return this.popular()}}},{key:"recommend",value:function(){return v.createElement(m.ComponentSinglesWidgetRecommend,{index:this.state.index,single:this.state.single,strong:this.state.strong,sign:this.state.sign})}},{key:"related",value:function(){return v.createElement(y.ComponentSinglesWidgetRelated,{index:this.state.index,strong:this.state.strong,single:this.state.single})}},{key:"popular",value:function(){return v.createElement(g.ComponentSinglesWidgetPopular,{index:this.state.index,strong:this.state.strong,sign:this.state.sign})}}],[{key:"propTypes",get:function(){return{index:v.PropTypes.number.isRequired,single:v.PropTypes.object.isRequired,type:v.PropTypes.string.isRequired,strong:v.PropTypes.bool.isRequired,sign:v.PropTypes.bool.isRequired}}}]),t}(v.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSinglesWidgetRecommend=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(107),m=n(104),g=n(165),y=n(41),v=n(213),E=n(235),_=self.React,k=function(e){return e===g.MediaType.VIDEO?_.createElement("img",{src:m.Empty.VIDEO_PLAY_SMALL_1X1,alt:"",className:"post-thumb-overlay-movie type-movie"}):null};t.ComponentSinglesWidgetRecommend=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single,index:e.index},n.element=null,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{index:_.PropTypes.number.isRequired,single:_.PropTypes.object.isRequired,strong:_.PropTypes.bool.isRequired,sign:_.PropTypes.bool.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){if(null!==this.element){var e=new E.Snap(this.element);e.init()}}},{key:"build",value:function(){var e=this,t=this.state.single.recommendArticles;return Array.isArray(t)&&0!==t.length?_.createElement("div",{className:"widget-postList widget-postList_recommend-"+this.props.index+" widget-postList_recommend",ref:function(t){e.element=t}},_.createElement("div",{className:"widget-postList-heading"},_.createElement("h2",null,h.Message.RECOMMEND_TITLE)),_.createElement("ul",{className:"board-small column2"},t.map(function(e,t){var n=y.Safety.image(e.media.images.thumbnail,m.Empty.IMG_SMALL);return _.createElement("li",{key:"singles-recommend-"+e.id,className:"board-item"},_.createElement("a",{href:e.url,className:"post"},_.createElement("figure",{className:"post-thumb post-thumb-headline"},_.createElement("img",{src:n,alt:e.title}),k(e.mediaType)),_.createElement("div",{className:"post-data"},_.createElement(v.ComponentCategoryLabels,{index:t,id:"single-recommend-label-"+e.id,categories:e.categories.all}),_.createElement("h3",{className:"post-heading"},e.title),_.createElement("p",{className:"post-date"},e.displayDate))))}))):null}},{key:"updateSingle",value:function(e){this.setState({single:e})}},{key:"reload",value:function(){this.updateSingle(this.state.single)}},{key:"render",value:function(){var e=this.state.single.recommendArticles;if(0===e.length)return null;var t=this.props;if(t.strong)return this.build();var n=this.state.index+1;return 3!==n?null:this.build()}}]),t}(_.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Snap=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(81),m=n(236),g=n(94),y=n(239),v=n(193);t.Snap=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],s=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this));return a.element=e,a.elements=new v.Elements(e),a.scrolling=!1,a.boundComplete=a.scrollComplete.bind(a),a.threshold=240,a.returnHome=!1,a.noMotion=n,a.magnetic=!1,a.page=i,a.boundButtonStart=a.buttonStart.bind(a),a.boundButtonComplete=a.buttonComplete.bind(a),a.boundHit=a.onHit.bind(a),a.boundNoHit=a.noHit.bind(a),a.topButton=null,a.hit=null,a.sp=s,a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"init",value:function(){this.start()}},{key:"start",value:function(){var e=y.TopButton.factory();this.topButton=e,e.on(y.TopButton.START,this.boundButtonStart),e.on(y.TopButton.COMPLETE,this.boundButtonComplete);var t=new m.Hit(this.element);this.hit=t,t.on(m.Hit.COLLISION,this.boundHit),t.on(m.Hit.NO_COLLISION,this.boundNoHit),t.start()}},{key:"stop",value:function(){var e=this.topButton;e.off(y.TopButton.START,this.boundButtonStart),e.off(y.TopButton.COMPLETE,this.boundButtonComplete);var t=this.hit;t.off(m.Hit.COLLISION,this.boundHit),t.off(m.Hit.NO_COLLISION,this.boundNoHit),t.stop()}},{key:"onHit",value:function(e){var t=e.events,n=t.moving,i=t.distance;Math.abs(i)<this.threshold||(0>=n?this.scrollDown(e):this.scrollUp(e),this.beat(e))}},{key:"noHit",value:function(){this.magnetic=!1}},{key:"scrollDown",value:function(e){if(!this.noMotion&&!this.magnetic){var t=e.rect,n=e.events,i=n.y,s=t.top;s<=this.threshold&&s>0&&this.snap(i+s)}}},{key:"scrollUp",value:function(e){if(!this.magnetic){var n=e.rect,i=n.top;Math.abs(i)<=this.threshold&&i>0&&this.dispatch({type:t.SNAPPED,target:this})}}},{key:"beat",value:function(e){var n=e.rect,i=n.bottom,s=e.events,r=s.height,a=.01*r;r>=i&&i>a&&this.dispatch({type:t.BEAT_UP,target:this})}},{key:"snap",value:function(e){this.scrolling||"function"==typeof this.page.url&&this.page.url()===location.pathname||(this.dispatch({type:t.SNAPPED,target:this}),this.magnetic=!0,this.noMotion||this.returnHome||(this.scrolling=!0,g.Scroll.motion(e-this.scrollOffset(),.16,0,!1,this.boundComplete),g.Scroll.disable()))}},{key:"scrollOffset",value:function(){return this.sp?80:0}},{key:"scrollComplete",value:function(){this.scrolling=!1,g.Scroll.enable(750)}},{key:"buttonStart",value:function(){this.returnHome=!0}},{key:"buttonComplete",value:function(){this.returnHome=!1}}],[{key:"SNAPPED",get:function(){return"snapSnapped"}},{key:"BEAT_UP",get:function(){return"snapBeatUp"}}]),t}(h.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Hit=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(180),m=n(193),g=n(237),y=n(238);t.Hit=function(e){function t(e){(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e,0));n.elements=new m.Elements(e);var i=g.Scrolling.factory();return i.rate=new y.Rate(y.Rate.RATE_5),n.scroll=i,n.started=!1,n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){if(!this.started){this.started=!0;var e=this.scroll;e.on(g.Scrolling.UPDATE,this.boundScroll),e.start()}}},{key:"stop",value:function(){this.scroll.off(g.Scrolling.UPDATE,this.boundScroll)}},{key:"onScroll",value:function(e){var n=this.elements.offset(),i=t.test(e.height,this.elements.offset());i?this.dispatch({rect:n,events:e,type:t.COLLISION}):this.dispatch({rect:n,events:e,type:t.NO_COLLISION})}}],[{key:"test",value:function(e,t){var n={top:!1,bottom:!1,contain:!1,include:!1};return t.top<=e&&t.top>=0&&(n.top=!0),t.bottom<=e&&t.bottom>=0&&(n.bottom=!0),t.top<=0&&t.bottom>=e&&(n.contain=!0),t.top>=0&&t.top<=e&&t.bottom>=0&&t.bottom<=e&&(n.include=!0),n.top||n.bottom||n.contain||n.include}},{key:"COLLISION",get:function(){return"hitCollision"}},{key:"NO_COLLISION",get:function(){return"hitNoCollision"}}]),t}(h.Rise)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Scrolling=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(94),y=n(81),v=n(238),E=(0,m["default"])("Scrolling singleton symbol"),_=null,k=(0,m["default"])("bound mouseWheel"),S=(0,m["default"])("Cycle.UPDATE event"),b=(0,m["default"])("previous scroll top");t.Scrolling=function(e){function t(e){var n;if((0,o["default"])(this,t),e!==E)throw new Error("don't use new, instead use static factory method.");var i=(0,d["default"])(this,(0,r["default"])(t).call(this));if(null!==_){var s;return s=_,(0,d["default"])(i,s)}return _=i,i[k]=i.scroll.bind(i),i[S]={type:t.UPDATE,target:i,currentTarget:i},i[b]=-1,i.rate=null,i.started=!1,n=_,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){if(this.started)return this;var e=this.rate;if(null===e)throw new Error("Set Rate instance, before watch. rate: "+e);return this.started=!0,e.on(v.Rate.UPDATE,this.bindScroll),e.start(),this}},{key:"stop",value:function(){if(!this.started)return this;var e=this.rate;if(null===e)throw new Error("Set Rate instance, before unwatch. rate: "+e);return e.off(v.Rate.UPDATE,this.bindScroll),this.started=!1,this}},{key:"scroll",value:function(e){var t=g.Scroll.y,n=window.innerHeight,i=window.innerWidth,s=this[b],r=this.events;r.original=e,r.y=t,r.height=n,r.width=i,r.bottom=t+n,r.changed=null===e||s!==t,r.previous=s,r.moving=s-t,this.dispatch(r),this[b]=t}},{key:"fire",value:function(){this.scroll(null)}},{key:"bindScroll",get:function(){return this[k]}},{key:"events",get:function(){return this[S]},set:function(e){this[S]=e}}],[{key:"factory",value:function(){return new t(E)}},{key:"UPDATE",get:function(){return"scrollingUpdate"}}]),t}(y.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{
value:!0}),t.Rate=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(133),y=(0,m["default"])("save fps number"),v=(0,m["default"])("save count number"),E=(0,m["default"])("save rates number");t.Rate=function(e){function t(e){(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,1));return n.events={rate:e,type:t.UPDATE,target:n,currentTarget:n},n[v]=0,n[E]=[t.RATE_60,t.RATE_30,t.RATE_20,t.RATE_15,t.RATE_12,t.RATE_10,t.RATE_6,t.RATE_5],n[y]=0,n.change(e),n.boundUpdate=n.update.bind(n),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"change",value:function(e){if(-1===this.rates.indexOf(e))throw new Error("illegal rate: "+e+". use const RATE_NN");this[y]=e}},{key:"start",value:function(){return this.started?!1:(this.turnOver(),this.initCycle(),this.fire(this.updateEvents(0,0)),!0)}},{key:"update",value:function(){var e=this[v]+1;this[v]=e;var t=e%this.rate;return 0===t?(this[v]=0,this.fire(this.updateEvents(0,0)),!0):!1}},{key:"rates",get:function(){return this[E]}},{key:"rate",get:function(){return this[y]}}],[{key:"RATE_60",get:function(){return 1}},{key:"RATE_30",get:function(){return 2}},{key:"RATE_20",get:function(){return 3}},{key:"RATE_15",get:function(){return 4}},{key:"RATE_12",get:function(){return 5}},{key:"RATE_10",get:function(){return 6}},{key:"RATE_6",get:function(){return 10}},{key:"RATE_5",get:function(){return 12}},{key:"UPDATE",get:function(){return"rateUpdate"}}]),t}(g.Polling)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TopButton=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=(0,m["default"])("TopButton singleton instance"),v=null,E=null,_=self.TweenLite,k=self.com.greensock.easing;t.TopButton=function(e){function t(e){var n;if((0,o["default"])(this,t),y!==e)throw new Error("TopButton is static Class. not use new TopButton().");if(null!==v){var i;return i=v,(0,d["default"])(s,i)}var s=(0,d["default"])(this,(0,r["default"])(t).call(this));return s.can=!0,v=s,n=v,(0,d["default"])(s,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"init",value:function(e){null===E&&(E=e,E.addEventListener("click",this.onClick.bind(this)))}},{key:"onClick",value:function(e){e.preventDefault(),this.can&&this.go()}},{key:"go",value:function(){var e=this;this.can&&(this.can=!1,_.to(window,.5,{scrollTo:{y:0,autoKill:!1},ease:k.Power4.easeInOut,onStart:function(){e.dispatch({type:t.START})},onComplete:function(){e.can=!0,e.dispatch({type:t.COMPLETE})}}))}}],[{key:"factory",value:function(){return null===v&&(v=new t(y)),v}},{key:"START",get:function(){return"topButtonStart"}},{key:"COMPLETE",get:function(){return"topButtonComplete"}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSinglesWidgetPopular=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(241),m=n(244),g=n(235),y=self.React;t.ComponentSinglesWidgetPopular=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.view=null,n.manager=m.SinglesManager.factory(),n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{index:y.PropTypes.number.isRequired,strong:y.PropTypes.bool.isRequired,sign:y.PropTypes.bool.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){if(null===this.view&&this.refs.popular){var e=this.manager.request,t=e.offset,n=new h.ViewSinglesPopular(this.refs.popular,this.props.sign,t,e.length);this.view=n,n.start(),this.manager.up(),this.onMount()}}},{key:"onMount",value:function(){var e=new g.Snap(this.refs.popular);e.init()}},{key:"reload",value:function(){this.view&&this.view.reload&&this.view.reload()}},{key:"build",value:function(){return y.createElement("div",{className:"singles-popular-containers singles-popular-containers-"+this.props.index,ref:"popular"})}},{key:"render",value:function(){var e=this.props;if(e.strong)return this.build();var t=e.index+1;return t%3!==0?null:this.build()}}]),t}(y.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewSinglesPopular=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(242),m=n(67),g=n(154),y=n(150),v=n(152),E=n(243),_=self.ReactDOM;t.ViewSinglesPopular=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?m.User.sign:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],s=arguments.length<=3||void 0===arguments[3]?6:arguments[3];(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,e,null)),l="all",u="",c=a.done.bind(a),f=a.fail.bind(a);return a.slug=l,a.type=u,a.resolve=c,a.reject=f,a.offset=i,a.length=s,a.request=null,a.action=n?new v.CategoryAuth(l,u,c,f,i,s):new y.Category(l,u,c,f,i,s),a.articleRendered=null,a.articles=[],a.callback=null,a.boundMount=a.onMount.bind(a),a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){var t=e.map(function(e){return new g.ArticleDae(e)});this.articles=t,null===this.articleRendered?this.articleRendered=_.render(React.createElement(E.ComponentSinglesWidgetPopularList,{list:t,callback:this.boundMount}),this.element):this.articleRendered.updateList(t,this.request.offset,this.request.length)}},{key:"onMount",value:function(){var e=this.callback;"function"==typeof e&&e.call(this)}},{key:"reload",value:function(){var e=this.articleRendered;return null===e?!1:(e.reload(),!0)}}]),t}(h.ViewArchiveMasonry)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewArchiveMasonry=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(153),m=n(104),g=n(67),y=n(165),v=n(107),E=n(100),_=n(41),k=n(154),S=n(169),b=n(168),T=n(178),P=n(176),R=n(177),N=n(94),M=self.React,w=self.ReactDOM,C=self.imagesLoaded,D=self.Isotope;t.ViewArchiveMasonry=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=arguments.length<=4||void 0===arguments[4]?!0:arguments[4];(0,o["default"])(this,t);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,i,s,a));return l.slug="all",l.scroll=N.Scroll.factory(),l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){var t=this,n=this.articles,i=this.articles.length,s=this.element,r=this.moreElement,a=this,o=this.scroll,l=M.createClass({displayName:"MoreViewDom",propTypes:{show:M.PropTypes.bool.isRequired,action:M.PropTypes.object.isRequired,loading:M.PropTypes.string,home:M.PropTypes.bool.isRequired,slug:M.PropTypes.string.isRequired},getDefaultProps:function(){return{loading:""}},getInitialState:function(){return this.page=1,{disable:!1,show:this.props.show,loading:this.props.loading}},render:function(){return this.state.show?M.createElement("div",{id:"more",className:"board-btn-viewmore loading-root "+this.state.loading},M.createElement("a",{className:"board-btn-viewmore-link",href:"#more",onClick:this.handleClick},M.createElement("span",null,v.Message.BUTTON_VIEW_MORE)),M.createElement("span",{className:"loading-spinner"}," ")):M.createElement("div",{className:"no-more"})},destroy:function(){},handleClick:function(e){e.preventDefault(),this.onRise()},updateShow:function(e){e?this.updateLoading(!1):this.destroy(),this.setState({show:e,loading:""})},updateLoading:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t="";e&&(t=" loading",this.props.action.next(),this.props.home?this.gaHome():this.gaCategory()),this.setState({loading:t})},onRise:function(){this.updateLoading(!0)},gaHome:function(){P.Ga.add(new R.GaData("ViewArchiveMasonry.render.MoreViewDom.gaHome","home_articles","view - new",String(++this.page),0,!0))},gaCategory:function(){P.Ga.add(new R.GaData("ViewArchiveMasonry.render.MoreViewDom.gaCategory",this.props.slug+"_articles","view - new",String(++this.page),0,!0))}}),u=function(e){e=!!e,null===t.moreRendered?t.moreRendered=w.render(M.createElement(l,{show:e,action:t.action,home:t.home,slug:t.slug}),r):t.moreRendered.updateShow(e)},c=M.createClass({displayName:"CommentsSecondDom",propType:{seconds:M.PropTypes.array.isRequired,articleId:M.PropTypes.string.isRequired,total:M.PropTypes.number.isRequired,hasSecond:M.PropTypes.bool.isRequired},getInitialState:function(){return{seconds:this.props.seconds}},render:function(){if(!this.props.hasSecond)return null;var e=this.state.seconds,t=this.props.articleId;return M.createElement("div",{className:"commented-user"},M.createElement("ul",{className:"comments-second"},e.map(function(e,n){var i=e.user,s=_.Safety.image(i.profilePicture,m.Empty.USER_EMPTY),r=_.Safety.same(s,m.Empty.USER_EMPTY);return M.createElement("li",{key:"user-"+t+"-"+e.id+"-"+i.id+"-"+n,className:"commented-user-item commented-user-item-"+n},M.createElement("span",{className:"commented-user-thumb "+r},M.createElement("img",{src:m.Empty.refresh(s),alt:i.userName})))})),M.createElement(b.CommentUserPlusCountNode,{total:this.props.total}))}}),d=M.createClass({displayName:"PopularDom",propType:{commentsPopular:M.PropTypes.object.isRequired,total:M.PropTypes.number.isRequired,articleId:M.PropTypes.string.isRequired,uniqueId:M.PropTypes.string.isRequired},render:function(){var e=this.props.commentsPopular,t=this.props.total,n=this.props.articleId,i=e.hasFirst,s=e.hasSecond,r=e.first,a=e.seconds;if(s&&(t-=a.length),i){t-=1;var o=r,l=o.user,u=_.Safety.image(l.profilePicture,m.Empty.USER_EMPTY),d=_.Safety.same(u,m.Empty.USER_EMPTY),f=g.User.sign;return M.createElement("div",{className:"comments-popular"},M.createElement("div",{className:"feature-user comment-item"},M.createElement("figure",{className:"comment-user"},M.createElement("span",{className:"comment-user-link"},M.createElement("span",{className:"comment-user-thumb "+d},M.createElement("img",{src:m.Empty.refresh(u),alt:l.userName})),M.createElement("div",{className:"comment-user-data"},M.createElement("p",{className:"comment-user-name"},l.userName),M.createElement("p",{className:"comment-user-job"},l.bio)))),M.createElement("div",{className:"comment-content",dangerouslySetInnerHTML:{__html:o.body}}),M.createElement(S.ReactionNode,{uniqueId:this.props.uniqueId,articleId:String(n),commentId:String(o.id),sign:f,good:o.good,bad:o.bad,isGood:o.isGood,isBad:o.isBad,activate:!1,url:o.url})),M.createElement(c,{seconds:a,articleId:n,total:t,hasSecond:s}))}return null}}),f=M.createClass({displayName:"ThumbnailDom",propType:{mediaType:M.PropTypes.string.isRequired,thumbnail:M.PropTypes.string.isRequired,title:M.PropTypes.string.isRequired,masonry:M.PropTypes.bool.isRequired,action:M.PropTypes.object.isRequired,recommend:M.PropTypes.bool.isRequired},getInitialState:function(){return{mediaType:this.props.mediaType,thumbnail:this.props.thumbnail,title:this.props.title}},render:function(){var e=this.props.mediaType,t="";if(this.props.recommend&&(t=M.createElement("i",{className:"post-label_recommend"},v.Message.LABEL_RECOMMEND)),e===y.MediaType.IMAGE){var n={background:"url("+this.props.thumbnail+") no-repeat center center",backgroundSize:"cover"};return M.createElement("figure",{className:"post-thumb post-thumb-"+e,style:n},M.createElement("img",{className:"image-hd",src:m.Empty.VIDEO_THUMBNAIL,alt:""}),t)}return e===y.MediaType.VIDEO?M.createElement("figure",{className:"post-thumb post-thumb-"+e},M.createElement("img",{className:"video-thumbnail",src:this.props.thumbnail,alt:this.props.title}),M.createElement("img",{className:"post-thumb-overlay-movie type-movie",src:m.Empty.VIDEO_PLAY,alt:""}),t):null}}),p=M.createClass({displayName:"ArticleDom",propTypes:{list:M.PropTypes.array.isRequired,offset:M.PropTypes.number.isRequired,length:M.PropTypes.number.isRequired,action:M.PropTypes.object.isRequired,home:M.PropTypes.bool.isRequired},getInitialState:function(){return this.isotope=null,this.img=null,this.elements=[],{arranged:"prepare",list:this.props.list,offset:this.props.offset,length:this.props.length}},render:function(){var e=this.props.home;return M.createElement("div",{ref:"boardRout",className:"board-large-column"},this.state.list.map(function(t,n){var i=t.commentsPopular,s=t.commentsCount,r=_.Safety.image(t.media.images.medium,m.Empty.IMG_MIDDLE);return M.createElement("div",{key:"archive-"+t.id,className:"board-item board-item-"+n+" board-item-"+t.mediaType},M.createElement("a",{className:"post",href:t.url,id:"article-"+t.id},M.createElement(f,{mediaType:t.mediaType,thumbnail:r,title:t.title,recommend:!!t.isRecommend&&e}),M.createElement("div",{className:"post-data"},M.createElement("p",{className:"post-category post-category-"+t.categories.all[0].slug},M.createElement(T.CategoryLabelNode,{categories:t.categories.all,id:"post-archive-"+t.id,index:n})),M.createElement("h3",{className:"post-heading"},t.title),M.createElement("p",{className:"post-date"},t.displayDate),M.createElement("div",{className:"post-excerpt-text"},t.description))),M.createElement(d,{key:"comment-"+t.id,uniqueId:"comment-"+t.id,commentsPopular:i,total:s,articleId:String(t.id)}))}))},componentDidUpdate:function(){for(var e=w.findDOMNode(this.refs.boardRout),t=e.childNodes,n=[],i=this.state.offset,s=Math.min(i+this.state.length,t.length);s>i;i++)n.push(t[i]);this.elements=n;var r=C(n);r.on("always",this.appendImages),this.img=r},componentDidMount:function(){a.executeSafely(E.View.DID_MOUNT),u(this.props.action.hasNext()),this.props.masonry&&this.shouldMasonry()},componentWillUnmount:function(){this.isotope.destroy()},shouldMasonry:function(){var e=w.findDOMNode(this.refs.boardRout),t=e.childNodes,n=C(t);this.img=n,n.on("always",this.onImages)},onImages:function(){this.img.off("always",this.onImages);var e=w.findDOMNode(this.refs.boardRout);this.isotope=new D(e,{itemSelector:".board-item",masonry:{gutter:28}})},updateList:function(e,t,n){this.setState({list:e,offset:t,length:n})},appendImages:function(){this.img.off("always",this.appendImages),this.isotope.appended(this.elements),this.isotope.reloadItems(),this.isotope.layout(),u(this.props.action.hasNext()),o.fire()}});e.forEach(function(e,t){var s=new k.ArticleDae(e);s.index=i+t,n.push(s)}),this.executeSafely(E.View.BEFORE_RENDER,n),null===this.articleRendered?(this.articleRendered=w.render(M.createElement(p,{home:this.home,list:n,offset:this.request.offset,length:this.request.length,masonry:this.useMasonry,action:this.action}),s),this.home?P.Ga.add(new R.GaData("ViewArchiveMasonry.render","home_articles","view - new",String(1),0,!0)):P.Ga.add(new R.GaData("ViewArchiveMasonry.render",this.slug+"_articles","view - new",String(1),0,!0))):this.articleRendered.updateList(n,this.request.offset,this.request.length)}}]),t}(h.ViewArchiveMasonryInfinite)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSinglesWidgetPopularList=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(107),m=n(104),g=n(165),y=n(41),v=n(213),E=self.React,_=function(e){return e===g.MediaType.VIDEO?E.createElement("img",{src:m.Empty.VIDEO_PLAY_SMALL_1X1,alt:"",className:"post-thumb-overlay-movie type-movie"}):null};t.ComponentSinglesWidgetPopularList=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={list:e.list},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{list:E.PropTypes.array.isRequired,callback:E.PropTypes.func.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.callback;"function"==typeof e&&e.call(this)}},{key:"updateList",value:function(e){this.setState({list:e})}},{key:"reload",value:function(){this.updateList(this.state.list)}},{key:"render",value:function(){var e=this.state.list;return Array.isArray(e)&&0!==e.length?E.createElement("div",{className:"widget-postList widget-postList_popular"},E.createElement("div",{className:"widget-postList-heading"},E.createElement("h2",null,h.Message.RANKING_TITLE)),E.createElement("ul",{className:"board-small column2"},e.map(function(e,t){var n=y.Safety.image(e.media.images.thumbnail,m.Empty.IMG_SMALL);return E.createElement("li",{key:"singles-popular-"+e.id+"-"+t,className:"board-item"},E.createElement("a",{href:e.url,className:"post"},E.createElement("figure",{className:"post-thumb post-thumb-headline"},E.createElement("img",{src:n,alt:e.title}),_(e.mediaType)),E.createElement("div",{className:"post-data"},E.createElement("h3",{className:"post-heading"},e.title),E.createElement(v.ComponentCategoryLabels,{index:t,id:"single-popular-label-"+e.id,categories:e.categories.all}),E.createElement("p",{className:"post-date"},e.displayDate))))}))):null}}]),t}(E.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SinglesManager=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=n(232),d=(0,u["default"])(),f=(0,u["default"])(),p=(0,u["default"])(),h=(0,u["default"])(),m=(0,u["default"])(),g=(0,u["default"])(),y=null;t.SinglesManager=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if((0,r["default"])(this,e),d!==t)throw new Error("SinglesManager is singleton Class. not use new SinglesManager(). instead SinglesManager.factory()");if(null!==y)return y;var i=null;null!==n&&(i=n),this[h]=i,this[f]=[c.WidgetType.RECOMMEND,c.WidgetType.RELATED,c.WidgetType.POPULAR];var s={};return s[c.WidgetType.RECOMMEND]=!1,s[c.WidgetType.RELATED]=!1,s[c.WidgetType.POPULAR]=!1,this[p]=s,this[g]={offset:0,length:6},this[m]=!0,this.count=0,y=this}return(0,o["default"])(e,[{key:"next",value:function(){var e=this.behaviors,t=e.shift();if(++this.count,t===c.WidgetType.RECOMMEND){var n=this.single;n&&0!==n.recommendArticles.length||(t=e.shift(),++this.count)}else t===c.WidgetType.POPULAR?this.popularNext||(e.shift(),t=null):t!==c.WidgetType.RELATED&&this.popularNext&&(t=c.WidgetType.POPULAR);return t}},{key:"up",value:function(){var e=this.request;e.offset+=e.length}},{key:"hasRecommend",value:function(){var e=this.single;return!!e&&e.recommendArticles.length>0}},{key:"single",get:function(){return this[h]},set:function(e){this[h]=e}},{key:"behaviors",get:function(){return this[f]}},{key:"done",get:function(){return this[p]}},{key:"popularNext",get:function(){return this[m]},set:function(e){if(this[m]=e,e){var t=this.behaviors;0===t.length&&t.push(c.WidgetType.POPULAR)}}},{key:"request",get:function(){return this[g]}}],[{key:"factory",value:function(t){return null===y&&(y=new e(d,t)),y}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSinglesWidgetRelated=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(92),m=n(235),g=self.React;t.ComponentSinglesWidgetRelated=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={index:e.index,single:e.single},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"insert",value:function(e){e.innerHTML="";var t=document.createElement("div"),n=document.createElement("script");n.src=h.Url.popin(),t.appendChild(n),e.appendChild(t)}},{key:"propTypes",get:function(){return{index:g.PropTypes.number.isRequired,strong:g.PropTypes.bool.isRequired,single:g.PropTypes.object.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){if(this.refs.related){t.insert(this.refs.related);var e=new m.Snap(this.refs.related);e.init()}}},{key:"build",value:function(){return g.createElement("div",{className:"widget-postList widget-postList_related widget-postList_related-"+this.props.index+" singles-related-containers"},g.createElement("div",{id:"_popIn_category",style:{display:"none"}},this.state.single.categories.labels),g.createElement("div",{id:"_popIn_recommend"}),g.createElement("div",{className:"singles-related-scripts",ref:"related"}))}},{key:"updateIndex",value:function(e){this.setState({index:e})}},{key:"updateSingle",value:function(e){this.setState({single:e})}},{key:"reload",value:function(){this.updateIndex(this.state.index)}},{key:"render",value:function(){var e=this.props;if(e.strong)return this.build();var t=e.index+1;return t%3!==0?null:this.build()}}]),t}(g.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSinglesArticleMagnet=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(220),m=n(247),g=n(223),y=n(257),v=n(300),E=n(236),_=n(176),k=n(302),S=n(314),b=n(315),T=n(235),P=self.React;t.ComponentSinglesArticleMagnet=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));n.state={single:e.single,sign:e.sign,index:e.index,minHeight:0},n.hit=null,n.boundIn=n.hitIn.bind(n),n.sendGa=!1,n.boundOut=n.hitOut.bind(n),n.waiting=!1,n.timer=0,n.manager=k.SinglesHistory.factory(),n.page=new S.Page(e.single),n.singlesArticle=null,n.id="ComponentSinglesArticleMagnet-"+e.single.id;var i=v.RecordSingleState.restore(n.id);return i&&(n.sendGa=i),n.snap=null,n.boundSnap=n.onSnap.bind(n),n.boundBeat=n.onBeat.bind(n),n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:P.PropTypes.object.isRequired,sign:P.PropTypes.bool.isRequired,index:P.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"updateSingle",value:function(e){this.setState({single:e})}},{key:"updateSign",value:function(e){this.setState({sign:e})}},{key:"reload",value:function(){this.updateSingle(this.state.single)}},{key:"hitIn",value:function(e){var t=e.rect,n=t.top;Math.abs(n)<=50&&this.reserve()}},{key:"hitOut",value:function(){this.cancel()}},{key:"reserve",value:function(){var e=this;this.waiting||(this.waiting=!0,this.timer=setTimeout(function(){e.ga()},2e3))}},{key:"cancel",value:function(){this.waiting&&(clearTimeout(this.timer),this.waiting=!1)}},{key:"ga",value:function(){if(!this.sendGa){this.sendGa=!0;var e=this.state.single;_.Ga.single(e,"ComponentSinglesArticleMagnet.ga single: "+e.id);var t=new b.PageTitle(e.title,e.categories.label);_.Ga.addPage(e.id,"ComponentSinglesArticleMagnet.ga addPage: "+e.id,t.title()),this.cancelHit()}}},{key:"cancelHit",value:function(){var e=this.hit;null!==e&&(e.off(E.Hit.COLLISION,this.boundIn),e.off(E.Hit.NO_COLLISION,this.boundOut),e.stop())}},{key:"onSnap",value:function(){this.manager.hit(this.page),this.reserve()}},{key:"onBeat",value:function(){this.manager.hit(this.page)}},{key:"dispose",value:function(){var e=this.snap;e&&(e.off(T.Snap.SNAPPED,this.boundSnap),e.off(T.Snap.BEAT_UP,this.boundBeat),e.stop());var t=this.hit;t&&(t.off(E.Hit.COLLISION,this.boundIn),t.off(E.Hit.NO_COLLISION,this.boundOut),t.stop()),this.cancel()}},{key:"componentDidMount",value:function(){var e=this.singlesArticle;if(null===this.hit&&null!==e){var t=new T.Snap(this.singlesArticle,!1,this.page);if(this.snap=t,t.on(T.Snap.SNAPPED,this.boundSnap),t.on(T.Snap.BEAT_UP,this.boundBeat),t.start(),!this.sendGa){var n=new E.Hit(e);this.hit=n,n.on(E.Hit.COLLISION,this.boundIn),n.on(E.Hit.NO_COLLISION,this.boundOut),n.start()}}}},{key:"componentWillUnmount",value:function(){v.RecordSingleState.store(this.id,this.sendGa),this.dispose()}},{key:"render",value:function(){var e=this,t=this.state.single;return t?P.createElement("div",{className:"loaded-post loaded-post-"+t.id,ref:function(t){e.singlesArticle=t}},P.createElement("div",{className:"post-detail"},P.createElement("div",{className:"single-header-root"},P.createElement("div",{className:"post-heading post-heading-"+t.id},P.createElement("h1",null,t.title)),P.createElement(g.ComponentCategoryLabelsLink,{index:this.props.index,id:"single-label-"+t.id,categories:t.categories.all,className:"category-heading"}),P.createElement("div",{className:"post-data"},P.createElement("div",{className:"f-left"},P.createElement("p",{className:"post-author"},t.user.userName),P.createElement("p",{className:"post-date"},t.displayDate)),P.createElement(h.BookmarkNode,{sign:this.state.sign,isBookmarked:t.isBookmarked,articleId:String(t.id)}))),P.createElement(m.MediaNode,{articleId:String(t.id),mediaType:t.mediaType,media:t.media,isShowImage:t.isShowImage,index:this.state.index}),P.createElement(y.ComponentSinglesArticleSwitch,{single:t,sign:this.state.sign,index:this.props.index,page:this.page}))):null}}]),t}(P.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaNode=void 0;var i=n(165),s=n(248),r=n(249),a=self.React;t.MediaNode=a.createClass({displayName:"MediaNode",propTypes:{articleId:a.PropTypes.string.isRequired,mediaType:a.PropTypes.string.isRequired,media:a.PropTypes.object.isRequired,isShowImage:a.PropTypes.bool.isRequired,index:a.PropTypes.number},render:function(){var e=this.props.mediaType,t=this.props.media;return this.props.isShowImage?e===i.MediaType.IMAGE?a.createElement(s.MediaImageNode,{images:t.images}):e===i.MediaType.VIDEO?t.video&&(t.video.url||t.video.youtube||t.video.facebook)?a.createElement(r.MediaVideoNode,{articleId:this.props.articleId,media:t,index:this.props.index}):a.createElement(s.MediaImageNode,{images:t.images}):null:null}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaImageNode=void 0;var i=n(41),s=self.React;t.MediaImageNode=s.createClass({displayName:"MediaImageNode",propTypes:{images:s.PropTypes.object.isRequired},render:function(){var e=this.props.images,t=i.Safety.image(e.original,"");if(""===t&&(t=i.Safety.image(e.large,"")),""===t&&(t=i.Safety.image(e.medium,"")),""===t)return null;var n=i.Safety.string(e.caption,""),r="";return""!==n&&(r=s.createElement("figcaption",{className:"caption",dangerouslySetInnerHTML:{__html:n}})),s.createElement("div",{className:"post-kv"},s.createElement("figure",{className:"post-single-figure"},s.createElement("img",{src:t,alt:"",className:"post-single-image"}),r))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaVideoNode=void 0;var i=n(104),s=n(250),r=n(251),a=n(41),o=n(252),l=n(255),u=n(256),c=self.React;t.MediaVideoNode=c.createClass({displayName:"MediaVideoNode",propTypes:{articleId:c.PropTypes.string.isRequired,media:c.PropTypes.object.isRequired,index:c.PropTypes.number.isRequired},render:function(){var e=this.props.media,t=e.video.type||e.video.player;switch(t){case s.VideoType.BRIGHTCOVE:return this.videojsima(e);case s.VideoType.VIDEOJSIMA:return this.videojsima(e);case s.VideoType.YOUTUBE:return this.youtube(e);case s.VideoType.FACEBOOK:return this.facebook(e);default:return null}},video:function d(e){var t=e.images,d=e.video,n=d.caption||"",s=a.Safety.image(t.medium,i.Empty.VIDEO_THUMBNAIL);return c.createElement(o.HTML5VideoNode,{video:d,poster:s,caption:n,playImage:i.Empty.VIDEO_PLAY})},videojsima:function(e){var t=e.images,n=e.video,s=n.caption||"",r=a.Safety.image(t.medium,i.Empty.VIDEO_THUMBNAIL);return this.props.index<0?c.createElement(u.ComponentVideojsImaArticle,{articleId:this.props.articleId,video:n,poster:r,caption:s,playImage:i.Empty.VIDEO_PLAY,index:this.props.index}):c.createElement(l.ComponentVideojsImaSingles,{articleId:this.props.articleId,video:n,poster:r,caption:s,playImage:i.Empty.VIDEO_PLAY})},youtube:function(e){var t=e.video;return c.createElement("div",{className:"post-kv"},c.createElement("iframe",{src:"https://www.youtube.com/embed/"+t.youtube+"?rel=0&amp;showinfo=0&amp;wmode=transparent",width:r.Content.WIDTH,height:r.Content.HD_HEIGHT,frameBorder:"0",allowFullScreen:!0}))},facebook:function(e){var t=e.video;return c.createElement("div",{className:"post-kv"},c.createElement("div",{className:"fb-video","data-href":t.facebook,"data-allowfullscreen":"true","data-width":r.Content.WIDTH}))}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VideoType=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])();t.VideoType=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("VideoType is static Class. not use new VideoType().")}return(0,o["default"])(e,null,[{key:"BRIGHTCOVE",get:function(){return"brightcove"}},{key:"VIDEOJSIMA",get:function(){return"videojsima"}},{key:"YOUTUBE",get:function(){return"youtube"}},{key:"FACEBOOK",get:function(){return"facebook"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Content=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])();t.Content=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("MediaType is static Class. not use new MediaType().")}return(0,o["default"])(e,null,[{key:"WIDTH",get:function(){return 728}},{key:"HD_HEIGHT",get:function(){return Math.ceil(9*e.WIDTH/16)}},{key:"SIDEBAR_WIDTH",get:function(){return 300}},{key:"SP_WIDTH",get:function(){return 320}},{key:"SP_HD_HEIGHT",get:function(){return Math.ceil(9*e.SP_WIDTH/16)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTML5VideoNode=void 0;var i=n(251),s=n(253),r=n(254),a=self.Sagen,o=self.React,l=self.ReactDOM;t.HTML5VideoNode=o.createClass({displayName:"HTML5VideoNode",propTypes:{video:o.PropTypes.object.isRequired,poster:o.PropTypes.string.isRequired,caption:o.PropTypes.string.isRequired,playImage:o.PropTypes.string.isRequired,showPlay:o.PropTypes.bool},getDefaultProps:function(){return{showPlay:!0}},getInitialState:function(){return this.videoElement=null,{showPlay:this.props.showPlay,video:this.props.video}},render:function(){var e=this.props.video,t=this.props.poster,n=this.props.caption,l=a.Browser.Mobile.is()?e.url.sd:e.url.hd;return o.createElement("div",{className:"post-kv post-video-kv"},o.createElement("div",{className:"video-container"},o.createElement("video",{poster:t,width:i.Content.WIDTH,height:i.Content.HD_HEIGHT,preload:"none",controls:!0,ref:"video"},o.createElement("source",{src:l,type:"video/mp4"})),o.createElement(s.VideoPlayNode,{playImage:this.props.playImage,callback:this.playClick,showPlay:this.state.showPlay})),o.createElement(r.VideoCaptionNode,{caption:n}))},componentDidMount:function(){var e=l.findDOMNode(this.refs.video);this.videoElement=e,e.addEventListener("ended",this.onEnded,!1),e.addEventListener("pause",this.onPause,!1)},componentWillUnMount:function(){var e=this.videoElement;e.removeEventListener("ended",this.onEnded),e.removeEventListener("pause",this.onPause)},playClick:function(e){e.preventDefault(),this.video.play(),this.setState({showPlay:!1})},onEnded:function(){this.setState({showPlay:!0})},onPause:function(){}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=self.React;t.VideoPlayNode=n.createClass({displayName:"VideoPlayNode",propTypes:{playImage:n.PropTypes.string.isRequired,callback:n.PropTypes.func.isRequired,showPlay:n.PropTypes.bool.isRequired,phone:n.PropTypes.bool.isRequired},getInitialState:function(){return{show:this.props.showPlay}},render:function(){return this.props.phone?null:this.props.showPlay?n.createElement("a",{href:"#",onClick:this.props.callback,className:"post-video-start"},n.createElement("img",{className:"post-thumb-overlay-movie type-movie",src:this.props.playImage,alt:""})):null}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=self.React;t.VideoCaptionNode=n.createClass({
displayName:"VideoCaptionNode",propTypes:{caption:n.PropTypes.string},getDefaultProps:function(){return{caption:""}},render:function(){return""===this.props.caption?null:n.createElement("div",{className:"caption",dangerouslySetInnerHTML:{__html:this.props.caption}})}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentVideojsImaSingles=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(251),m=n(177),g=n(176),y=self.Sagen,v=self.React;t.ComponentVideojsImaSingles=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.videoElement=null,n.phone=y.Browser.Mobile.phone(),n.mobile=y.Browser.Mobile.is(),n.player=null,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{articleId:v.PropTypes.string.isRequired,video:v.PropTypes.object.isRequired,poster:v.PropTypes.string.isRequired,caption:v.PropTypes.string.isRequired,playImage:v.PropTypes.string.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){this.initPlayer()}},{key:"videoId",value:function(){return"content_video_"+this.props.articleId}},{key:"initPlayer",value:function(){var e=this,t=self.videojs;if(!t)return void setTimeout(function(){e.initPlayer()},25);var n=this.props.video.adUrl.pc,i=""!==n?n+Date.now():"",s=this.videoId(),r=t(s,{preload:"none"}),a={id:s,adTagUrl:i};r.ima(a);var o=!!navigator.userAgent.match(/iPhone/i),l=!!navigator.userAgent.match(/Android/i),u=document.getElementById(s+"_ima-ad-container");(o||l)&&u.setAttribute("style","z-index: 9 !important; position: absolute; display: block;"),o&&u.querySelector("div").setAttribute("style","display:none"),r.one("click",function(){r.ima.initializeAdDisplayContainer(),r.ima.requestAds(),r.play()}),this.player=r,this.ga(r),window.addEventListener("scroll",this.onScroll.bind(this),!1)}},{key:"onScroll",value:function(){var e=this.player,t=this.videoElement;if(null!==e&&null!==t){var n=this.phone?window.innerWidth:0,i=this.phone?Math.ceil(n/16*9):parseInt(h.Content.HD_HEIGHT,10),s=t.getBoundingClientRect(),r=s.top,a=s.bottom,o=r>=0-i&&a<=window.innerHeight+i;o||(e.pause(),e.ima.pauseAd())}}},{key:"ga",value:function(e){var t=this.props.video,n=this.mobile?t.url.sd:t.url.hd;e.one("play",function(){var e=new m.GaData("ComponentVideojsImaSingles.initPlayer","video","begin",n);g.Ga.add(e)}),e.one("ended",function(){var e=new m.GaData("ComponentVideojsImaSingles.initPlayer","video","complete",n);g.Ga.add(e)})}},{key:"renderMobile",value:function(){var e=this,t=this.props.video,n=this.props.poster,i=t.url.sd,s=window.innerWidth,r=Math.ceil(s/16*9);return v.createElement("div",{className:"post-kv post-video-kv"},v.createElement("div",{className:"mainContainer",ref:function(t){e.videoElement=t}},v.createElement("video",{id:this.videoId(),className:"video-js vjs-default-skin vjs-big-play-centered",poster:n,width:s+"px",height:r+"px",controls:"controls"},v.createElement("source",{src:i,type:"application/x-mpegURL"}))))}},{key:"renderDesktop",value:function(){var e=this,t=this.props.video,n=this.props.poster,i=this.mobile?t.url.sd:t.url.hd,s=h.Content.WIDTH,r=h.Content.HD_HEIGHT;return v.createElement("div",{className:"post-kv post-video-kv"},v.createElement("div",{className:"mainContainer",ref:function(t){e.videoElement=t}},v.createElement("video",{id:this.videoId(),className:"video-js vjs-default-skin vjs-big-play-centered",poster:n,width:s+"px",height:r+"px",controls:"controls"},v.createElement("source",{src:i,type:"application/x-mpegURL"}))))}},{key:"render",value:function(){return this.phone?this.renderMobile():this.renderDesktop()}}]),t}(v.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentVideojsImaArticle=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(251),m=n(236),g=n(177),y=n(176),v=self.Sagen,E=self.React;t.ComponentVideojsImaArticle=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.videoElement=null,n.mainContainer=null,n.phone=v.Browser.Mobile.phone(),n.mobile=v.Browser.Mobile.is(),n.player=null,n.iphone=v.Browser.iOS.iPhone(),n.ipad=v.Browser.iOS.iPad(),n.playing=!1,n.hit=null,n.boundOut=n.hitOut.bind(n),n.boundIn=n.hitIn.bind(n),n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{articleId:E.PropTypes.string.isRequired,video:E.PropTypes.object.isRequired,poster:E.PropTypes.string.isRequired,caption:E.PropTypes.string.isRequired,playImage:E.PropTypes.string.isRequired,index:E.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){this.preparePlayer();var e=this.hit;null===e&&null!==this.videoElement&&(e=new m.Hit(this.videoElement),this.hit=e,e.on(m.Hit.NO_COLLISION,this.boundOut),e.start())}},{key:"preparePlayer",value:function(){var e=this,t=self.videojs;return t?void this.initPlayer():void setTimeout(function(){e.preparePlayer()},25)}},{key:"initPlayer",value:function(){var e=this,t=self.videojs;if(this.iphone)return void this.iPhoneInitPlayer();var n=this.mobile?this.props.video.adUrl.sp:this.props.video.adUrl.pc,i=""!==n?n+Date.now():"",s=this.videoElement;this.bindEvent(s);var r=t("content_video",{preload:"none"}),a={id:"content_video",adTagUrl:i};return r.ima(a),r.on("play",function(){e.mainContainer.querySelector(".vjs-big-play-button").setAttribute("style","display:none !important")}),this.player=r,this.mobile?this.ipad?void this.iPadInitPlayer():void r.one("click",function(){r.ima.initializeAdDisplayContainer(),r.ima.requestAds(),r.play()}):void this.pcInitPlayer()}},{key:"pcInitPlayer",value:function(){var e=this.player;this.mainContainer.querySelector(".vjs-big-play-button").setAttribute("style","display:none !important;"),e.ima.initializeAdDisplayContainer(),e.ima.requestAds(),e.play()}},{key:"iPadInitPlayer",value:function(){var e=this.player;e.one("play",function(){e.ima.initializeAdDisplayContainer(),e.ima.requestAds()}),e.on("click",function(){e.paused()?e.play():e.pause()})}},{key:"iPhoneInitPlayer",value:function(){var e=this,t=self.Ads;t||setTimeout(function(){e.iPadInitPlayer()},25);var n=this.props.video.adUrl.sp,i=""!==n?n+Date.now():"",s=new t(i,this.props.video.url.sd,window.innerWidth,Math.ceil(window.innerWidth/16*9),this.props.poster);s.init(),this.mainContainer.querySelector(".vjs-big-play-button").setAttribute("style","display:none !important");var r=this.videoElement;this.bindEvent(r)}},{key:"hitOut",value:function(){var e=this.hit;e.off(m.Hit.NO_COLLISION,this.boundOut),e.on(m.Hit.COLLISION,this.boundIn),this.pause()}},{key:"hitIn",value:function(){var e=this.hit;e.off(m.Hit.COLLISION,this.boundIn),e.on(m.Hit.NO_COLLISION,this.boundOut)}},{key:"pause",value:function(){var e=this.player;e&&(e.pause(),e.ima.pauseAd())}},{key:"bindEvent",value:function(e){e.addEventListener("play",this.onPlay.bind(this),!1),e.addEventListener("ended",this.onEnded.bind(this),!1)}},{key:"onPlay",value:function(){this.playing||(this.playing=!0,this.tracking("begin"))}},{key:"onEnded",value:function(){this.playing&&(this.playing=!1,this.tracking("complete"))}},{key:"tracking",value:function(e){var t=this.props.video,n=this.mobile?t.url.sd:t.url.hd,i=new g.GaData("ComponentVideojsImaArticle.tracking","video",e,n);y.Ga.add(i)}},{key:"render",value:function(){var e=this;if(this.iphone)return E.createElement("div",{id:"ima-sample-videoplayer"},E.createElement("div",{id:"ima-sample-placeholder"}));var t=this.props.video,n=this.props.poster,i=this.mobile?t.url.sd:t.url.hd,s=this.phone?window.innerWidth:h.Content.WIDTH,r=this.phone?Math.ceil(s/16*9):h.Content.HD_HEIGHT;return E.createElement("div",{id:"mainContainer",ref:function(t){e.mainContainer=t}},E.createElement("video",{id:"content_video",className:"video-js vjs-default-skin vjs-big-play-centered",poster:n,width:s+"px",height:r+"px",ref:function(t){e.videoElement=t},controls:"controls"},E.createElement("source",{src:i,type:"application/x-mpegURL"})))}}]),t}(E.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSinglesArticleSwitch=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(107),m=n(258),g=n(259),y=n(265),v=n(300),E=n(94),_=n(301),k=self.React;t.ComponentSinglesArticleSwitch=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));n.state={single:e.single,index:e.index,sign:e.sign,excerpt:!0},n.boundClick=n.validateClick.bind(n),n.y=0,n.root=null,n.excerpt=n.excerpt.bind(n),n.content=n.content.bind(n),n.external=_.Validate.include(e.single.body,'<video data-video-id="'),n.id="ComponentSinglesArticleSwitch-"+e.single.id;var i=v.RecordSingleState.restore(n.id);return i&&(n.state=i),n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:k.PropTypes.object.isRequired,sign:k.PropTypes.bool.isRequired,index:k.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"validateClick",value:function(e){this.anchorClick(e)}},{key:"anchorClick",value:function(e){e.preventDefault();var t=E.Scroll.y;this.setState({excerpt:!1}),E.Scroll.motion(t,.1,.25)}},{key:"excerpt",value:function(){var e=this,t=this.state.single;return k.createElement("div",{className:"js-root",ref:function(t){e.root=t}},k.createElement(m.ComponentSinglesArticleExcerpt,{single:t,index:this.state.index}),k.createElement(y.ComponentSingleSNS,{single:t,index:this.state.index}),k.createElement("div",{className:"btn-readmore"},k.createElement("a",{href:t.url,className:"btn-readmore-link",onClick:this.boundClick},k.createElement("span",{className:"btn-readmore-label"},h.Message.READ_MORE))))}},{key:"content",value:function(){return k.createElement(g.ComponentSingleContent,{single:this.state.single,sign:this.state.sign,index:this.state.index})}},{key:"componentWillUnmount",value:function(){v.RecordSingleState.store(this.id,this.state)}},{key:"render",value:function(){var e=this.state.excerpt?this.excerpt:this.content;return k.createElement("div",{className:"js-root-container"},e())}}]),t}(k.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSinglesArticleExcerpt=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=self.React;t.ComponentSinglesArticleExcerpt=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:h.PropTypes.object.isRequired,index:h.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"render",value:function(){var e=this.state.single;return h.createElement("div",{className:"post-content post-content-"+e.id+"-"+this.props.index},h.createElement("p",null,e.description))}}]),t}(h.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSingleContent=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(260),m=n(265),g=n(267),y=n(268),v=n(299),E=n(225),_=self.React;t.ComponentSingleContent=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single,sign:e.sign,index:e.index},n.id=parseInt(e.single.id,10),n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:_.PropTypes.object.isRequired,sign:_.PropTypes.bool.isRequired,index:_.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"render",value:function(){var e=this.state.single,t=this.state.index;return _.createElement("div",{className:"singles-content singles-content-"+t},_.createElement(m.ComponentSingleSNS,{single:e,index:t}),_.createElement(h.ComponentSinglePost,{single:e,index:t}),_.createElement(v.ComponentSingleProvider,{single:e,index:t}),_.createElement(E.ComponentSingleFooter,{single:e,callback:function(){}}),_.createElement(m.ComponentSingleSNS,{single:e,index:t}),_.createElement(g.ComponentSingleAd,{ad:e.ad.pc,index:t}),_.createElement(y.ComponentSingleComments,{single:e,index:t,sign:this.state.sign}))}}]),t}(_.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSinglePost=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(107),m=n(261),g=n(177),y=n(176),v=n(263),E=self.React;t.ComponentSinglePost=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single},n.boundMore=n.onReadMore.bind(n),n.didLoad=!1,n.id=parseInt(e.single.id,10),n.body=n.body.bind(n),n.excerpt=n.excerpt.bind(n),n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:E.PropTypes.object.isRequired,sp:E.PropTypes.bool}}},{key:"defaultProps",get:function(){return{sp:!1}}}]),(0,d["default"])(t,[{key:"onReadMore",value:function(){var e="external_link",t="click",n=this.state.single.readmore.url,i="ComponentSinglePost.onReadMore";y.Ga.add(new g.GaData(i,e,t,n,0,!0))}},{key:"excerpt",value:function(){var e=this.state.single,t=e.description;return t?E.createElement("div",{className:"js-inner-post-content"},E.createElement("p",null,t),E.createElement("p",null,E.createElement("a",{href:e.readmore.url,target:"_blank",onClick:this.boundMore},h.Message.READ_MORE_EXTERNAL))):null}},{key:"body",value:function n(){this.didLoad=!0;var e=this.state.single,n=e.body;return n?(m.Instagram.delay(),E.createElement(v.ComponentSinglePostBody,{single:e,sp:this.props.sp})):null}},{key:"shouldComponentUpdate",value:function(){return!this.didLoad}},{key:"render",value:function(){var e=this.state.single;if(!e)return null;var t=e.readmore.isReadmore,n=t?this.excerpt:this.body,i=t?"":"iframe-loading";return E.createElement("div",{className:"post-content "+i},n())}}]),t}(E.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Instagram=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(262),u=0;t.Instagram=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"instgrm",value:function(){return self.instgrm}},{key:"process",value:function(){var t=e.instgrm();return t&&t.Embeds&&t.Embeds.process?(t.Embeds.process(),!0):!1}},{key:"delay",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],n=arguments.length<=1||void 0===arguments[1]?1e3:arguments[1];clearTimeout(u),u=setTimeout(e.process,n),t&&l.Fb.delay(n+100)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Fb=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=null,u=0;t.Fb=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"get",value:function(){return null===l&&(l=self.FB),l}},{key:"init",value:function(){var t=e.get();return t?void t.init({appId:"842032129256034",xfbml:!0,version:"v2.5"}):void setTimeout(e.init,25)}},{key:"delay",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1e3:arguments[0];clearTimeout(u),u=setTimeout(e.init,t)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSinglePostBody=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(264),m=self.React;t.ComponentSinglePostBody=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={height:"100%"},n.id=parseInt(e.single.id,10),n.boundUpdate=n.onUpdate.bind(n),n.frameStatus=h.IFrameStatus.factory(),n.didMount=!1,n.query=location.search,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:m.PropTypes.object.isRequired,sp:m.PropTypes.bool.isRequired}}}]),(0,d["default"])(t,[{key:"onUpdate",value:function(e){if(this.didMount){var t=e.id;if(t===this.id){var n=e.height+"px";n!==this.state.height&&this.setState({height:n})}}}},{key:"componentDidMount",value:function(){var e=this.frameStatus;e.off(h.IFrameStatus.UPDATE,this.boundUpdate),e.on(h.IFrameStatus.UPDATE,this.boundUpdate),e.mount(this.id),this.didMount=!0}},{key:"componentWillUnmount",value:function(){this.frameStatus.off(h.IFrameStatus.UPDATE,this.boundUpdate)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.height!==t.height}},{key:"render",value:function(){var e=this.props.single.id,t=this.query;return m.createElement("iframe",{id:"single-iframe-"+e,src:"/p/"+e+"/content/"+t,frameBorder:"0",width:"100%",scrolling:"no",style:{height:this.state.height},className:"post-content-iframe"})}}]),t}(m.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameStatus=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=(0,m["default"])("IFrameStatus singleton Symbol"),v=null;t.IFrameStatus=function(e){function t(e){var n;if((0,o["default"])(this,t),y!==e)throw new Error("CommentStatus is static Class. not use new IFrameStatus(). instead IFrameStatus.factory()");if(v){var i;return i=v,(0,u["default"])(s,i)}var s=(0,u["default"])(this,(0,r["default"])(t).call(this));return v=s,window.addEventListener("message",s.onMessage.bind(s),!1),n=v,(0,u["default"])(s,n)}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"factory",value:function(){return null===v&&(v=new t(y)),v}},{key:"UPDATE",get:function(){return"iFrameStatusUpdate"}},{key:"DID_MOUNT",get:function(){return"iFrameDidMount"}}]),(0,d["default"])(t,[{key:"update",value:function(e,n){this.dispatch({id:e,height:n,type:t.UPDATE})}},{key:"onMessage",value:function(e){var t=e.data;t&&t.height&&t.id&&this.update(parseInt(t.id,10),t.height)}},{key:"mount",value:function(e){this.dispatch({id:e,type:t.DID_MOUNT})}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSingleSNS=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(266),m=self.React;t.ComponentSingleSNS=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"openFacebook",value:function(e){e.preventDefault();var t=e.target,n=t.href;return n?(window.open(encodeURI(decodeURI(n)),"FBwindow","width=650, height=470, menubar=no, toolbar=no, scrollbars=yes"),!1):!1}},{key:"openTwitter",value:function(e){e.preventDefault();var t=e.target,n=t.href;return n?(window.open(encodeURI(decodeURI(n)),"tweetwindow","width=650, height=470, personalbar=0, toolbar=0, scrollbars=1, sizable=1"),!1):!1}},{key:"openLine",value:function(e){e.preventDefault();var t=e.target,n=t.href;return n?(window.open(encodeURI(decodeURI(n)),"LINEwindow","width=650, height=470, personalbar=0, toolbar=0, scrollbars=1, sizable=1"),!1):!1}},{key:"propTypes",get:function(){return{single:m.PropTypes.object.isRequired,index:m.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"updateSingle",value:function(e){this.setState({single:e})}},{key:"render",value:function(){var e=this.state.single,n=e.url;if(!n)return null;var i=e.title;return m.createElement("div",{className:"post-sns post-sns-"+e.id+"-"+this.props.index},m.createElement("ul",{className:"post-sns-list"},m.createElement("li",{className:"post-sns-item post-sns-item_fbgood"},m.createElement("div",{className:"fb-like","data-href":n,"data-layout":"box_count","data-action":"like","data-show-faces":"false","data-share":"false"})),m.createElement("li",{className:"post-sns-item post-sns-item_fb"},m.createElement("a",{href:"http://www.facebook.com/share.php?u="+n+"&t="+i,rel:"nofollow",onClick:t.openFacebook},h.MessageSNS.FACEBOOK)),m.createElement("li",{className:"post-sns-item post-sns-item_tw"},m.createElement("a",{href:"http://twitter.com/share?text="+i+"&url="+n+"&via="+h.MessageSNS.VIA,rel:"nofollow",onClick:t.openTwitter},m.createElement("span",null,h.MessageSNS.TWEET))),m.createElement("li",{className:"post-sns-item post-sns-item_gt"},m.createElement("a",{href:"https://plus.google.com/share?url="+n,rel:"nofollow",onClick:t.openLine},h.MessageSNS.GOOGLE_PLUS)),m.createElement("li",{className:"post-sns-item post-sns-item_line"},m.createElement("a",{href:"http://line.me/R/msg/text/",rel:"nofollow"},m.createElement("span",null,h.MessageSNS.SEND_LINE)))),m.createElement("div",{className:"post-sns-pr"},m.createElement("dl",{className:"post-sns-pr-inner"},m.createElement("dt",null,m.createElement("img",{src:"/assets/images/detail/post-sns-lead.png",alt:h.MessageSNS.FB_IMG_ALT})),m.createElement("dd",null,m.createElement("div",{className:"fb-like","data-href":"https://www.facebook.com/sportsbull/","data-layout":"box_count","data-action":"like","data-show-faces":"false","data-share":"false"})))))}}]),t}(m.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSNS=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.MessageSNS=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"FACEBOOK",get:function(){return"facebook"}},{key:"TWEET",get:function(){return"ツイート"}},{key:"GOOGLE_PLUS",get:function(){return"Google+"}},{key:"SEND_LINE",get:function(){return"LINEへ送る"}},{key:"VIA",get:function(){return"sportsbull_jp"}},{key:"FB_IMG_ALT",get:function(){return"SPORTS BULLをいいねして最新ニュースをチェック！"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSingleAd=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=self.React;t.ComponentSingleAd=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={ad:e.ad,index:e.index},n.scriptSrc="https://ssl.socdm.com/sdk/js/adg-script-loader.js?id=__AD_ID__&targetID=__TARGET_ID__&displayid=3&adType=PC&width=300&height=250&sdkType=3&async=true&tagver=2.0.0",n.id="adg_"+e.ad.sp+"_"+e.index,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{ad:h.PropTypes.object.isRequired,index:h.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){this.refs.leftContainer&&this.leftScript(),this.refs.rightContainer&&this.rightScript()}},{key:"leftScript",value:function(){var e=this.state.ad.singleBottomLeft,t=document.createElement("div"),n=document.createElement("script");n.src=this.scriptSrc.split("__AD_ID__").join(e).split("__TARGET_ID__").join(this.id+"_left"),t.appendChild(n),this.refs.leftContainer.appendChild(t)}},{key:"rightScript",value:function(){var e=this.state.ad.singleBottomRight,t=document.createElement("div"),n=document.createElement("script");n.src=this.scriptSrc.split("__AD_ID__").join(e).split("__TARGET_ID__").join(this.id+"_right"),t.appendChild(n),this.refs.rightContainer.appendChild(t)}},{key:"left",value:function n(){var n=this.state.ad.singleBottomLeft;return n?h.createElement("div",{id:this.id+"_left",className:"sponsor-link-item",ref:"leftContainer"}):null}},{key:"right",value:function i(){var i=this.state.ad.singleBottomRight;return i?h.createElement("div",{id:this.id+"_right",className:"sponsor-link-item",ref:"rightContainer"}):null}},{key:"render",value:function(){var e=this.state.ad,t=e.singleBottomLeft,n=e.singleBottomRight;return t||n?h.createElement("div",{className:"sponsor-link"},h.createElement("div",{className:"sponsor-link column2"},this.left(),this.right())):null}}]),t}(h.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSingleComments=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(269),m=n(282),g=n(67),y=n(84),v=self.React;t.ComponentSingleComments=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single,sign:e.sign,index:e.index},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:v.PropTypes.object.isRequired,sign:v.PropTypes.bool.isRequired,index:v.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){this.state.sign&&this.start()}},{key:"start",value:function(){var e=this,t=g.User.info();return null===t?void setTimeout(function(){return e.start()},25):(this.mine(t),this.official(t),this.normal(t),void this.form(t))}},{key:"mine",value:function(e){var t=new m.ViewComments(this.state.single.id,this.refs.commentSelf,y.CommentsType.SELF);t.user=e,t.start()}},{key:"official",value:function(e){var t=new m.ViewComments(this.state.single.id,this.refs.commentOfficial,y.CommentsType.OFFICIAL);t.user=e,t.start()}},{key:"normal",value:function(e){var t=new m.ViewComments(this.state.single.id,this.refs.commentNormal,y.CommentsType.NORMAL);t.user=e,t.start()}},{key:"form",value:function(e){var t=new h.ViewCommentForm(this.refs.commentForm,this.state.single.id,e.profilePicture);t.start()}},{key:"render",value:function(){return v.createElement("div",{className:"comment comment-"+this.state.single.id},v.createElement("div",{className:"comment-self-container",ref:"commentSelf"}),v.createElement("div",{className:"comment-official-container",ref:"commentOfficial"}),v.createElement("div",{className:"comment-normal-container",ref:"commentNormal"}),v.createElement("div",{className:"comment-form-container",ref:"commentForm"}))}}]),t}(v.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewCommentForm=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(67),g=n(104),y=n(84),v=n(41),E=n(270),_=self.ReactDOM;t.ViewCommentForm=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?"":arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return s._articleId=String(n),s._icon=v.Safety.image(i,g.Empty.USER_EMPTY),s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render(this._articleId)}},{key:"render",value:function(e){_.render(React.createElement(E.CommentFormNode,{uniqueId:"comment-to-"+e,toggle:"open",icon:this._icon,articleId:e,sign:m.User.sign,independent:!0,parent:!1,commentType:y.CommentsType.INDEPENDENT,url:""}),this.element)}}]),t}(h.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentFormNode=void 0;var i=n(271),s=n(273),r=self.React;t.CommentFormNode=r.createClass({displayName:"CommentFormNode",propTypes:{uniqueId:r.PropTypes.string.isRequired,toggle:r.PropTypes.string,icon:r.PropTypes.string,articleId:r.PropTypes.string.isRequired,commentId:r.PropTypes.string,commentCount:r.PropTypes.number,sign:r.PropTypes.bool.isRequired,parent:r.PropTypes.bool,independent:r.PropTypes.bool,commentType:r.PropTypes.string.isRequired,url:r.PropTypes.string.isRequired},getDefaultProps:function(){return{toggle:"close",icon:"",commentId:"",commentCount:0,parent:!1,independent:!1}},getInitialState:function(){return this.replyStatus=null,{loading:"",body:""}},render:function(){var e=this.props.sign;if(!e||!this.props.parent&&!this.props.independent)return this.props.parent?r.createElement("div",{className:"comment-respond"}):null;var t=this.props.toggle;this.props.independent&&(t="open");var n="コメント",a="",o=n+"へ返信";if(this.props.commentCount>0&&(a=n+" ("+this.props.commentCount+")",o=o+" ("+this.props.commentCount+")"),e){var l="comment-respond";return r.createElement("div",{className:l+" comment-root"},r.createElement(i.CommentFormOpenerNode,{uniqueId:this.props.uniqueId,independent:this.props.independent,staticMessage:a,actionMessage:o,callback:this.openerClick}),r.createElement(s.CommentFormElementNode,{uniqueId:this.props.uniqueId,toggle:t,open:"open"===t,independent:this.props.independent,icon:this.props.icon,articleId:this.props.articleId,commentId:this.props.commentId,commentType:this.props.commentType,url:this.props.url}))}return""!==a?r.createElement("div",{className:"comment-respond"},r.createElement("p",{className:"comment-respond-opener"},r.createElement("span",null,a))):null},bodyChange:function(e){this.setState({body:e.target.value})},openerClick:function(){}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentFormOpenerNode=void 0;var i=n(272),s=self.React;t.CommentFormOpenerNode=s.createClass({displayName:"CommentFormOpenerNode",propTypes:{uniqueId:s.PropTypes.string.isRequired,independent:s.PropTypes.bool.isRequired,staticMessage:s.PropTypes.string.isRequired,actionMessage:s.PropTypes.string.isRequired,callback:s.PropTypes.func.isRequired},getInitialState:function(){return this.replyStatus=null,{toggle:"reply"}},render:function(){return this.props.independent?null:"reply"===this.state.toggle?s.createElement("a",{href:"#",className:"comment-respond-opener","data-id":this.props.uniqueId,onClick:this.openerClick},s.createElement("span",{className:"icon-comment"},this.props.actionMessage)):"cancel"===this.state.toggle?s.createElement("a",{href:"#",className:"comment-respond-opener","data-id":this.props.uniqueId,onClick:this.cancelClick},s.createElement("span",{className:"icon-comment"},this.props.actionMessage)):null},componentDidMount:function(){var e=this.replyStatus;null===e&&(e=i.ReplyStatus.factory(),this.replyStatus=e)},openerClick:function(e){e.preventDefault(),this.willOpen(),this.replyStatus.open(this.props.uniqueId)},cancelClick:function(e){e.preventDefault(),this.willClose(),this.replyStatus.close(this.props.uniqueId)},willOpen:function(){this.setState({toggle:"cancel"})},willClose:function(){this.setState({toggle:"reply"})},checkId:function(e){return this.props.uniqueId===e.id}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplyStatus=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=(0,m["default"])(),v=null;t.ReplyStatus=function(e){function t(e){var n;if((0,o["default"])(this,t),y!==e)throw new Error("ReplyStatus is static Class. not use new ReplyStatus(). instead ReplyStatus.factory()");if(null===v){var i=(0,d["default"])(this,(0,r["default"])(t).call(this));v=i}return n=v,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"open",value:function(e){this.dispatch({type:t.OPEN,id:e})}},{key:"close",value:function(e){this.dispatch({type:t.CLOSE,id:e})}},{key:"start",value:function(e){this.dispatch({type:t.START,id:e})}},{key:"complete",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?"":arguments[1],i=arguments.length<=2||void 0===arguments[2]?"":arguments[2];this.dispatch({type:t.COMPLETE,id:e,kind:n,articleId:i})}}],[{key:"factory",value:function(){return null===v&&(v=new t(y)),v}},{key:"OPEN",get:function(){return"replyOpen"}},{key:"CLOSE",get:function(){return"replyClose"}},{key:"START",get:function(){
return"replyStart"}},{key:"COMPLETE",get:function(){return"replyComplete"}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentFormElementNode=void 0;var i=n(104),s=n(274),r=n(107),a=n(275),o=n(148),l=n(41),u=n(272),c=n(143),d=n(277),f=n(279),p=n(99),h=n(281),m=n(91),g=n(176),y=n(177),v=self.React,E=self.ReactDOM;t.CommentFormElementNode=v.createClass({displayName:"CommentFormElementNode",propTypes:{uniqueId:v.PropTypes.string.isRequired,toggle:v.PropTypes.string.isRequired,open:v.PropTypes.bool.isRequired,independent:v.PropTypes.bool.isRequired,icon:v.PropTypes.string.isRequired,articleId:v.PropTypes.string.isRequired,commentId:v.PropTypes.string,commentType:v.PropTypes.string.isRequired,url:v.PropTypes.string.isRequired},getDefaultProps:function(){return{commentId:""}},getInitialState:function(){return this.comment=null,this.replyStatus=null,this.commentStatus=null,this.mounted=!1,this.errors={body:new o.ErrorMessage},{error:!1,loading:"",body:"",open:this.props.open}},render:function(){var e=this;if(!this.props.independent){var t=this.props.commentId;if(!t||"0"===t)throw new Error("need comment Id "+t)}if(this.state.open||this.props.independent){var n=l.Safety.image(this.props.icon,i.Empty.USER_EMPTY),s=l.Safety.same(n,i.Empty.USER_EMPTY),a=function(t){return e.errors[t].error?"error":""},o=function(t){return e.errors[t].message};return v.createElement("div",{className:"comment-form form-root loading-root "+this.state.loading},v.createElement("form",{onSubmit:this.onSubmit,ref:"form"},v.createElement("div",{className:"comment-form-comment-outer1"},v.createElement("i",{className:"comment-form-user "+s},v.createElement("img",{src:i.Empty.refresh(n),alt:""})),v.createElement("div",{className:"comment-form-comment-outer2"},v.createElement("div",{className:"comment-form-comment-inner "+a("body")},v.createElement("textarea",{value:this.state.body,onChange:this.onBodyChange,name:"body",cols:"30",rows:"6",className:"comment-form-comment",placeholder:r.Message.PLACEHOLDER_COMMENT,autoFocus:"true"}),v.createElement(h.ErrorNode,{message:o("body")})))),v.createElement("div",{className:"comment-form-submit"},v.createElement("button",{type:"submit",value:"send"},r.Message.COMMENT_SUBMIT))),v.createElement("div",{ref:"commentMessage"}),v.createElement("div",{className:"loading-spinner"}," "))}return null},componentDidMount:function(){this.mounted=!0,this.listen()},componentWillUnMount:function(){this.mounted=!1,this.dispose()},listen:function(){var e=this.replyStatus;null===e&&(e=u.ReplyStatus.factory(),this.replyStatus=e,this.props.independent||(e.on(u.ReplyStatus.OPEN,this.replyOpen),e.on(u.ReplyStatus.CLOSE,this.replyClose),e.on(u.ReplyStatus.COMPLETE,this.beforeReload)));var t=this.commentStatus;null===t&&(this.props.independent||(t=c.CommentStatus.factory(),this.commentStatus=t,t.on(c.CommentStatus.COMMENT_DELETE,this.beforeReload)))},beforeReload:function(){this.props.independent||this.dispose()},dispose:function(){this.setState({loading:"",open:!1});var e=this.comment;null!==e&&(e.off(p.Model.COMPLETE,this.done),e.off(p.Model.UNDEFINED_ERROR,this.fail),e.off(p.Model.RESPONSE_ERROR,this.fail));var t=this.replyStatus;null!==t&&(t.off(u.ReplyStatus.OPEN,this.replyOpen),t.off(u.ReplyStatus.CLOSE,this.replyClose),t.off(u.ReplyStatus.COMPLETE,this.beforeReload));var n=this.commentStatus;null!==n&&n.off(c.CommentStatus.COMMENT_DELETE,this.beforeReload)},checkId:function(e){return this.props.uniqueId===e.id},replyOpen:function(e){this.mounted&&!this.state.open&&this.checkId(e)&&this.setState({open:!0})},replyClose:function(e){this.mounted&&this.state.open&&this.checkId(e)&&this.setState({open:!1})},onBodyChange:function(e){this.setState({body:e.target.value})},onSubmit:function(e){e.preventDefault();var t=this.state.body;this.reset(),""===t?this.error(""+s.ErrorTxt.BODY_EMPTY):this.sending()},error:function(e){this.errors.body.message=e,this.setState({error:!0})},reset:function(){this.errors.body.reset(),this.setState({error:!1})},sending:function(){this.setState({loading:"loading"});var e=E.findDOMNode(this.refs.form),t=a.Form.element(e);this.replyStatus.start(this.props.uniqueId);var n=void 0;n=this.props.independent?new d.ModelComment(this.props.articleId,t):new f.ModelCommentReply(this.props.articleId,this.props.commentId,t),this.comment=n,n.on(p.Model.COMPLETE,this.done),n.on(p.Model.UNDEFINED_ERROR,this.fail),n.on(p.Model.RESPONSE_ERROR,this.fail),n.start()},done:function(){this.replyStatus.complete(this.props.uniqueId,this.props.commentType,this.props.articleId),this.setState({body:""}),this.props.independent?g.Ga.add(new y.GaData("CommentFormElementNode.done","comment","post",m.Loc.current,parseFloat(this.props.articleId))):g.Ga.add(new y.GaData("CommentFormElementNode.done","comment","post - reply",this.props.url,parseFloat(this.props.commentId))),this.dispose()},fail:function(){this.dispose()}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTxt=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])();t.ErrorTxt=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("ErrorTxt is static Class. not use new ErrorTxt().")}return(0,o["default"])(e,null,[{key:"BODY_EMPTY",get:function(){return"コメントは必須項目です。"}},{key:"EMAIL_EMPTY",get:function(){return"メールアドレスは必須項目です。"}},{key:"EMAIL_INVALID",get:function(){return"正しいメールアドレスを入力してください。"}},{key:"PASSWORD_EMPTY",get:function(){return"パスワードは必須項目です。"}},{key:"PASSWORD_SHORT",get:function(){return"パスワードは8文字以上で入力してください。"}},{key:"PASSWORD_INVALID",get:function(){return"パスワードは半角英数字で入力してください。"}},{key:"NAME_EMPTY",get:function(){return"名前は必須項目です。"}},{key:"EMAIL_OR_PWD_EMPTY",get:function(){return"メールアドレスかパスワードが入力されておりません。"}},{key:"INVALID_IMAGE",get:function(){return"プロフィール写真に使用可能な画像は .png, .jpg, .gif です"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Form=void 0;var s=n(42),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(7),d=i(c),f=(n(276),(0,d["default"])());t.Form=function(){function e(t){if((0,o["default"])(this,e),f!==t)throw new Error("Form is static Class. not use new Form().")}return(0,u["default"])(e,null,[{key:"data",value:function t(e){var n=new FormData,i=!0,s=!1,a=void 0;try{for(var o,l=(0,r["default"])(e);!(i=(o=l.next()).done);i=!0){var t=o.value;n.append(t.key,t.value)}}catch(u){s=!0,a=u}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw a}}return n}},{key:"element",value:function(e){return new FormData(e)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Data=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.Data=function(){function e(t,n){(0,r["default"])(this,e),this._key=t,this._value=n}return(0,o["default"])(e,[{key:"key",get:function(){return this._key}},{key:"value",get:function(){return this._value}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelComment=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(278);n(97),t.ModelComment=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,i));return s.action=new m.Comment(e,n,s.done.bind(s),s.fail.bind(s)),s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_COMMENT:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,e)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Comment=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(175),m=n(38),g=n(41),y=n(67),v=n(83);t.Comment=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3];if((0,o["default"])(this,t),!g.Safety.isFormData(n))throw new Error("need correct formData ",n);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,y.User.token,m.Api.comment("send"),n,i,s));return a._articleId=e,a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"articleId",get:function(){return this._articleId}},{key:"url",get:function(){return v.Path.article(this._url,this.articleId)}}]),t}(h.ActionAuthBehavior)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelCommentReply=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=(n(97),n(280));t.ModelCommentReply=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,s));return a.action=new m.CommentReply(e,n,i,a.done.bind(a),a.fail.bind(a)),a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_COMMENT_REPLY:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,e)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentReply=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(175),m=n(38),g=n(41),y=n(67),v=n(83);t.CommentReply=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=arguments.length<=4||void 0===arguments[4]?null:arguments[4];if((0,o["default"])(this,t),!g.Safety.isFormData(i))throw new Error("need correct formData ",i);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,y.User.token,m.Api.comment("reply"),i,s,a));return l._articleId=e,l._commentId=n,l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"url",get:function(){return v.Path.comment(v.Path.article(this._url,this.articleId),this.commentId)}},{key:"articleId",get:function(){return this._articleId}},{key:"commentId",get:function(){return this._commentId}}]),t}(h.ActionAuthBehavior)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=self.React;t.ErrorNode=n.createClass({displayName:"ErrorNode",propTypes:{message:n.PropTypes.string.isRequired},render:function(){return""===this.props.message?null:n.createElement("span",{className:"error-message-container"},n.createElement("span",{className:"error-message-txt"},this.props.message))}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewComments=void 0;var s=n(61),r=i(s),a=n(70),o=i(a),l=n(2),u=i(l),c=n(3),d=i(c),f=n(75),p=i(f),h=n(76),m=i(h),g=n(84),y=n(107),v=n(67),E=n(100),_=n(283),k=n(284),S=(n(97),n(41)),b=n(285),T=(n(120),n(288)),P=n(298),R=n(272),N=n(143),M=n(171),w=n(172),C=self.React,D=self.ReactDOM;t.ViewComments=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,u["default"])(this,t),s=S.Safety.object(s);var r=(0,p["default"])(this,(0,o["default"])(t).call(this,n,s));r.action=k.Comments.type(i,e,r.done.bind(r),r.fail.bind(r)),r._articleId=e,r._commentsListType=i,r._commentsList=[],r._commentsBank={},r._moreRendered=null,r._user=null;var a=R.ReplyStatus.factory(),l=r.onComplete.bind(r);a.on(R.ReplyStatus.COMPLETE,l);var c=N.CommentStatus.factory();c.on(N.CommentStatus.COMMENT_DELETE,l);var d=M.Good.factory();d.on(N.CommentStatus.GOOD_ADD,l),d.on(N.CommentStatus.GOOD_DELETE,l);var f=w.Bad.factory();return f.on(N.CommentStatus.BAD_ADD,l),f.on(N.CommentStatus.BAD_DELETE,l),r._reloadFlag=!1,r}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"start",value:function(){if(v.User.sign&&null===this.user)throw new Error("user info have to set before start."+this.articleId+", "+this.commentsListType);this.action.next()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error(y.Message.undef("[COMMENTS:UNDEFINED]"));this.executeSafely(E.View.UNDEFINED_ERROR,n)}else this.render(t)}},{key:"fail",value:function(e){this.executeSafely(E.View.RESPONSE_ERROR,e)}},{key:"showError",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];e=S.Safety.string(e,"");var t=new _.ViewError(this.element,this.option,e);t.render()}},{key:"render",value:function(e){var t=new b.CommentsListDae(e),n=this.commentsList;if(0===t.total&&!this.reloadFlag)return void this.executeSafely(E.View.EMPTY_ERROR);this.commentsList=n.concat(t.comments.list);var i=this.commentsBank;t.comments.list.forEach(function(e){i[e]=t.comments.bank[e]}),this.all(t)}},{key:"all",value:function(e){this.reloadFlag=!1;var t=this.commentsList,n=this.commentsBank,i=this.element,s=this.action,a=this,o=function(e,t,n){e=!!e,D.render(C.createElement(P.CommentMoreViewNode,{show:e,rest:t,action:s}),n)},l=C.createClass({displayName:"CommentReplyChildDom",propType:{total:C.PropTypes.number.isRequired,sign:C.PropTypes.bool.isRequired,uniqueId:C.PropTypes.string.isRequired,userId:C.PropTypes.string.isRequired,icon:C.PropTypes.string.isRequired,articleId:C.PropTypes.string.isRequired,commentId:C.PropTypes.string.isRequired,commentsListType:C.PropTypes.object.isRequired,reply:C.PropTypes.object.isRequired},getInitialState:function(){return{reply:this.props.reply}},render:function(){if(0===this.props.total)return null;var e=this.state.reply,t=e.comments,n=this.props.commentsListType,i=this.props.userId,s=this.props.sign,r=this.props.articleId,a=this.props.uniqueId,o=this.props.icon,l=this.props.commentId;return C.createElement("ul",{className:"comment-list"},t.comments.map(function(e){return C.createElement("li",{key:a+"-"+e.id,className:"comment-item"},C.createElement(T.CommentNode,{uniqueId:a+"-"+e.id,commentDae:{comment:e},userId:i,icon:o,articleId:r,commentId:l,replyId:String(e.id),commentUserId:String(e.user.id),sign:s,parent:!1,commentsListType:n,url:e.url}))}))}}),u=C.createClass({displayName:"CommentsParentDom",propType:{commentObject:C.PropTypes.object.isRequired,uniqueId:C.PropTypes.string.isRequired,articleId:C.PropTypes.string.isRequired,commentsListType:C.PropTypes.string.isRequired,total:C.PropTypes.number.isRequired,index:C.PropTypes.number.isRequired,user:C.PropTypes.object},getDefaultProps:function(){return{user:{}}},render:function(){var e=this.props.commentObject,t=S.Safety.integer(e.reply.total,0),n=v.User.sign,i=void 0,s="",r=String(e.comment.id),a=this.props.articleId,o=this.props.commentsListType;if(n){var u=this.props.user;i=u.profilePicture,s=String(u.id),s||(s="")}return C.createElement("ul",{className:"comment-list"},C.createElement("li",{className:"comment-item"},C.createElement(T.CommentNode,{uniqueId:"comment-"+this.props.uniqueId,commentDae:e,icon:i,userId:s,articleId:a,commentId:r,commentUserId:String(e.comment.user.id),commentCount:e.reply.total,sign:n,parent:!0,commentsListType:o,url:e.comment.url}),C.createElement(l,{uniqueId:"reply-"+o+"-"+this.props.uniqueId,total:t,sign:n,userId:s,icon:i,articleId:a,commentId:r,commentsListType:o,reply:e.reply})))}}),c=C.createClass({displayName:"CommentsDom",propType:{commentsList:C.PropTypes.array.isRequired,commentsListType:C.PropTypes.string.isRequired,articleId:C.PropTypes.string.isRequired,user:C.PropTypes.object},getDefaultProps:function(){return{user:null}},getInitialState:function(){return{commentsList:this.props.commentsList}},render:function(){var t=this.state.commentsList,i=this.props.articleId,s=this.props.commentsListType,a="0",o=(0,r["default"])({});return null!==this.props.user&&(a=S.Safety.integer(this.props.user.id,0),a=String(a),o=this.props.user),S.Safety.array(t)&&0!==t.length?C.createElement("div",{className:"comment-"+s},C.createElement("div",{className:"comment-heading"},C.createElement("h2",null,g.CommentsType.title(s))),t.map(function(t,r){var l=n[t],c=r+"-"+s+"-"+i+"-"+t+"-"+a;return C.createElement(u,{key:c,uniqueId:c,index:r,articleId:i,commentObject:l,commentsListType:s,total:e.total,user:o})}),C.createElement("div",{className:"comment-more",ref:"commentMore"})):null},componentDidMount:function(){a.executeSafely(E.View.DID_MOUNT),o(s.hasNext(),s.rest(),D.findDOMNode(this.refs.commentMore))},componentDidUpdate:function(){o(s.hasNext(),s.rest(),D.findDOMNode(this.refs.commentMore))},updateList:function(e){this.setState({commentsList:e})}}),d=this.user;null===d&&(d=(0,r["default"])({})),D.render(C.createElement(c,{commentsList:t,articleId:String(this.articleId),commentsListType:this.commentsListType,user:d}),i)}},{key:"onComplete",value:function(e){parseInt(e.articleId,10)===this.articleId&&this.reload()}},{key:"reload",value:function(){this.commentsList=[],this.reloadFlag=!0,this.action.reload()}},{key:"user",get:function(){return this._user},set:function(e){this._user=e}},{key:"articleId",get:function(){return this._articleId},set:function(e){this._articleId=e}},{key:"commentsListType",get:function(){return this._commentsListType},set:function(e){this._commentsListType=e}},{key:"commentsBank",get:function(){return this._commentsBank},set:function(e){this._commentsBank=e}},{key:"moreRendered",get:function(){return this._moreRendered},set:function(e){this._moreRendered=e}},{key:"reloadFlag",get:function(){return this._reloadFlag},set:function(e){this._reloadFlag=e}},{key:"commentsList",get:function(){return this._commentsList},set:function(e){this._commentsList=e}}]),t}(E.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewError=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(41),g=self.React,y=self.ReactDOM;t.ViewError=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?"":arguments[2];(0,o["default"])(this,t),n=m.Safety.object(n),i=m.Safety.string(i,"");var s=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return s._message=i,s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){var e=this.element,t=this.message,n=this,i=g.createClass({displayName:"ErrorDom",render:function(){return g.createElement("div",{className:"error error-container"},g.createElement("div",{className:"error error-message"},t))},componentDidMount:function(){n.executeSafely(h.View.ERROR_MOUNT,t)}});y.render(g.createElement(i,null),e)}},{key:"message",get:function(){return this._message}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Comments=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(109),y=n(67),v=n(83),E=n(84),_=n(106),k=n(38),S=n(41),b=(0,m["default"])(),T=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?"":arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=arguments.length<=4||void 0===arguments[4]?null:arguments[4],l=arguments.length<=5||void 0===arguments[5]?0:arguments[5],u=arguments.length<=6||void 0===arguments[6]?_.Length.list:arguments[6];if((0,o["default"])(this,t),b!==e)throw new Error("not use new Comments(). instead Comments.all() or Comments.normal() or Comments.official() or Comments.mine()");i=S.Safety.string(i,"");var c=(0,d["default"])(this,(0,r["default"])(t).call(this,y.User.token,k.Api.comment(i),s,a,l,u));return c._id=n,c}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"reload",value:function(){this.reloadFlag=!0;var e=v.Path.article(this._url,this.id)+"?offset=0&length="+this.offset;this.ajax.start(e,this.method,this.boundSuccess,this.boundFail,this.resultClass,this.headers)}},{key:"id",get:function(){return this._id}},{key:"url",get:function(){return v.Path.article(this._url,this.id)+"?offset="+this.offset+"&length="+this.length}}],[{key:"type",value:function(e,n){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3];switch(e){case E.CommentsType.SELF:return t.mine(n,i,s);case E.CommentsType.NORMAL:return t.normal(n,i,s);case E.CommentsType.OFFICIAL:return t.official(n,i,s);case E.CommentsType.ALL:return t.all(n,i,s);default:return t.all(n,i,s)}}},{key:"mine",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return new t(b,e,E.CommentsType.SELF,n,i)}},{key:"normal",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return new t(b,e,E.CommentsType.NORMAL,n,i)}},{key:"official",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return new t(b,e,E.CommentsType.OFFICIAL,n,i)}},{key:"all",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return new t(b,e,E.CommentsType.ALL,n,i)}}]),t}(g.OffsetAuth);t.Comments=T},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsListDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(286),u=n(41);t.CommentsListDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=u.Safety.object(t),this._response=t,this._comments=new l.CommentsDae(t.comments)}return(0,o["default"])(e,[{key:"response",get:function(){return this._response}},{key:"total",get:function(){return this.response.count}},{key:"count",get:function(){return this.total}},{key:"comments",get:function(){return this._comments}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsDae=void 0;var s=n(42),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(127),d=n(287),f=n(41);t.CommentsDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];(0,o["default"])(this,e);var n={},i=[];t=f.Safety.array(t);var s=!0,a=!1,l=void 0;try{for(var u,p=(0,r["default"])(t);!(s=(u=p.next()).done);s=!0){var h=u.value,m=new c.PopularDae(h);n[m.id]={comment:m,reply:new d.ReplyDae(h.reply)},i.push(m.id)}}catch(g){a=!0,l=g}finally{try{!s&&p["return"]&&p["return"]()}finally{if(a)throw l}}this._bank=n,this._list=i}return(0,u["default"])(e,[{key:"bank",get:function(){return this._bank}},{key:"list",get:function(){return this._list.slice(0)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplyDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(160),u=n(41);t.ReplyDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=u.Safety.object(t);var n=parseInt(t.count,10);n=u.Safety.integer(n,0),this._total=n,this._comments=new l.CommentsPopularDae(t.comments)}return(0,o["default"])(e,[{key:"total",get:function(){return this._total}},{key:"comments",get:function(){return this._comments}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentNode=void 0;var i=n(104),s=n(41),r=n(169),a=n(270),o=n(289),l=n(296),u=n(297),c=self.React;t.CommentNode=c.createClass({displayName:"CommentNode",propTypes:{uniqueId:c.PropTypes.string.isRequired,commentDae:c.PropTypes.object.isRequired,userId:c.PropTypes.string,icon:c.PropTypes.string,articleId:c.PropTypes.string.isRequired,commentId:c.PropTypes.string,replyId:c.PropTypes.string,commentUserId:c.PropTypes.string.isRequired,commentCount:c.PropTypes.number,sign:c.PropTypes.bool.isRequired,parent:c.PropTypes.bool,independent:c.PropTypes.bool,open:c.PropTypes.bool,commentsListType:c.PropTypes.string.isRequired,url:c.PropTypes.string},getDefaultProps:function(){return{icon:"",userId:"",commentId:"",replyId:"",commentCount:0,parent:!1,independent:!1,open:!1,url:""}},getInitialState:function(){return this.replyStatus=null,{open:this.props.open,loading:""}},render:function(){var e=this.props.commentDae,t=e.comment,n=this.props.sign,d=s.Safety.image(t.user.profilePicture,i.Empty.USER_EMPTY),f=s.Safety.same(d,i.Empty.USER_EMPTY),p=function(e){return""===e?"":" comment-content-reply-"+e};return c.createElement("div",{className:"comment-item-inner comment-root"},c.createElement(o.CommentMenuNode,{key:this.props.uniqueId+"-menu",uniqueId:this.props.uniqueId+"-menu",sign:n,userId:this.props.userId,commentUserId:this.props.commentUserId,articleId:this.props.articleId,commentId:this.props.commentId,replyId:this.props.replyId,parent:this.props.parent,url:this.props.url}),c.createElement(l.CommentUserNode,{loggedIn:f,picture:d,userName:t.user.userName,bio:t.user.bio||"",displayDate:t.displayDate}),c.createElement(u.CommentContentNode,{content:t.body,commentId:this.props.commentId,replyClass:p(this.props.replyId)}),c.createElement(r.ReactionNode,{uniqueId:this.props.uniqueId,articleId:this.props.articleId,commentId:this.props.parent?this.props.commentId:this.props.replyId,sign:n,good:t.good,bad:t.bad,isGood:t.isGood,isBad:t.isBad,url:this.props.url}),c.createElement(a.CommentFormNode,{uniqueId:this.props.uniqueId,icon:this.props.icon,articleId:this.props.articleId,commentId:this.props.commentId,commentCount:this.props.commentCount,sign:n,parent:this.props.parent,independent:this.props.independent,commentType:this.props.commentsListType,url:this.props.url}))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentMenuNode=void 0;var i=n(290),s=n(143),r=self.React;t.CommentMenuNode=r.createClass({displayName:"CommentMenuNode",propTypes:{uniqueId:r.PropTypes.string.isRequired,userId:r.PropTypes.string.isRequired,commentUserId:r.PropTypes.string.isRequired,articleId:r.PropTypes.string.isRequired,commentId:r.PropTypes.string.isRequired,replyId:r.PropTypes.string.isRequired,parent:r.PropTypes.bool.isRequired,sign:r.PropTypes.bool.isRequired,url:r.PropTypes.string.isRequired},getInitialState:function(){return this.timer=0,this.status=null,{open:"close",loading:"",show:!0}},render:function(){if(this.props.sign){var e=""===this.props.userId||"0"===this.props.userId||this.props.userId!==this.props.commentUserId;return this.state.show&&!e?r.createElement("div",{className:"comment-menu "+this.state.open+" "+this.state.loading},r.createElement("a",{href:"#",className:"comment-menu-btn",onClick:this.clickHandler},"MENU"),r.createElement("ul",{className:"dropMenu"},r.createElement(i.CommentActionNode,{uniqueId:this.props.uniqueId,toggle:this.state.open,others:e,userId:this.props.userId,commentUserId:this.props.commentUserId,commentId:this.props.commentId,replyId:this.props.replyId,articleId:this.props.articleId,parent:this.props.parent,remove:this.didDelete,report:this.didReport,url:this.props.url}))):null}return null},componentDidMount:function(){this.status=s.CommentStatus.factory()},componentWillUnmount:function(){this.destroy()},didDelete:function(e){switch(e){case"click":this.destroy();break;case"done":this.setState({show:!1});break;case"fail":this.activateBodyClick();break;default:this.activateBodyClick()}},didReport:function(e){switch(e){case"click":this.destroy();break;case"done":this.toggleState();break;case"fail":default:this.activateBodyClick()}},clickHandler:function(e){e.preventDefault(),this.toggleState()},bodyClick:function(){"open"===this.state.open&&(this.timer=setTimeout(this.toggleState,100))},activateBodyClick:function(){document.body.addEventListener("click",this.bodyClick,!1)},toggleState:function(){this.destroy(),"close"===this.state.open?(this.status.modal(this.props.commentId),this.setState({open:"open"}),this.activateBodyClick()):this.setState({open:"close"})},destroy:function(){clearTimeout(this.timer),this.timer=0,document.body.removeEventListener("click",this.bodyClick)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentActionNode=void 0;var i=n(107),s=n(291),r=n(143),a=n(99),o=n(292),l=n(294),u=n(176),c=n(177),d=self.React;t.CommentActionNode=d.createClass({displayName:"CommentActionNode",propTypes:{uniqueId:d.PropTypes.string.isRequired,toggle:d.PropTypes.string.isRequired,others:d.PropTypes.bool.isRequired,userId:d.PropTypes.string.isRequired,commentUserId:d.PropTypes.string.isRequired,commentId:d.PropTypes.string.isRequired,articleId:d.PropTypes.string.isRequired,replyId:d.PropTypes.string.isRequired,remove:d.PropTypes.func.isRequired,report:d.PropTypes.func.isRequired,parent:d.PropTypes.bool.isRequired,url:d.PropTypes.string.isRequired},getInitialState:function(){return this.message=s.MessageStatus.factory(),this.comment=r.CommentStatus.factory(),this.model={remove:null},this.callback={remove:null},{deleteLoading:"",reportLoading:""}},render:function(){var e=function(e){return""===e?"":"item-reply-"+e};return"open"===this.props.toggle?this.props.others?null:d.createElement("li",{className:"dropMenu-item loading-root item-comment-"+this.props.commentId+" "+e(this.props.replyId)+" "+this.state.deleteLoading},d.createElement("a",{href:"#",className:"dropMenu-link-delete",onClick:this.deleteClick},d.createElement("span",null,i.Message.DELETE_WILL)),d.createElement("div",{className:"loading-spinner"})):d.createElement("li",null," ")},componentDidMount:function(){var e=this.model,t=this.callback;null===t.remove&&(t.remove={},t.remove[a.Model.COMPLETE]=this.deleteDone,t.remove[a.Model.UNDEFINED_ERROR]=this.deleteFail,t.remove[a.Model.RESPONSE_ERROR]=this.deleteFail),null===e.remove&&(e.remove=this.props.parent?new o.ModelCommentDelete(this.props.articleId,this.props.commentId,t.remove):new l.ModelCommentReplyDelete(this.props.articleId,this.props.commentId,this.props.replyId,t.remove))},shouldComponentUpdate:function(e,t){return"close"===t.toggle&&("loading"===this.state.deleteLoading&&this.setState({deleteLoading:""}),"loading"===this.state.reportLoading&&this.setState({reportLoading:""})),!0},componentWillUnMount:function(){this.setState({reportLoading:"",deleteLoading:""})},deleteClick:function(e){e.preventDefault(),this.setState({deleteLoading:"loading"}),this.props.remove("click"),this.message.on(s.MessageStatus.OK_CLICK,this.onOk),this.message.on(s.MessageStatus.CANCEL_CLICK,this.onCancel),this.message.remove(this.props.uniqueId)},shouldDelete:function(){null!==this.model.remove&&this.model.remove.start()},onOk:function(e){this.props.uniqueId===e.id&&(this.deleteDispose(),this.shouldDelete())},onCancel:function(e){this.props.uniqueId===e.id&&(this.deleteDispose(),this.shouldCancel())},deleteDispose:function(){this.message.off(s.MessageStatus.OK_CLICK,this.onOk),this.message.off(s.MessageStatus.CANCEL_CLICK,this.onCancel)},shouldCancel:function(){this.setState({deleteLoading:""}),this.props.remove("cancel")},deleteDone:function(){this.setState({deleteLoading:""}),this.props.remove("done"),u.Ga.add(new c.GaData("CommentActionNode.deleteDone","comment","delete",this.props.url,parseFloat(this.props.commentId))),this.comment.remove(this.props.commentId,this.props.articleId)},deleteFail:function(){this.setState({deleteLoading:""}),this.props.remove("fail");
},reportClick:function(e){e.preventDefault(),this.setState({reportLoading:"loading"}),this.props.report("click")},reportDone:function(){this.setState({reportLoading:""}),this.props.report("done")},reportFail:function(){this.setState({reportLoading:""}),this.props.report("fail")}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MessageStatus=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=(0,m["default"])(),v=null;t.MessageStatus=function(e){function t(e){var n;if((0,o["default"])(this,t),y!==e)throw new Error("MessageStatus is static Class. not use new MessageStatus(). instead MessageStatus.factory()");if(null===v){var i=(0,d["default"])(this,(0,r["default"])(t).call(this));v=i}return n=v,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"flush",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?t.INFO:arguments[1],i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];this.dispatch({type:t.FLUSH,message:e,kind:n,sp:i})}},{key:"alert",value:function(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?t.INFO:arguments[3];this.dispatch({type:t.ALERT,message:e,ok:n,cancel:i,kind:s})}},{key:"confirm",value:function(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?t.INFO:arguments[3];this.dispatch({type:t.CONFIRM,message:e,ok:n,cancel:i,kind:s})}},{key:"remove",value:function(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?t.INFO:arguments[3];n||(n=function(){}),i||(i=function(){}),this.dispatch({type:t.DELETE,id:e,ok:n,cancel:i,kind:s})}}],[{key:"message",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return React.createElement("div",{className:"messageText"},e)}},{key:"factory",value:function(){return null===v&&(v=new t(y)),v}},{key:"FLUSH",get:function(){return"messageFlush"}},{key:"CONFIRM",get:function(){return"messageConfirm"}},{key:"ALERT",get:function(){return"messageAlert"}},{key:"DELETE",get:function(){return"messageDelete"}},{key:"OK_CLICK",get:function(){return"messageOkClick"}},{key:"CANCEL_CLICK",get:function(){return"messageCancelClick"}},{key:"INFO",get:function(){return"info"}},{key:"ERROR",get:function(){return"error"}},{key:"SUCCESS",get:function(){return"success"}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelCommentDelete=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(293);n(97),t.ModelCommentDelete=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,i));return s.action=new m.CommentDelete(e,n,s.done.bind(s),s.fail.bind(s)),s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_COMMENT_DELETE:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,e)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentDelete=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(131),m=n(38),g=n(67),y=n(83),v=n(170);t.CommentDelete=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3];(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,g.User.token,m.Api.comment(v.ActionType.DELETE),i,s));return a._articleId=e,a._commentId=n,a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"url",get:function(){return y.Path.comment(y.Path.article(this._url,this.articleId),this.commentId)}},{key:"articleId",get:function(){return this._articleId}},{key:"commentId",get:function(){return this._commentId}}]),t}(h.ActionAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelCommentReplyDelete=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(295);n(97),t.ModelCommentReplyDelete=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,s));return a.action=new m.CommentReplyDelete(e,n,i,a.done.bind(a),a.fail.bind(a)),a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_COMMENT_REPLY_DELETE:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,e)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentReplyDelete=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(131),m=n(38),g=n(67),y=n(83),v=n(170);t.CommentReplyDelete=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=arguments.length<=4||void 0===arguments[4]?null:arguments[4];(0,o["default"])(this,t);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,g.User.token,m.Api.replay(v.ActionType.DELETE),s,a));return l._articleId=e,l._commentId=n,l._replyId=i,l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"url",get:function(){return y.Path.reply(y.Path.comment(y.Path.article(this._url,this.articleId),this.commentId),this.replyId)}},{key:"articleId",get:function(){return this._articleId}},{key:"commentId",get:function(){return this._commentId}},{key:"replyId",get:function(){return this._replyId}}]),t}(h.ActionAuth)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentUserNode=void 0;var i=n(104),s=self.React;t.CommentUserNode=s.createClass({displayName:"CommentUserNode",propTypes:{loggedIn:s.PropTypes.string.isRequired,picture:s.PropTypes.string.isRequired,userName:s.PropTypes.string.isRequired,bio:s.PropTypes.string.isRequired,displayDate:s.PropTypes.string.isRequired},render:function(){return s.createElement("figure",{className:"comment-user"},s.createElement("span",{className:"comment-user-link"},s.createElement("span",{className:"comment-user-thumb "+this.props.loggedIn},s.createElement("img",{src:i.Empty.refresh(this.props.picture),alt:this.props.userName})),s.createElement("div",{className:"comment-user-data"},s.createElement("p",{className:"comment-user-name"},this.props.userName),s.createElement("p",{className:"comment-user-job"},this.props.bio),s.createElement("p",{className:"comment-date"},this.props.displayDate))))}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=self.React;t.CommentContentNode=n.createClass({displayName:"CommentContentNode",propTypes:{content:n.PropTypes.string.isRequired,commentId:n.PropTypes.string.isRequired,replyClass:n.PropTypes.string.isRequired},render:function(){return n.createElement("div",{className:"comment-content comment-content-"+this.props.commentId+this.props.replyClass,dangerouslySetInnerHTML:{__html:this.props.content}})}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=self.React;t.CommentMoreViewNode=n.createClass({displayName:"CommentMoreViewNode",propTypes:{show:n.PropTypes.bool.isRequired,action:n.PropTypes.object.isRequired,rest:n.PropTypes.number},getDefaultProps:function(){return{show:!1,rest:0}},getInitialState:function(){return{loading:"",show:this.props.show,rest:this.props.rest}},render:function(){return this.state.show&&this.state.rest>0?n.createElement("div",{id:"more",className:"comment-andmore loading-root "+this.state.loading},n.createElement("a",{href:"#more",onClick:this.handleClick},"他",this.state.rest,"件を表示"),n.createElement("span",{className:"loading-spinner"}," ")):n.createElement("div",{className:"no-more"})},handleClick:function(e){e.preventDefault(),this.setState({loading:"loading"}),this.props.action.next()},updateShow:function(e,t){this.setState({show:e,rest:t})}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ComponentSingleProvider=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(176),m=self.React,g=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single,index:e.index},n.boundLogo=n.logoClick.bind(n),n.boundUrl=n.urlClick.bind(n),n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"userName",value:function(e){return e?m.createElement("p",{className:"provider-name"},e):null}},{key:"propTypes",get:function(){return{single:m.PropTypes.object.isRequired,index:m.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"logoClick",value:function(){var e=this.state.single.user.logo.link;h.Ga.click("provider-logo","provider_link","click",e,!0)}},{key:"urlClick",value:function(){var e=this.state.single.user.logo.link;h.Ga.click("provider-url","provider_link","click",e,!0)}},{key:"logo",value:function(e){var t=e.img;if(!t)return null;var n=e.link;return n?m.createElement("a",{href:n,target:"_blank",onClick:this.boundLogo},m.createElement("i",{className:"provider-logo"},m.createElement("img",{src:t,alt:""}))):m.createElement("i",{className:"provider-logo"},m.createElement("img",{src:t,alt:""}))}},{key:"url",value:function(e){var t=e.link;return t?m.createElement("p",{className:"provider-url"},m.createElement("a",{href:t,target:"_blank",onClick:this.boundUrl},"ウェブサイト")):null}},{key:"render",value:function(){var e=this.state.single,n=e.user,i=n.userName,s=n.logo;return i||s.img?m.createElement("div",{className:"provider provider-"+e.id},this.logo(s),m.createElement("div",{className:"provider-data"},t.userName(i),this.url(s))):null}}]),t}(m.Component);t.ComponentSingleProvider=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.RecordSingleState=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l={};t.RecordSingleState=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"store",value:function(e,t){l[e]=t}},{key:"restore",value:function(e){return l[e]}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Validate=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"email",value:function(e){return!!e.match(/^[\w!#$%&'*+\/=?\^_@{}\\|~\-]+([\w!#$%&'*+\/=?\^_{}\\|~\.\-]+)*@([\w][\w\-]*\.)+[\w][\w\-]*$/)}},{key:"alphaNum",value:function(e){return!!e.match(/^[a-z0-9]+$/i)}},{key:"include",value:function(e,t){return-1!==e.indexOf(t)}}]),e}();t.Validate=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SinglesHistory=void 0;var s=n(303),r=i(s),a=n(70),o=i(a),l=n(2),u=i(l),c=n(75),d=i(c),f=n(3),p=i(f),h=n(76),m=i(h),g=n(7),y=i(g),v=n(81),E=n(306),_=n(313),k=self.history,S=(0,y["default"])("private method push"),b=(0,y["default"])("SinglesHistory singleton instance"),T=null;t.SinglesHistory=function(e){function t(e){var n;if((0,u["default"])(this,t),b!==e)throw new Error("SinglesHistory is static Class. not use new SinglesHistory().");if(null!==T){var i;return i=T,(0,d["default"])(s,i)}var s=(0,d["default"])(this,(0,o["default"])(t).call(this)),r=document.getElementsByTagName("head")[0],a=new E.TagHead(r);s.head=function(){return a};var l=a.twitter().site();s.twitterSite=function(){return l};var c=_.NextPages.factory();s.pages=c;var f="";return s.base=function(){return f},s.extra="",s.hash="",s.setBase=function(e){f=e;var t=location.href.split(e).pop(),n=t&&"?"===t.substr(0,1)?t:"";s.extra=n?n:"",s.hash=location.hash},T=s,n=T,(0,d["default"])(s,n)}return(0,m["default"])(t,e),(0,p["default"])(t,null,[{key:"factory",value:function(){return null===T&&(T=new t(b)),T}}]),(0,p["default"])(t,[{key:"replace",value:function(e){var t=e.url(),n=t===this.base()?this.hash:"";k.replaceState(e.info(),e.title(),""+t+n+this.extra),this.head().replace(e)}},{key:"push",value:function(e,t){return e!==S?void console.warn("push is inner method. instead use hit"):void this.replace(t)}},{key:"pop",value:function(e){var t=this.pages.get(e);this.replace(t)}},{key:"hit",value:function(e){var t=e.url();if(t!==location.pathname){var n=this.pages.pages();-1!==(0,r["default"])(n).indexOf(e.url())?this.pop(t):(this.pages.add(e),this.base()!==t&&this.push(S,e))}}}]),t}(v.EventDispatcher)},function(e,t,n){e.exports={"default":n(304),__esModule:!0}},function(e,t,n){n(305),e.exports=n(15).Object.keys},function(e,t,n){var i=n(73);n(74)("keys",function(e){return function(t){return e(i(t))}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TagHead=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(307),u=n(310),c=n(308),d=n(311),f=n(312);t.TagHead=function(){function e(t){(0,r["default"])(this,e);var n=new f.TagTitle(t),i=new l.SnsFb(t),s=new u.SnsTw(t),a=new d.TagLink(t,'link[rel="canonical"]'),o=new c.TagMeta(t,'meta[name="description"]');this.title=function(){return n},this.og=function(){return i},this.twitter=function(){return s},this.canonical=function(){return a},this.description=function(){return o}}return(0,o["default"])(e,[{key:"replace",value:function(e){var t=e.description(),n=e.title();this.title().set(e.title(),e.label()),this.description().set(t),this.canonical().set(e.canonical());var i=""+n+f.TagTitle.DIVIDER+f.TagTitle.EN;this.twitter().replace(e,i),this.og().replace(e,i)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SnsFb=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(308);t.SnsFb=function(){function e(t){(0,r["default"])(this,e);var n=new l.TagMeta(t,'meta[property="og:title"]'),i=new l.TagMeta(t,'meta[property="og:image"]'),s=new l.TagMeta(t,'meta[property="og:url"]'),a=new l.TagMeta(t,'meta[property="og:description"]');this.title=function(){return n},this.image=function(){return i},this.url=function(){return s},this.description=function(){return a}}return(0,o["default"])(e,[{key:"replace",value:function(e,t){this.title().set(t),this.image().set(e.ogImg()),this.url().set(e.canonical()),this.description().set(e.description())}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TagMeta=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(309);t.TagMeta=function(){function e(t,n){(0,r["default"])(this,e);var i=t.querySelector(n)||{};this.tag=function(){return i};var s=i.content;this.content=function(){return s},this.selector=function(){return n};var a=new l.Temporary(s);this.temporary=function(){return a}}return(0,o["default"])(e,[{key:"set",value:function(e){this.tag().content=e}},{key:"get",value:function(){return this.tag().content}},{key:"restore",value:function(){this.set(this.content())}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Temporary=void 0;var s=n(2),r=i(s);t.Temporary=function a(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];(0,r["default"])(this,a);var t=e;this.get=function(){return t},this.set=function(e){t=e}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SnsTw=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(308);t.SnsTw=function(){function e(t){(0,r["default"])(this,e);var n=new l.TagMeta(t,'meta[name="twitter:site"]'),i=new l.TagMeta(t,'meta[name="twitter:title"]'),s=new l.TagMeta(t,'meta[name="twitter:image"]'),a=new l.TagMeta(t,'meta[name="twitter:url"]'),o=new l.TagMeta(t,'meta[name="twitter:description"]');this.site=function(){return n},this.title=function(){return i},this.image=function(){return s},this.url=function(){return a},this.description=function(){return o}}return(0,o["default"])(e,[{key:"replace",value:function(e,t){this.title().set(t),this.image().set(e.ogImg()),this.url().set(e.canonical()),this.description().set(e.description())}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TagLink=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(308);t.TagLink=function(e){function t(e,n){(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n)),s=i.tag().href;return i.href=function(){return s},i.temporary().set(s),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"set",value:function(e){this.tag().href=e}},{key:"get",value:function(){return this.tag().href}},{key:"restore",value:function(){this.set(this.href())}}]),t}(h.TagMeta)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TagTitle=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(309);t.TagTitle=function(){function e(t){(0,r["default"])(this,e);var n=t.getElementsByTagName("title")[0]||{};this.tag=function(){return n};var i=" | ",s=n.innerHTML;this.title=function(){return s};var a=s.split(i),o=a.length,u=a.shift(),c=a.pop(),d="";3===o&&(d=a.shift()),this.page=function(){return u},this.site=function(){return c},this.label=function(){return d};var f=new l.Temporary(u);this.temporary=function(){return f}}return(0,o["default"])(e,[{key:"set",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?this.label():arguments[1],i=""+t;return n&&(i+=""+e.DIVIDER+n),i+=""+e.DIVIDER+this.site(),this.tag().innerHTML=i,i}},{key:"get",value:function(){return this.tag().innerHTML}},{key:"restore",value:function(){this.set(this.page())}}],[{key:"EN",get:function(){return"SPORTS BULL"}},{key:"JP",get:function(){return"スポーツブル"}},{key:"SLASH",get:function(){return" / "}},{key:"DIVIDER",get:function(){return" | "}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NextPages=void 0;var s=n(61),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(7),d=i(c),f=(0,d["default"])("NextPages singleton instance"),p=null;t.NextPages=function(){function e(t){if((0,o["default"])(this,e),f!==t)throw new Error("NextPages is static Class. not use new NextPages().");if(null!==p)return p;var n={};this.pages=function(){return n};var i=[];return this.list=function(){return i},p=this}return(0,u["default"])(e,[{key:"add",value:function(e){var t=this.pages(),n=e.url();t[n]=e;var i=this.list();-1===i.indexOf(n)&&i.push(n)}},{key:"get",value:function(e){return this.pages()[e]}},{key:"clone",value:function(){return(0,r["default"])(this.pages())}},{key:"before",value:function(e){var t=e.url(),n=this.list(),i=n.indexOf(t);if(-1===i)return"";var s=i-1;return 0>s?"":n[s]}},{key:"top",value:function(){return this.list[0]}}],[{key:"factory",value:function(){return null===p&&(p=new e(f)),p}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.Page=function(){function e(t){var n=this;(0,r["default"])(this,e);var i=location.protocol+"://"+location.host;this.host=function(){return i},this.single=function(){return t},this.title=function(){return t.title},this.description=function(){return t.description},this.url=function(){return"/p/"+t.id+"/"},this.canonical=function(){return""+n.host()+n.url()},this.label=function(){return t.categories.label},this.ogImg=function(){return t.media.images.original},this.props={title:t.title,url:t.url,ogImg:t.media.images.original}}return(0,o["default"])(e,[{key:"info",value:function(){return{title:this.title(),url:this.url()}}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PageTitle=void 0;var s=n(2),r=i(s),a=n(3),o=i(a);t.PageTitle=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?"":arguments[1];(0,r["default"])(this,e),this.article=function(){return t},this.label=function(){return n}}return(0,o["default"])(e,[{key:"title",value:function t(){var t=""+this.article(),n=this.label();return n&&(t+=""+e.DIVIDER+n),t+=""+e.DIVIDER+e.SITE}}],[{key:"DIVIDER",get:function(){return" | "}},{key:"SITE",get:function(){return"スポーツブル / SPORTS BULL"}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Single=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(115),m=n(38),g=n(83);t.Single=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,m.Api.single(),n,i));return s._id=e,s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"id",get:function(){return this._id}},{key:"url",get:function(){return g.Path.article(this._url,this.id)}}]),t}(h.Action)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SingleAuth=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(131),m=n(38),g=n(67),y=n(83);t.SingleAuth=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,g.User.token,m.Api.single(),n,i));return s._id=e,s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"id",get:function(){return this._id}},{key:"url",get:function(){return y.Path.article(this._url,this.id)}}]),t}(h.ActionAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewSearch=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=(n(242),n(153)),m=n(319),g=n(320),y=n(100),v=(n(97),n(67)),E=n(107),_=self.React,k=self.ReactDOM;t.ViewSearch=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,n,i,null,s,!0));return a.action=v.User.sign?new m.SearchAuth(e,a.done.bind(a),a.fail.bind(a)):new g.Search(e,a.done.bind(a),a.fail.bind(a)),a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"done",value:function(e){var t=e.articles;if("undefined"==typeof t){var n=new Error(E.Message.undef("[SEARCH:UNDEFINED]"));this.executeSafely(y.View.UNDEFINED_ERROR,n),this.showError(n.message)}else if(0===t.length){var i=new Error(E.Message.empty("[SEARCH:EMPTY]"));this.executeSafely(y.View.EMPTY_ERROR,i),this.showError(i.message)}else this.request=e.request,this.render(t)}},{key:"fail",value:function(e){this.executeSafely(y.View.RESPONSE_ERROR,e),this.showError(e.message)}},{key:"showError",value:function(){var e=(arguments.length<=0||void 0===arguments[0]?"":arguments[0],_.createClass({displayName:"ErrorDom",render:function(){return _.createElement("div",{className:"error-container"},_.createElement("h2",{className:"search-heading mt60"},"検索結果が見つかりませんでした"),_.createElement("p",{className:"mt04"},"スペルを確認するか、他のキーワードを入力してみてください。"),_.createElement("div",{className:"mod-btnA01 mt40"},_.createElement("a",{href:"/"},"TOPに戻る")))}}));k.render(_.createElement(e,null),this.element)}}]),t}(h.ViewArchiveMasonryInfinite)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchAuth=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(109),m=n(38),g=n(67),y=n(106);t.SearchAuth=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?0:arguments[3],a=arguments.length<=4||void 0===arguments[4]?y.Length.archive:arguments[4];(0,o["default"])(this,t);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,g.User.token,m.Api.search(),n,i,s,a));return l._word=e,l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"word",get:function(){return this._word},set:function(e){this._word=e}},{key:"url",get:function(){return this._url+"/"+this.word+"?offset="+this.offset+"&length="+this.length}}]),t}(h.OffsetAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Search=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(110),m=n(38),g=n(106);t.Search=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?0:arguments[3],a=arguments.length<=4||void 0===arguments[4]?g.Length.archive:arguments[4];(0,o["default"])(this,t);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,m.Api.search(),n,i,s,a));return l._word=e,l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"word",get:function(){return this._word},set:function(e){this._word=e}},{key:"url",get:function(){return this._url+"/"+this.word+"?offset="+this.offset+"&length="+this.length}}]),t}(h.Offset)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewCommentSingle=void 0;var s=n(61),r=i(s),a=n(70),o=i(a),l=n(2),u=i(l),c=n(3),d=i(c),f=n(75),p=i(f),h=n(76),m=i(h),g=n(67),y=n(84),v=n(107),E=n(100),_=n(322),k=n(323),S=(n(97),n(41)),b=n(285),T=(n(120),n(288)),P=n(272),R=n(143),N=self.React,M=self.ReactDOM;t.ViewCommentSingle=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?0:arguments[3],r=arguments.length<=4||void 0===arguments[4]?{}:arguments[4];(0,u["default"])(this,t),r=S.Safety.object(r);var a=(0,p["default"])(this,(0,o["default"])(t).call(this,i,r));s=S.Safety.integer(s,0),a.action=0!==s?new _.CommentSingle(e,n,a.done.bind(a),a.fail.bind(a)):new k.CommentSingleReply(e,n,s,a.done.bind(a),a.fail.bind(a)),a._articleId=e,a._commentId=n,a._commentsListType=y.CommentsType.SINGLE,a._commentsList=[],a._commentsBank={},a._moreRendered=null,a._user=null;var l=P.ReplyStatus.factory(),c=a.onComplete.bind(a);l.on(P.ReplyStatus.COMPLETE,c);var d=R.CommentStatus.factory();return d.on(R.CommentStatus.COMMENT_DELETE,c),a._reloadFlag=!1,a}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"start",value:function(){if(g.User.sign&&null===this.user)throw new Error("user info have to set before start."+this._articleId);this.action.next()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error(v.Message.undef("[COMMENT:UNDEFINED]"));this.executeSafely(E.View.UNDEFINED_ERROR,n)}else this.render(t)}},{key:"fail",value:function(e){this.executeSafely(E.View.RESPONSE_ERROR,e)}},{key:"render",value:function(e){var t=new b.CommentsListDae(e);if(0===t.total&&!this.reloadFlag)return void this.executeSafely(E.View.EMPTY_ERROR);this._commentsList=this._commentsList.concat(t.comments.list);var n=this._commentsBank;t.comments.list.forEach(function(e){n[e]=t.comments.bank[e]}),this.all(t)}},{key:"all",value:function(e){this.reloadFlag=!1;var t=this._commentsList,n=this._commentsBank,i=this.element,s=this.action,a=this,o=N.createClass({displayName:"MoreView",propTypes:{show:N.PropTypes.bool.isRequired,rest:N.PropTypes.number},getDefaultProps:function(){return{show:!1,rest:0}},getInitialState:function(){return{loading:"",show:this.props.show,rest:this.props.rest}},render:function(){return this.state.show&&this.state.rest>0?N.createElement("div",{id:"more",className:"comment-andmore loading-root "+this.state.loading},N.createElement("a",{href:"#more",onClick:this.handleClick},"他",this.state.rest,"件を表示"),N.createElement("span",{className:"loading-spinner"})):N.createElement("div",{className:"no-more"}," ")},handleClick:function(e){e.preventDefault(),this.setState({loading:"loading"}),s.next()},updateShow:function(e,t){this.setState({show:e,rest:t})}}),l=function(e,t,n){e=!!e,M.render(N.createElement(o,{show:e,rest:t}),n)},u=N.createClass({displayName:"CommentReplyChildDom",propType:{total:N.PropTypes.number.isRequired,sign:N.PropTypes.bool.isRequired,uniqueId:N.PropTypes.string.isRequired,userId:N.PropTypes.string.isRequired,icon:N.PropTypes.string.isRequired,articleId:N.PropTypes.string.isRequired,commentId:N.PropTypes.string.isRequired,commentsListType:N.PropTypes.object.isRequired,reply:N.PropTypes.object.isRequired},getInitialState:function(){return{reply:this.props.reply}},render:function(){if(0===this.props.total)return null;var e=this.state.reply,t=e.comments,n=this.props.commentsListType,i=this.props.userId,s=this.props.sign,r=this.props.articleId,a=this.props.uniqueId,o=this.props.icon,l=this.props.commentId;return N.createElement("ul",{className:"comment-list"},t.comments.map(function(e){return N.createElement("li",{key:a+"-"+e.id,className:"comment-item"},N.createElement(T.CommentNode,{uniqueId:a+"-"+e.id,commentDae:{comment:e},userId:i,icon:o,articleId:r,commentId:l,replyId:String(e.id),commentUserId:String(e.user.id),sign:s,parent:!1,commentsListType:n}))}))}}),c=N.createClass({displayName:"CommentsParentDom",propType:{commentObject:N.PropTypes.object.isRequired,uniqueId:N.PropTypes.string.isRequired,articleId:N.PropTypes.string.isRequired,commentsListType:N.PropTypes.string.isRequired,total:N.PropTypes.number.isRequired,index:N.PropTypes.number.isRequired,user:N.PropTypes.object},getDefaultProps:function(){return{user:{}}},render:function(){var e=this.props.commentObject,t=S.Safety.integer(e.reply.total,0),n=g.User.sign,i=void 0,s="",r=String(e.comment.id),a=this.props.articleId,o=this.props.commentsListType;if(n){var l=this.props.user;i=l.profilePicture,s=String(l.id),s||(s="")}return N.createElement("ul",{className:"comment-list"},N.createElement("li",{className:"comment-item"},N.createElement(T.CommentNode,{uniqueId:"comment-"+this.props.uniqueId,commentDae:e,icon:i,userId:s,articleId:a,commentId:r,commentUserId:String(e.comment.user.id),commentCount:e.reply.total,sign:n,parent:!0,commentsListType:o}),N.createElement(u,{uniqueId:"reply-"+this.props.uniqueId,total:t,sign:n,userId:s,icon:i,articleId:a,commentId:r,commentsListType:o,reply:e.reply})))}}),d=N.createClass({displayName:"CommentsDom",propType:{commentsList:N.PropTypes.array.isRequired,commentsListType:N.PropTypes.string.isRequired,articleId:N.PropTypes.string.isRequired,user:N.PropTypes.object},getDefaultProps:function(){return{user:null}},getInitialState:function(){return{commentsList:this.props.commentsList}},render:function(){var t=this.state.commentsList,i=this.props.articleId,s=this.props.commentsListType,a="0",o=(0,r["default"])({});return null!==this.props.user&&(a=String(this.props.user.id),o=this.props.user),S.Safety.array(t)&&0!==t.length?N.createElement("div",{
className:"comment-"+s},N.createElement("div",{className:"comment-heading"},N.createElement("h2",null,"選択されたコメント")),t.map(function(t,r){var l=n[t],u=r+"-"+s+"-"+i+"-"+t+"-"+a;return N.createElement(c,{key:u,uniqueId:u,index:r,articleId:i,commentObject:l,commentsListType:s,total:e.total,user:o})}),N.createElement("div",{className:"comment-more",ref:"commentMore"})):null},componentDidMount:function(){a.executeSafely(E.View.DID_MOUNT),l(s.hasNext(),s.rest(),M.findDOMNode(this.refs.commentMore))},componentDidUpdate:function(){l(s.hasNext(),s.rest(),M.findDOMNode(this.refs.commentMore))},updateList:function(e){this.setState({commentsList:e})}}),f=this.user;null===f&&(f=(0,r["default"])({})),M.render(N.createElement(d,{commentsList:t,articleId:String(this._articleId),commentsListType:this._commentsListType,user:f}),i)}},{key:"onComplete",value:function(e){parseInt(e.articleId,10)===this.articleId&&this.reload()}},{key:"reload",value:function(){this._commentsList=[],this.reloadFlag=!0,this._action.reload()}},{key:"user",get:function(){return this._user},set:function(e){this._user=e}},{key:"articleId",get:function(){return this._articleId},set:function(e){this._articleId=e}},{key:"commentListType",get:function(){return this._commentsListType},set:function(e){this._commentsListType=e}},{key:"commentsBank",get:function(){return this._commentsBank},set:function(e){this._commentsBank=e}},{key:"moreRendered",get:function(){return this._moreRendered},set:function(e){this._moreRendered=e}},{key:"reloadFlag",get:function(){return this._reloadFlag},set:function(e){this._reloadFlag=e}},{key:"commentId",get:function(){return this._commentId},set:function(e){this._commentId=e}}]),t}(E.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentSingle=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(109),m=n(38),g=n(67),y=n(83);t.CommentSingle=function(e){function t(e,n,i,s){(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,g.User.token,m.Api.comment("single"),i,s));return a._id=e,a._commentId=n,a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"reload",value:function(){this.reloadFlag=!0;var e=y.Path.comment(y.Path.article(this._url,this.id),this.commentId)+"?offset=0&length="+this.offset;this.ajax.start(e,this.method,this.boundSuccess,this.boundFail,this.resultClass,this.headers)}},{key:"id",get:function(){return this._id}},{key:"commentId",get:function(){return this._commentId}},{key:"url",get:function(){return y.Path.comment(y.Path.article(this._url,this.id),this.commentId)+"?offset="+this.offset+"&length="+this.length}}]),t}(h.OffsetAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentSingleReply=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(322),m=n(83);t.CommentSingleReply=function(e){function t(e,n,i,s,a){(0,o["default"])(this,t);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,s,a));return l._replyId=i,l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"reload",value:function(){this.reloadFlag=!0;var e=m.Path.reply(m.Path.comment(m.Path.article(this._url,this.id),this.commentId),this.replyId)+"?offset=0&length="+this.offset;this._ajax.start(e,this.method,this.boundSuccess,this.boundFail,this.resultClass,this.headers)}},{key:"replyId",get:function(){return this._replyId}},{key:"url",get:function(){return m.Path.reply(m.Path.comment(m.Path.article(this._url,this.id),this.commentId),this.replyId)+"?offset="+this.offset+"&length="+this.length}}]),t}(h.CommentSingle)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewFirstVisit=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(85),g=n(68),y=n(325),v=n(94),E=self.Sagen,_=self.Gasane,k=self.React,S=self.ReactDOM,b=self.com.greensock,T=b.TweenLite,P=b.easing;t.ViewFirstVisit=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e,n))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){"1"!==g.Cookie.get(g.Cookie.EVER_BEEN)&&g.Cookie.save("1",g.Cookie.EVER_BEEN,y.Time.later(3650))}},{key:"render",value:function(){var e=k.createClass({displayName:"FirstDom",getInitialState:function(){return this.whole=null,this.fps=new _.Fps(1),{show:!0,css:{opacity:0},height:{height:"100%"}}},render:function(){return this.state.show?k.createElement("div",{style:this.state.css},k.createElement("div",{className:"modal-intro",style:this.state.height},k.createElement("div",{className:"modal-bg",onClick:this.closeHandle,style:this.state.height}),k.createElement("div",{className:"modal-intro-contents"},k.createElement("a",{href:"#",className:"modal-intro-close",onClick:this.closeHandle},k.createElement("i",null," "),k.createElement("i",null," "),k.createElement("span",null,"閉じる")),k.createElement("div",{className:"modal-intro-tagline"},"CRAZY FOR SPORTS"),k.createElement("dib",{className:"modal-intro-heading"},"運動通信"),k.createElement("p",{className:"modal-intro-copy"},"世界一足の速い人間が、勉強ができなくてもいい。8万人の目の前でPKを決められる人間が、女好きでもいい。傷ついた少年の勇気になるホームランを打てる人間が、借金を抱えていてもいい。自分より強い相手の顎を砕ける人間が、敬語が使えなくてもいい。動かない両足で世界を制覇できる人間が、時間にルーズでもいい。その瞬間に、その奇跡を起こせる人間に、それ以外のことができる必要なんかない。すべてを犠牲にして、立ち向かった人間に、つまらない常識なんかいらない。そのつまらない定規を捨てよ。奴らのくれる感動に、感動せよ。その最高の奇跡を生み出すために生まれてきた人間を祝福せよ。瞬間に生きることを選んだ人間の美しさに熱狂せよ。熱狂のない世界なんか、いらない。")))):null},componentDidMount:function(){var e=m.Dom.whole();null!==e&&(this.whole=new E.Dom(e),window.addEventListener("load",this.onLoad,!1),this.fps.on(_.Fps.ENTER_FRAME,this.update),this.fps.start())},update:function(){this.setHeight()},setHeight:function(){var e=Math.max(parseInt(this.whole.style("height"),10),950);this.setState({height:{height:e+"px"}})},closeHandle:function(e){e.preventDefault(),this.fps.off(_.Fps.ENTER_FRAME,this.update),this.closeModal()},onLoad:function(){window.removeEventListener("load",this.onLoad),this.openModal()},openModal:function(){var e={opacity:0},t=this;T.to(e,.36,{opacity:1,easing:P.Linear.easeNone,onUpdate:function(){t.setState({css:{opacity:e.opacity}})},onComplete:function(){t.setState({css:{opacity:1}})}})},closeModal:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t={opacity:1},n=this;T.to(t,.5,{delay:e,opacity:0,easing:P.Linear.easeNone,onUpdate:function(){n.setState({css:{opacity:t.opacity}})},onComplete:function(){n.setState({css:{opacity:0},show:!1}),v.Scroll.motion(0)}})}});S.render(k.createElement(e,null),this.element)}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Time=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=(0,u["default"])();t.Time=function(){function e(t){if((0,r["default"])(this,e),c!==t)throw new Error("Time is static Class. not use new Time().")}return(0,o["default"])(e,null,[{key:"later",value:function(t){return new Date(e.current()+e.day()*t)}},{key:"current",value:function(){return Date.now()}},{key:"week",value:function(){return 7*e.day()}},{key:"day",value:function(){return 864e5}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewSingleTitle=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(283),g=n(107),y=n(316),v=(n(97),n(41)),E=n(215),_=self.React,k=self.ReactDOM;t.ViewSingleTitle=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];(0,o["default"])(this,t),i=v.Safety.object(i);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,n,i));return s.action=new y.Single(e,s.done.bind(s),s.fail.bind(s)),s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error(g.Message.undef("[COMMENT_BY_SINGLE:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n)}else this.render(t)}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e)}},{key:"showError",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];e=v.Safety.string(e,"");var t=new m.ViewError(this.element,this.option,e);t.render()}},{key:"render",value:function(e){var t=new E.SingleDae(e);this.executeSafely(h.View.BEFORE_RENDER,t);var n=_.createClass({displayName:"TitleDom",propTypes:{title:_.PropTypes.string.isRequired,id:_.PropTypes.string.isRequired,url:_.PropTypes.string.isRequired},render:function(){return _.createElement("div",{className:"comment-detail-heading post-heading post-heading-"+this.props.id},_.createElement("h1",null,_.createElement("a",{href:this.props.url},this.props.title)))}});k.render(_.createElement(n,{title:t.title,id:String(t.id),url:t.url}),this.element)}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewSingleVisual=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=(n(215),n(247)),g=self.ReactDOM;t.ViewSingleVisual=function(e){function t(e,n){(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return i._single=n,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render()}},{key:"render",value:function(){var e=this._single;g.render(React.createElement(m.MediaNode,{articleId:String(e.id),mediaType:e.mediaType,media:e.media,isShowImage:e.isShowImage,index:0}),this.element)}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewHeadline=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(191),g=n(107),y=n(67),v=n(329),E=n(330),_=(n(97),n(41)),k=n(154),S=self.ReactDOM;t.ViewHeadline=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t),n=_.Safety.object(n);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n)),s=y.User.sign?E.HeadlineAuth:v.Headline;return i.action=new s(i.done.bind(i),i.fail.bind(i)),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.articles;if("undefined"==typeof t){var n=new Error(g.Message.undef("[HEADLINE:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n)}else if(0===t.length){var i=new Error(g.Message.empty("[HEADLINE:EMPTY]"));this.executeSafely(h.View.EMPTY_ERROR,i)}else this.render(t)}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e)}},{key:"render",value:function(e){var t=e.map(function(e){return new k.ArticleDae(e)});S.render(React.createElement(m.ComponentHeadlines,{list:t,callback:this.executeSafely.bind(this),home:!0}),this.element)}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Headline=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(115),m=n(38),g=n(106);t.Headline=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,m.Api.home(),e,n))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"url",get:function(){return this._url+"/headline?offset=0&length="+g.Length.headline}}]),t}(h.Action)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HeadlineAuth=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(131),m=n(38),g=n(67),y=n(106);t.HeadlineAuth=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,g.User.token,m.Api.home(),e,n))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"url",get:function(){return this._url+"/headline?offset=0&length="+y.Length.headline}}]),t}(h.ActionAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewPickup=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(107),g=n(67),y=n(332),v=n(333),E=(n(97),n(41)),_=n(182),k=n(154),S=n(133),b=self.ReactDOM;t.ViewPickup=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t),n=E.Safety.object(n);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n)),s=g.User.sign?v.PickupAuth:y.Pickup;return i.action=new s(i.done.bind(i),i.fail.bind(i)),i._last=0,i._waiting=5e3,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.articles;if("undefined"==typeof t){var n=new Error(m.Message.undef("[PICKUP:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n)}else if(0===t.length){var i=new Error(m.Message.empty("[PICKUP:EMPTY]"));this.executeSafely(h.View.EMPTY_ERROR,i)}else this.render(t)}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e)}},{key:"render",value:function(e){var t=e.map(function(e){return new k.ArticleDae(e)});b.render(React.createElement(_.ComponentCarousel,{list:t,callback:this.executeSafely.bind(this),polling:new S.Polling(this.waiting),index:0,home:this.home}),this.element)}},{key:"waiting",get:function(){return this._waiting},set:function(e){this._waiting=e}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Pickup=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(115),m=n(38),g=n(106);t.Pickup=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,m.Api.home(),e,n))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"url",get:function(){return this._url+"/pickup?offset=0&length="+g.Length.pickup}}]),t}(h.Action)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PickupAuth=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(131),m=n(38),g=n(67),y=n(106);t.PickupAuth=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,g.User.token,m.Api.home(),e,n))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"url",get:function(){return this._url+"/pickup?offset=0&length="+y.Length.pickup}}]),t}(h.ActionAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewNews=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(153),g=n(67),y=n(107),v=n(106),E=n(335),_=n(336);t.ViewNews=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],s=arguments.length<=3||void 0===arguments[3]?!0:arguments[3];(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,null,i,s));return a.action=g.User.sign?new E.NewsAuth(a.done.bind(a),a.fail.bind(a),0,30):new _.News(a.done.bind(a),a.fail.bind(a),0,30),a.home=!0,a.afterClick=!0,a.request=null,a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"done",value:function(e){var t=e.articles;if(this.action.length=v.Length.archive,"undefined"==typeof t){var n=new Error(y.Message.undef("[ARCHIVE:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n),this.moreButton(!1)}else if(0===t.length){var i=new Error(y.Message.empty("[ARCHIVE:EMPTY]"));this.executeSafely(h.View.EMPTY_ERROR,i),this.moreButton(!1)}else this.request=e.request,this.render(t)}}]),t}(m.ViewArchiveMasonryInfinite)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NewsAuth=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(109),p=n(38),h=n(67),m=n(106);t.NewsAuth=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],s=arguments.length<=3||void 0===arguments[3]?m.Length.archive:arguments[3];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,h.User.token,p.Api.home(),e,n,i,s))}return(0,d["default"])(t,e),t}(f.OffsetAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.News=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(110),p=n(38),h=n(106);t.News=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],s=arguments.length<=3||void 0===arguments[3]?h.Length.archive:arguments[3];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,p.Api.home(),e,n,i,s))}return(0,d["default"])(t,e),t}(f.Offset)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewRanking=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(104),g=n(107),y=n(85),v=n(338),E=(n(97),n(41)),_=n(154),k=n(342),S=self.React,b=self.ReactDOM;t.ViewRanking=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?"all":arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3];(0,o["default"])(this,t),n=E.Safety.object(n),i=E.Safety.string(i,"all");var a=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return a.action=v.Widget.ranking(i,a.done.bind(a),a.fail.bind(a),s),a._slug=i,a._request=null,a._home=!1,a._detail=!1,a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.next()}},{key:"done",value:function(e){var t=e.articles;if("undefined"==typeof t){var n=new Error(g.Message.undef("[RANKING:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n)}else if(0===t.length){var i=new Error(g.Message.empty("[RANKING:EMPTY]"));this.executeSafely(h.View.EMPTY_ERROR,i)}else this._request=e.request,this.render(t)}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e)}},{key:"render",value:function(e){this.executeSafely(h.View.BEFORE_RENDER,e,this.slug);var t=this.element,n=this.slug,i=this,s=S.createClass({displayName:"ArticleDom",propTypes:{list:S.PropTypes.array.isRequired,home:S.PropTypes.bool.isRequired,detail:S.PropTypes.bool.isRequired,slug:S.PropTypes.string.isRequired},render:function(){var e=this.props.list,t=this.props.home,i=this.props.detail,s=this.props.slug,r="",a=void 0;return"all"!==n&&(a=y.Dom.categoryLabel(),a&&""!==a&&(r=S.createElement("span",{className:"widget-ranking-heading-ruby-label"}," / ",a))),S.createElement("div",{className:"board-small widget-ranking"},S.createElement("div",{className:"widget-ranking-heading"},S.createElement("h3",{className:"widget-ranking-heading-title"},"RANKING"),S.createElement("span",{className:"widget-ranking-heading-ruby"},g.Message.RANKING_TITLE,r)),S.createElement("ul",{className:"post-list"},e.map(function(e,r){var a=new _.ArticleDae(e),o=E.Safety.image(a.media.images.thumbnail,m.Empty.IMG_SMALL),l=o===m.Empty.IMG_SMALL;return S.createElement(k.RankingNode,{key:"ranking-"+a.id,index:r,id:String(a.id),categories:a.categories.all,url:a.url,date:a.displayDate,title:a.title,thumbnail:o,empty:l,total:a.commentsCount,home:t,detail:i,thisSlug:s,categorySlug:n})})))},componentDidMount:function(){i.executeSafely(h.View.DID_MOUNT)}});b.render(S.createElement(s,{list:e,home:this.home,detail:this.detail,slug:this.slug}),t)}},{key:"slug",get:function(){return this._slug}},{key:"home",get:function(){return this._home},set:function(e){this._home=e}},{key:"detail",get:function(){return this._detail},set:function(e){this._detail=e}},{key:"request",get:function(){return this._request},set:function(e){this._request=e}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Widget=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(7),u=i(l),c=n(339),d=n(340),f=n(341),p=n(106),h=n(41),m=(0,u["default"])();t.Widget=function(){function e(t){if((0,r["default"])(this,e),m!==t)throw new Error("Widget is not new Widget().")}return(0,o["default"])(e,null,[{key:"ranking",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"all":arguments[0],t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=arguments.length<=3||void 0===arguments[3]?p.Length.ranking:arguments[3];e=h.Safety.string(e,"all"),i=h.Safety.integer(i,p.Length.ranking);var s=new c.Ranking(e,t,n);return s.length=i,s}},{key:"video",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"all":arguments[0],t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=arguments.length<=3||void 0===arguments[3]?p.Length.video:arguments[3];e=h.Safety.string(e,"all"),i=h.Safety.integer(i,p.Length.video);var s=new d.Videos(e,t,n);return s.length=i,s}},{key:"recommend",value:function t(){var e=arguments.length<=0||void 0===arguments[0]?"all":arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?p.Length.video:arguments[3];e=h.Safety.string(e,"all"),s=h.Safety.integer(s,p.Length.video);var t=new f.Recommend(e,n,i);return t.length=s,t}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Ranking=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(150),p=n(41),h=n(151);t.Ranking=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?"all":arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return(0,o["default"])(this,t),e=p.Safety.string(e,"all"),(0,u["default"])(this,(0,r["default"])(t).call(this,e,h.ArchiveType.RANKING,n,i))}return(0,d["default"])(t,e),t}(f.Category)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Videos=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(150),p=n(41),h=n(151);t.Videos=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?"all":arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return(0,o["default"])(this,t),e=p.Safety.string(e,"all"),(0,u["default"])(this,(0,r["default"])(t).call(this,e,h.ArchiveType.VIDEO,n,i))}return(0,d["default"])(t,e),t}(f.Category)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Recommend=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(150),p=n(41),h=n(151);t.Recommend=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?"all":arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return(0,o["default"])(this,t),e=p.Safety.string(e,"all"),(0,u["default"])(this,(0,r["default"])(t).call(this,e,h.ArchiveType.RECOMMEND,n,i))}return(0,d["default"])(t,e),t}(f.Category)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RankingNode=void 0;var i=n(104),s=n(176),r=n(177),a=n(178),o=self.React;t.RankingNode=o.createClass({displayName:"RankingNode",propTypes:{index:o.PropTypes.number.isRequired,id:o.PropTypes.string.isRequired,slug:o.PropTypes.string,categories:o.PropTypes.array.isRequired,url:o.PropTypes.string.isRequired,date:o.PropTypes.string.isRequired,title:o.PropTypes.string.isRequired,thumbnail:o.PropTypes.string.isRequired,empty:o.PropTypes.bool.isRequired,total:o.PropTypes.number.isRequired,home:o.PropTypes.bool.isRequired,detail:o.PropTypes.bool.isRequired,thisSlug:o.PropTypes.string.isRequired,categorySlug:o.PropTypes.string.isRequired},render:function(){var e=this.props,t=e.index+1,n={background:"url("+e.thumbnail+") no-repeat center center",backgroundSize:"cover"},s=function(e){var t="";return e.map(function(e,n){t+=""+(0!==n?"-":"")+e.slug}),t};return o.createElement("li",{className:"board-item rank"+t+" ranking-"+s(e.categories)},o.createElement("a",{href:e.url,className:"post",onClick:this.gaSend},o.createElement("figure",{className:"post-thumb"+(this.props.empty?"":" post-thumb-fill"),style:n},o.createElement("img",{src:i.Empty.THUMB_EMPTY,alt:""})),o.createElement("div",{className:"post-data"},o.createElement("p",{className:"post-category post-category-"+s(e.categories)},o.createElement(a.CategoryLabelNode,{categories:e.categories,id:e.id,index:e.index})),o.createElement("h4",{className:"post-heading"},e.title),o.createElement("p",{className:"post-date"},e.date))))},gaSend:function(){this.props.home?this.gaHome():this.props.detail?this.gaDetail():this.gaCategory()},gaHome:function(){s.Ga.add(new r.GaData("RankingNode.gaHome","home_ranking","click",this.props.url,parseFloat(this.props.id)))},gaCategory:function(){s.Ga.add(new r.GaData("RankingNode.gaCategory",this.props.thisSlug+"_ranking","click",this.props.url,parseFloat(this.props.id)))},gaDetail:function(){s.Ga.add(new r.GaData("RankingNode.gaDetail","detail_ranking","click",this.props.url,parseFloat(this.props.id)))}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewVideos=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(104),g=n(107),y=n(85),v=n(338),E=(n(97),n(41)),_=n(154),k=n(178),S=n(344),b=n(176),T=n(177),P=self.React,R=self.ReactDOM;t.ViewVideos=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?"all":arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3];(0,o["default"])(this,t),n=E.Safety.object(n),i=E.Safety.string(i,"all");var a=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return a.action=v.Widget.video(i,a.done.bind(a),a.fail.bind(a),s),a._slug=i,a._request=null,a._home=!1,a._detail=!1,a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.next()}},{key:"done",value:function(e){var t=e.articles;if("undefined"==typeof t){var n=new Error(g.Message.undef("[VIDEOS:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n)}else if(0===t.length){var i=new Error(g.Message.empty("[VIDEOS:EMPTY]"));this.executeSafely(h.View.EMPTY_ERROR,i)}else this._request=e.request,this.render(t)}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e)}},{key:"render",value:function(e){this.executeSafely(h.View.BEFORE_RENDER,e,this.slug);var t=this.element,n=this.slug,i=this,s=P.createClass({displayName:"VideosDom",propTypes:{index:P.PropTypes.number.isRequired,id:P.PropTypes.string.isRequired,slug:P.PropTypes.string.isRequired,categories:P.PropTypes.array.isRequired,url:P.PropTypes.string.isRequired,date:P.PropTypes.string.isRequired,title:P.PropTypes.string.isRequired,thumbnail:P.PropTypes.string.isRequired,home:P.PropTypes.bool.isRequired,detail:P.PropTypes.bool.isRequired,thisSlug:P.PropTypes.string.isRequired},render:function(){var e=this.props;return P.createElement("li",{className:"board-item videos-"+e.index+" videos-"+(e.slug||n)},P.createElement("a",{href:e.url,className:"post",onClick:this.gaSend},P.createElement("figure",{className:"post-thumb post-thumb-video"},P.createElement("img",{className:"video-thumbnail",src:e.thumbnail,alt:e.title}),P.createElement("img",{className:"post-thumb-overlay-movie type-movie",src:m.Empty.VIDEO_PLAY_SMALL,alt:""})),P.createElement("div",{className:"post-data"},P.createElement("p",{className:"post-category post-category-"+e.slug},P.createElement(k.CategoryLabelNode,{categories:e.categories,id:"videos-label-"+e.id,index:e.index})),P.createElement("h4",{className:"post-heading"},e.title),P.createElement("p",{className:"post-date"},e.date))))},gaSend:function(){this.props.home?this.gaHome():this.props.detail?this.gaDetail():this.gaCategory()},gaHome:function(){b.Ga.add(new T.GaData("ViewVideos.render.VideosDom.gaSend","home_movie","click",this.props.url,parseFloat(this.props.id)))},gaCategory:function(){b.Ga.add(new T.GaData("ViewVideos.render.VideosDom.gaSend",this.props.thisSlug+"_movie","click",this.props.url,parseFloat(this.props.id)))},gaDetail:function(){b.Ga.add(new T.GaData("ViewVideos.render.VideosDom.gaSend","detail_movie","click",this.props.url,parseFloat(this.props.id)))}}),r=P.createClass({displayName:"ArticleDom",propTypes:{list:P.PropTypes.array.isRequired,home:P.PropTypes.bool.isRequired,detail:P.PropTypes.bool.isRequired,slug:P.PropTypes.string.isRequired},render:function(){var e=this.props.list,t=this.props.home,i=this.props.detail,r=this.props.slug;return P.createElement("div",{className:"board-small widget-recommend"},P.createElement(S.RecommendTitleNode,{slug:n,label:y.Dom.categoryLabel(),title:g.Message.VIDEOS_TITLE}),P.createElement("ul",{className:"board-list"},e.map(function(e,n){var a=new _.ArticleDae(e),o=E.Safety.image(a.media.images.medium,m.Empty.VIDEO_THUMBNAIL);return P.createElement(s,{key:"ranking-"+a.id,index:n,id:String(a.id),slug:a.categories.slug,categories:a.categories.all,url:a.url,date:a.displayDate,title:a.title,thumbnail:o,home:t,detail:i,thisSlug:r})})))},componentDidMount:function(){i.executeSafely(h.View.DID_MOUNT)}});R.render(P.createElement(r,{list:e,home:this.home,detail:this.detail,slug:this.slug}),t)}},{key:"slug",get:function(){return this._slug}},{key:"home",get:function(){return this._home},set:function(e){this._home=e}},{key:"detail",get:function(){return this._detail},set:function(e){this._detail=e}}]),t}(h.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecommendTitleNode=void 0;var i=n(107),s=self.React;t.RecommendTitleNode=s.createClass({displayName:"RecommendTitleNode",propTypes:{slug:s.PropTypes.string,label:s.PropTypes.string,title:s.PropTypes.string},getDefaultProps:function(){return{slug:"all",label:"",title:i.Message.VIDEOS_TITLE}},render:function(){var e="",t=this.props.label;return"all"!==this.props.slug&&t&&""!==t&&(e=" / "+t),s.createElement("div",{className:"widget-recommend-heading"},s.createElement("h3",{className:"widget-recommend-heading-title"},"RECOMMEND"),s.createElement("span",{className:"widget-recommend-heading-ruby"
},this.props.title,e))}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewRecommend=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(337),g=n(104),y=n(107),v=n(338),E=n(41),_=n(154),k=n(342),S=n(344),b=self.React,T=self.ReactDOM;t.ViewRecommend=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?"all":arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3];(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,i,s));return a.action=v.Widget.recommend(i,a.done.bind(a),a.fail.bind(a),s),a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){this.executeSafely(h.View.BEFORE_RENDER,e,this.slug);var t=this.element,n=this.slug,i=this,s=b.createClass({displayName:"ArticleDom",propTypes:{list:b.PropTypes.array.isRequired,home:b.PropTypes.bool.isRequired,detail:b.PropTypes.bool.isRequired,slug:b.PropTypes.string.isRequired},render:function(){var e=this.props.list,t=this.props.home,i=this.props.detail,s=this.props.slug;return b.createElement("div",{className:"board-small widget-ranking"},b.createElement(S.RecommendTitleNode,{slug:n,label:"",title:y.Message.RECOMMEND_TITLE}),b.createElement("ul",{className:"post-list"},e.map(function(e,r){var a=new _.ArticleDae(e),o=E.Safety.image(a.media.images.thumbnail,g.Empty.IMG_SMALL),l=o===g.Empty.IMG_SMALL;return b.createElement(k.RankingNode,{key:"recommend-"+a.id,index:r,id:String(a.id),categories:a.categories.all,url:a.url,date:a.displayDate,title:a.title,thumbnail:o,empty:l,total:a.commentsCount,home:t,detail:i,thisSlug:s,categorySlug:n})})))},componentDidMount:function(){i.executeSafely(h.View.DID_MOUNT)}});T.render(b.createElement(s,{list:e,home:this.home,detail:this.detail,slug:this.slug}),t)}}]),t}(m.ViewRanking)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Sidebar=void 0;var s=n(42),r=i(s),a=n(134),o=i(a),l=n(2),u=i(l),c=n(3),d=i(c),f=n(251),p=n(94),h=self.Sagen,m=h.Dom;t.Sidebar=function(){function e(t,n){(0,u["default"])(this,e);var i=[],s=0,r=0,a=t.parentNode,l=n.parentNode,c=this.update.bind(this),d=30,p="position: absolute; top: "+d+"px; width: "+f.Content.SIDEBAR_WIDTH+"px;",h={top:!0,bottom:!1},m=-1;this.id=0,(0,o["default"])(this,{sidebar:t,footer:n,offsets:i,previous:s,parent:a,whole:l,id:r,boundUpdate:c,padding:d,css:p,sticky:h,wholeHeight:m})}return(0,d["default"])(e,[{key:"addOffset",value:function(e){this.offsets.push(e)}},{key:"style",value:function(e){this.sidebar.style.cssText=e}},{key:"height",value:function(e){return parseInt(m.getStyle(e,"height"),10)}},{key:"start",value:function(){this.style(this.css),this.update(),window.addEventListener("resize",this.resize.bind(this),!1)}},{key:"stop",value:function(){cancelAnimationFrame(this.id)}},{key:"update",value:function(){this.id=requestAnimationFrame(this.boundUpdate),this.scroll({y:p.Scroll.y}),this.resizeWhole()}},{key:"resize",value:function(){this.scroll({y:p.Scroll.y,resize:!0})}},{key:"resizeWhole",value:function(){var e=this.whole,t=this.wholeHeight,n=this.height(e);t>0&&t!==n&&this.scroll({y:p.Scroll.y,resize:!0}),this.wholeHeight=n}},{key:"scroll",value:function(e){var t=e.y,n=this.height(this.sidebar),i=this.height(this.whole);if(i>n){var s=this.previous<t,r=this.previous>t;s||r?this.position(s,t,n,i):"undefined"!=typeof e.resize&&e.resize&&this.position(!0,t,n,i)}else this.style(this.css);this.previous=t}},{key:"offset",value:function t(){var e=this.offsets,t=0,n=!0,i=!1,s=void 0;try{for(var a,o=(0,r["default"])(e);!(n=(a=o.next()).done);n=!0){var l=a.value;t+=parseInt(m.getStyle(l,"height"),10)}}catch(u){i=!0,s=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw s}}return t+=parseInt(m.getStyle(this.parent,"padding-top"),10)}},{key:"stickyFree",value:function(){var e=this.sticky;e.top=!1,e.bottom=!1}},{key:"position",value:function(e,t,n,i){var s=parseInt(window.innerHeight,10),r=t+s,a=this.offset(),o=this.height(this.footer),l=i-(o+n+this.padding),u=a+n,c=i-o-this.padding;a>=t?(this.style("position: absolute; top: "+this.padding+"px; width: "+f.Content.SIDEBAR_WIDTH+"px;"),this.stickyFree(),this.sticky.top=!0):r>c?(this.style("position: absolute; bottom: "+this.padding+"px; width: "+f.Content.SIDEBAR_WIDTH+"px;"),this.stickyFree(),this.sticky.bottom=!0):e?this.down(u,r,c):this.up(u,r,l,t)}},{key:"down",value:function(e,t,n){t>e?t>n?(this.style("position: absolute; bottom: "+this.padding+"px; width: "+f.Content.SIDEBAR_WIDTH+"px;"),this.stickyFree(),this.sticky.bottom=!0):(this.style("position: fixed; bottom: 0; width: "+f.Content.SIDEBAR_WIDTH+"px;"),this.stickyFree(),this.sticky.bottom=!0):(this.style(this.css),this.stickyFree(),this.sticky.top=!0)}},{key:"up",value:function(e,t,n,i){var s=m.getStyle(this.sidebar,"position");n>=i?t>e&&"fixed"!==s&&(this.style("position: fixed; top: 0; width: "+f.Content.SIDEBAR_WIDTH+"px;"),this.stickyFree(),this.sticky.top=!0):t>e?"fixed"!==s&&(this.style("position: absolute; bottom: "+this.padding+"px; width: "+f.Content.SIDEBAR_WIDTH+"px;"),this.stickyFree(),this.sticky.bottom=!0):"fixed"===s&&this.sticky.bottom||(this.style(this.css),this.stickyFree(),this.sticky.top=!0)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewDeleteModal=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(291),g=n(348),y=self.ReactDOM;t.ViewDeleteModal=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return i._render=null,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){var e=m.MessageStatus.factory();e.on(m.MessageStatus.DELETE,this.onModal.bind(this))}},{key:"onModal",value:function(e){null===this._render?this._render=y.render(React.createElement(g.CommentDeleteNode,{id:e.id,type:e.kind,ok:e.ok,cancel:e.cancel}),this.element):this._render.updateShow(!0,e.id,e.ok,e.cancel,e.type)}}]),t}(h.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentDeleteNode=void 0;var i=n(291),s=n(107),r=self.React,a=self.com.greensock,o=a.TweenLite,l=a.easing;t.CommentDeleteNode=r.createClass({displayName:"CommentDeleteNode",propTypes:{id:r.PropTypes.string.isRequired,type:r.PropTypes.string,ok:r.PropTypes.func,cancel:r.PropTypes.func},getDefaultProps:function(){return{type:i.MessageStatus.INFO,ok:function(){},cancel:function(){}}},getInitialState:function(){return this.status=i.MessageStatus.factory(),{show:!0,id:this.props.id,ok:this.props.ok,cancel:this.props.cancel,type:this.props.type,css:{opacity:0}}},render:function(){return this.state.show?r.createElement("div",{className:"modal-dialogue modal-dialogue_delete",ref:"modalContainer",style:this.state.css},r.createElement("div",{className:"modal-bg",onClick:this.cancelClick}),r.createElement("div",{className:"modal-dialogue-contents "+this.props.type},r.createElement("a",{href:"#",className:"modal-dialogue-close",onClick:this.cancelClick},s.Message.BUTTON_CLOSE),r.createElement("p",{className:"lead"},s.Message.DELETE),r.createElement("ul",{className:"btn-block"},r.createElement("li",{className:"btn-item"},r.createElement("a",{href:"#",className:"btn-link btn-link_cancel",onClick:this.cancelClick},s.Message.BUTTON_CANCEL)),r.createElement("li",{className:"btn-item"},r.createElement("a",{href:"#",className:"btn-link btn-link_submit",onClick:this.deleteClick},s.Message.BUTTON_DELETE))))):null},componentDidMount:function(){this.openModal()},cancelClick:function(e){e.preventDefault(),this.status.dispatch({type:i.MessageStatus.CANCEL_CLICK,id:this.state.id}),this.props.cancel(),this.closeModal()},deleteClick:function(e){e.preventDefault(),this.status.dispatch({type:i.MessageStatus.OK_CLICK,id:this.state.id}),this.props.ok(),this.closeModal(.5)},openModal:function(){var e={opacity:0},t=this;o.to(e,.5,{opacity:1,easing:l.Linear.easeNone,onUpdate:function(){t.setState({css:{opacity:e.opacity}})},onComplete:function(){t.setState({css:{opacity:1}})}})},closeModal:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t={opacity:1},n=this;o.to(t,.5,{delay:e,opacity:0,easing:l.Linear.easeNone,onUpdate:function(){n.setState({css:{opacity:t.opacity}})},onComplete:function(){n.setState({css:{opacity:0},show:!1})}})},updateShow:function(e,t,n,i,s){this.setState({show:e,id:t,ok:n,cancel:i,type:s}),e&&this.openModal()}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewFlushModal=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(291),g=n(350),y=self.ReactDOM;t.ViewFlushModal=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return i._render=null,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render();var e=m.MessageStatus.factory();e.on(m.MessageStatus.FLUSH,this.onModal.bind(this))}},{key:"render",value:function(){this._render=y.render(React.createElement(g.FlushNode,null),this.element)}},{key:"onModal",value:function(e){this._render.updateShow(!0,e.message,e.kind,e.sp)}}]),t}(h.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlushNode=void 0;var i=n(291),s=n(94),r=self.React,a=self.com.greensock,o=a.TweenLite,l=a.easing;t.FlushNode=r.createClass({displayName:"FlushNode",propTypes:{show:r.PropTypes.bool,type:r.PropTypes.string,message:r.PropTypes.element},getDefaultProps:function(){return{show:!1,type:"info",message:r.createElement("p",null," ")}},getInitialState:function(){return this.top=0,{show:this.props.show,type:this.props.type,message:this.props.message,css:{opacity:0}}},render:function(){var e=this,t=function(){return 0!==e.top?{top:e.top+"px"}:{opacity:1}};return this.state.show?r.createElement("div",{className:"modal-dialogue modal-dialogue_delete",style:this.state.css},r.createElement("div",{className:"flush-modal-bg modal-bg"}),r.createElement("div",{className:"flush-dialogue dialogue-notice "+this.state.type,style:t()},r.createElement("div",{className:"dialogue-notice-inner"},r.createElement("div",{className:"dialogue-notice-info"},this.state.message)))):null},openModal:function(){var e={opacity:0},t=this;o.to(e,.1,{opacity:1,easing:l.Linear.easeNone,onUpdate:function(){t.setState({css:{opacity:e.opacity}})},onComplete:function(){t.setState({css:{opacity:1}}),t.closeModal(.75)}})},closeModal:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t={opacity:1},n=this;o.to(t,.5,{delay:e,opacity:0,easing:l.Linear.easeNone,onUpdate:function(){n.setState({css:{opacity:t.opacity}})},onComplete:function(){n.setState({css:{opacity:0},show:!1}),n.top=0}})},updateShow:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?i.MessageStatus.INFO:arguments[2],r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];r?this.top=s.Scroll.y:this.top=0,this.setState({show:e,message:t,type:n}),e&&this.openModal()}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignupWizard=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(107),g=n(92),y=n(91),v=n(99),E=n(352),_=n(353),k=(n(161),n(120)),S=n(98),b=(n(97),n(355)),T=n(357),P=n(356),R=self.Sagen,N=self.React,M=self.ReactDOM;t.SignupWizard=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n)),s={};return i._callbacks=s,s[v.Model.COMPLETE]=i.complete.bind(i),i.action=new E.ModelCategories(s),i._status=P.SignupStatus.factory(),i._step=1,i._boundHash=null,y.Loc.hash="",i._unload=!1,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"complete",value:function(e){this.render(e,this._step)}},{key:"render",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?1:arguments[1],i=this,s=N.createClass({displayName:"SignupDom",propTypes:{step:N.PropTypes.number.isRequired,categoriesDae:N.PropTypes.object.isRequired},getInitialState:function(){return this.status=P.SignupStatus.factory(),{step:this.props.step}},render:function(){return N.createElement("div",{className:"signup-"+this.state.step},N.createElement(b.HeadingNode,{step:this.props.step}),N.createElement(T.RootNode,{step:this.props.step,categories:this.props.categoriesDae.categories,beforeRedirect:this.beforeRedirect,sp:R.Browser.Mobile.phone()}))},componentDidMount:function(){i.didMount(),this.status.on(P.SignupStatus.SIGNUP_STEP,this.stepChange)},componentWillUnMount:function(){this.status.off(P.SignupStatus.SIGNUP_STEP,this.stepChange)},stepChange:function(e){this.updateStep(e.step)},updateStep:function(e){this.setState({step:e})},beforeRedirect:function(){t.deactivateUnload()}});M.render(N.createElement(s,{step:n,categoriesDae:e}),this.element),this.social()}},{key:"didMount",value:function(){this._status.on(P.SignupStatus.SIGNUP_STEP,this.stepChange.bind(this)),null===this._boundHash&&this.activateHashChange()}},{key:"stepChange",value:function(e){var n=e.step;this._step=n,this._unload||(this._unload=!0,t.activateUnload())}},{key:"activateHashChange",value:function(){var e=this.onHash.bind(this);this._boundHash=e,window.addEventListener("hashchange",e,!1)}},{key:"onHash",value:function(){var e=y.Loc.hash,t=g.Url.signupStepByHash(e);this._status.step(t)}},{key:"social",value:function(){var e=y.Loc.parse();if(null!==e&&e.hasOwnProperty("oauth")){var t=e.oauth;-1===t.indexOf("facebook")&&"facebook"!==t&&"facebook#"!==t&&"twitter"!==t||this.socialRequest()}}},{key:"socialRequest",value:function(){var e={};e[v.Model.COMPLETE]=this.socialDone.bind(this);var t=new _.ModelSocial(e);t.start()}},{key:"socialDone",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error(m.Message.undef("[SOCIAL:USER_PROFILE:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n)}else{var i=new S.StatusDae(e.status);200===i.code&&this.success(new k.UserDae(t))}}},{key:"success",value:function(e){this._status.sns(e.userName,e.profilePicture,e.email,e.bio)}}],[{key:"activateUnload",value:function(){window.addEventListener("beforeunload",t.onUnload,!1)}},{key:"deactivateUnload",value:function(){window.removeEventListener("beforeunload",t.onUnload)}},{key:"onUnload",value:function(e){e.returnValue=m.Message.UNLOAD}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelCategories=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(200),g=n(161);n(97),t.ModelCategories=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.action=new m.Categories(n.done.bind(n),n.fail.bind(n)),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_CATEGORIES:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,new g.CategoriesDae(t))}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelSocial=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(354);n(97),t.ModelSocial=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.action=new m.Social(n.done.bind(n),n.fail.bind(n)),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[USER_SELF:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,e)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Social=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(115),p=n(38);t.Social=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,p.Api.sns(),e,n))}return(0,d["default"])(t,e),t}(f.Action)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeadingNode=void 0;var i=n(356),s=n(92),r=self.React,a=self.Sagen,o=r.createClass({displayName:"LeadNode",propTypes:{step:r.PropTypes.number.isRequired},render:function(){return 1!==this.props.step||a.Browser.Mobile.phone()?null:r.createElement("p",{className:"lead"},"会員登録は無料です。",r.createElement("br",null),"あなたの興味のあるニュースをお届けします。")}});t.HeadingNode=r.createClass({displayName:"HeadingNode",propTypes:{step:r.PropTypes.number.isRequired},getInitialState:function(){return this.status=i.SignupStatus.factory(),{step:this.props.step}},render:function(){return r.createElement("header",{className:"signup-header"},r.createElement("h1",{className:"heading"},r.createElement("a",{href:s.Url.index()},"SPORTS BULL")),r.createElement(o,{step:this.state.step}))},componentDidMount:function(){this.status.on(i.SignupStatus.SIGNUP_STEP,this.stepChange)},componentWillUnMount:function(){this.status.off(i.SignupStatus.SIGNUP_STEP,this.stepChange)},stepChange:function(e){this.updateStep(e.step)},updateStep:function(e){this.setState({step:e})}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignupStatus=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=n(41),v=(0,m["default"])(),E=null,_=function(e){function t(e){var n;if((0,o["default"])(this,t),v!==e)throw new Error("SignupStatus is static Class. not use new SignupStatus(). instead SignupStatus.factory()");if(null===E){var i=(0,d["default"])(this,(0,r["default"])(t).call(this));E=i}return n=E,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"step",value:function(e){this.dispatch({type:t.SIGNUP_STEP,step:e})}},{key:"email",value:function(e){this.dispatch({type:t.SIGNUP_EMAIL,email:e})}},{key:"submit",value:function(e){this.dispatch({type:t.SIGNUP_SUBMIT,step:e})}},{key:"form",value:function(e){this.dispatch({type:t.SIGNUP_SUBMIT,form:e})}},{key:"sns",value:function(e,n){var i=arguments.length<=2||void 0===arguments[2]?"":arguments[2],s=arguments.length<=3||void 0===arguments[3]?"":arguments[3];e=y.Safety.string(e,""),n=y.Safety.string(n,""),i=y.Safety.string(i,""),s=y.Safety.string(s,""),this.dispatch({type:t.SIGNUP_OAUTH,email:i,userName:e,profilePicture:n,bio:s})}},{key:"email1",value:function(e){this.dispatch({type:t.STEP1_EMAIL,email:e})}},{key:"email2",value:function(e){this.dispatch({type:t.STEP2_EMAIL,email:e})}}],[{key:"factory",value:function(){return null===E&&(E=new t(v)),E}},{key:"SIGNUP_STEP",get:function(){return"signupStep"}},{key:"SIGNUP_EMAIL",get:function(){return"signupEmail"}},{key:"SIGNUP_SUBMIT",get:function(){return"signupSubmit"}},{key:"SIGNUP_FORM",get:function(){return"signupForm"}},{key:"SIGNUP_OAUTH",get:function(){return"signupOAuth"}},{key:"STEP1_EMAIL",get:function(){return"signupStep1Email"}},{key:"STEP2_EMAIL",get:function(){return"signupStep2Email"}}]),t}(g.EventDispatcher);t.SignupStatus=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootNode=void 0;var i=n(356),s=n(358),r=n(359),a=n(364),o=n(370),l=self.React,u=self.ReactDOM;t.RootNode=l.createClass({displayName:"RootNode",propTypes:{step:l.PropTypes.number.isRequired,categories:l.PropTypes.array.isRequired,beforeRedirect:l.PropTypes.func.isRequired,sp:l.PropTypes.bool.isRequired},getInitialState:function(){return this.status=i.SignupStatus.factory(),{step:this.props.step,email1:"",email2:""}},render:function(){var e=function(e){switch(e){case 2:return"basic-setting setting-form";case 3:return"interest-setting setting-form";case 1:default:return"register"}};return l.createElement("div",{className:"body-sec"},l.createElement("div",{className:"body-sec-inner"},l.createElement(s.SignupHeadingNode,{step:this.state.step}),l.createElement("div",{className:e(this.state.step)},l.createElement("form",{ref:"signup",encType:"multipart/form-data",onSubmit:this.submitHandler},l.createElement(r.LegendStep1Node,{step:this.props.step,changeEmail:this.email1Change,email:this.state.email1}),l.createElement(a.LegendStep2Node,{step:this.props.step+1,getForm:this.getForm,changeEmail:this.email2Change,email:this.state.email2,sp:this.props.sp}),l.createElement(o.LegendStep3Node,{step:this.props.step+2,categories:this.props.categories,getForm:this.getForm,beforeRedirect:this.props.beforeRedirect}),l.createElement("div",{className:"submit-hidden-container"},l.createElement("input",{type:"submit"}))))))},componentDidMount:function(){this.status.on(i.SignupStatus.SIGNUP_STEP,this.stepChange)},componentWillUnMount:function(){this.status.off(i.SignupStatus.SIGNUP_STEP,this.stepChange),this.dispose()},shouldComponentUpdate:function(e,t){return this.state.step!==t.step},submitHandler:function(e){e.preventDefault(),this.status.submit(this.state.step)},stepChange:function(e){this.updateStep(e.step)},updateStep:function(e){this.setState({step:e})},getForm:function(){return u.findDOMNode(this.refs.signup)},email1Change:function(e){this.setState({email2:e})},email2Change:function(e){this.setState({email1:e})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignupHeadingNode=void 0;var i=n(92),s=n(107),r=self.React,a=r.createClass({displayName:"SignupStepNode",propTypes:{step:r.PropTypes.number.isRequired},render:function(){var e=function(e,t){return e===t?"current":""};return r.createElement("div",{className:"signup-step"},r.createElement("ul",{className:"signup-step-list"},r.createElement("li",{className:"signup-step-item signup-step-step1 "+e(1,this.props.step)},r.createElement("span",null,s.Message.SIGNUP_STEP_1)),r.createElement("li",{className:"signup-step-item signup-step-step2 "+e(2,this.props.step)},r.createElement("span",null,s.Message.SIGNUP_STEP_2)),r.createElement("li",{className:"signup-step-item signup-step-step3"},r.createElement("span",null,s.Message.SIGNUP_STEP_3))))}});t.SignupHeadingNode=r.createClass({displayName:"SignupHeadingNode",propTypes:{step:r.PropTypes.number.isRequired},render:function(){switch(this.props.step){case 1:return r.createElement("div",{className:"signup-heading-container"},r.createElement("div",{className:"signup-heading"},r.createElement("h1",null,s.Message.TITLE_ENTRY_MEMBER),r.createElement("p",{className:"btn"},r.createElement("a",{href:i.Url.login()},s.Message.HERE_TO_LOGIN))));case 2:return r.createElement("div",{className:"signup-heading-container"},r.createElement(a,{step:1}),r.createElement("div",{className:"signup-heading"},r.createElement("h1",null,s.Message.TITLE_ENTRY_MEMBER)));case 3:return r.createElement("div",{className:"signup-heading-container"},r.createElement(a,{step:2}),r.createElement("div",{className:"signup-heading"},r.createElement("h1",null,s.Message.TITLE_INTEREST_SPORTS)));default:return null}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LegendStep1Node=void 0;var i=n(92),s=n(274),r=n(107),a=n(356),o=n(91),l=n(301),u=(n(97),n(276)),c=n(275),d=n(148),f=n(99),p=n(360),h=n(281),m=n(38),g=self.React,y=g.createClass({displayName:"Step1FormNode",propTypes:{step:g.PropTypes.number.isRequired,changeEmail:g.PropTypes.func.isRequired,email:g.PropTypes.string.isRequired},getInitialState:function(){return this.status=a.SignupStatus.factory(),this.errors={errorEmail:new d.ErrorMessage},this.callback=null,this.model=null,{email:this.props.email,step:1,errorEmail:!1}},render:function(){var e=this,t=function(t){return e.state[t]?"error":""},n=function(t){return e.errors[t].message};return g.createElement("fieldset",{className:"fieldset-step-1"},g.createElement("span",{className:"form-parts "+t("errorEmail")},g.createElement("span",{className:"setting-form-mail form-input"},g.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.emailChange,placeholder:r.Message.PLACEHOLDER_EMAIL,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"})),g.createElement(h.ErrorNode,{message:n("errorEmail")})),g.createElement("span",{className:"form-parts align-right"},g.createElement("span",{className:"setting-form-submit mod-btnA01"},g.createElement("input",{type:"button",value:r.Message.PLEASE_MAKE_ACCOUNT,onClick:this.nextHandler}))))},componentDidMount:function(){if(this.status.on(a.SignupStatus.SIGNUP_SUBMIT,this.submitHandler),null===this.callback){var e={};this.callback=e,e[f.Model.COMPLETE]=this.done,e[f.Model.UNDEFINED_ERROR]=this.fail,e[f.Model.RESPONSE_ERROR]=this.fail}this.status.on(a.SignupStatus.STEP2_EMAIL,this.onEmail2Change),this.status.on(a.SignupStatus.SIGNUP_OAUTH,this.onSns)},componentWillUnMount:function(){this.status.off(a.SignupStatus.SIGNUP_SUBMIT,this.submitHandler),this.dispose()},onSns:function(e){this.setState({email:e.email}),this.next()},onEmail2Change:function(e){this.setState({email:e.email})},emailChange:function(e){this.setState({email:e.target.value}),this.status.email1(e.target.value)},submitHandler:function(e){var t=e.step;t===this.props.step&&this.prepareNext()},nextHandler:function(e){e.preventDefault(),this.prepareNext()},prepareNext:function(){this.reset();var e=this.state.email;return""===e?void this.error(s.ErrorTxt.EMAIL_EMPTY):l.Validate.email(e)?void this.request():void this.error(s.ErrorTxt.EMAIL_INVALID)},request:function(){var e=new u.Data("email",this.state.email),t=c.Form.data([e]),n=this.model;null===n?(n=new p.ModelUserDetect(t,this.callback),this.model=n):n.data=t,n.start()},next:function(){this.status.email(this.state.email),o.Loc.hash=i.Url.signupHash(this.props.step+1)},error:function(e){this.errors.errorEmail.message=e,this.setState({errorEmail:!0})},done:function(e){200===e.status.code&&this.next()},fail:function(e){this.errors.errorEmail.message=e.status.userMessage,this.setState({errorEmail:!0})},reset:function(){this.errors.errorEmail.reset(),this.setState({errorEmail:!1})},dispose:function(){}});t.LegendStep1Node=g.createClass({displayName:"LegendStep1Node",propTypes:{step:g.PropTypes.number.isRequired,changeEmail:g.PropTypes.func.isRequired,email:g.PropTypes.string.isRequired},getInitialState:function(){return this.status=a.SignupStatus.factory(),{step:1}},render:function(){return g.createElement("div",{className:"fieldset-container fieldset-container-1"},g.createElement("div",{className:"linkage-sns"},g.createElement("ul",{className:"linkage-sns-list"},g.createElement("li",{className:"linkage-sns-item"},g.createElement("a",{href:m.Api.auth("tw").url,className:"linkage-sns-link linkage-sns-tw"},g.createElement("span",null,"Twitterで新規登録"))),g.createElement("li",{className:"linkage-sns-item"},g.createElement("a",{href:m.Api.auth("fb").url,className:"linkage-sns-link linkage-sns-fb"},g.createElement("span",null,"Facebookで新規登録"))))),g.createElement("p",{className:"register-or"},"または"),g.createElement("div",{className:"register-mail setting-form"},g.createElement(y,{step:this.props.step,email:this.props.email,changeEmail:this.props.changeEmail}),g.createElement("p",{className:"note"},g.createElement("span",{className:"note-prefix"},"利用開始をもって"),g.createElement("a",{href:"/about/terms/",target:"_blank"},"利用規約"),"と",g.createElement("a",{href:"/about/privacy/",target:"_blank"},"個人情報の取扱"),"に",g.createElement("br",null),"同意したものとみなします。")),g.createElement("div",{className:"register-link-home"},g.createElement("a",{href:"/"},"トップページへ戻る")))},componentDidMount:function(){this.status.on(a.SignupStatus.SIGNUP_STEP,this.stepChange)},componentWillUnMount:function(){this.status.off(a.SignupStatus.SIGNUP_STEP,this.stepChange)},shouldComponentUpdate:function(e,t){return this.props.step===t.step},stepChange:function(e){this.updateStep(e.step)},updateStep:function(e){this.setState({step:e})}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelUserDetect=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(361),g=(n(97),n(362));t.ModelUserDetect=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return i.action=new g.UserDetect(e,i.done.bind(i),i.fail.bind(i)),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){if(null===this.data)throw new Error("form data set first.");this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_USER_DETECT:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,e)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(m.ModelBehavior)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelBehavior=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99);t.ModelBehavior=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,n));return i._data=e,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"data",get:function(){return this.action.data},set:function(e){this.action.data=e}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserDetect=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(363),p=n(38);t.UserDetect=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,p.Api.email(),e,n,i))}return(0,d["default"])(t,e),t}(f.ActionBehavior)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionBehavior=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(115),m=n(97),g=n(41);n(39),t.ActionBehavior=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3],a=arguments.length<=4||void 0===arguments[4]?m.Result:arguments[4];
(0,o["default"])(this,t);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,e,i,s,a));return l._data=n,l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.method:arguments[0];e=g.Safety.string(e,this.method),this.ajax.start(this.url,e,this.boundSuccess,this.boundFail,this.resultClass,null,this.data)}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}}]),t}(h.Action)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LegendStep2Node=void 0;var s=n(42),r=i(s),a=n(92),o=n(104),l=n(274),u=n(107),c=n(356),d=n(91),f=n(301),p=n(365),h=n(366),m=(n(97),n(275)),g=n(148),y=n(41),v=n(281),E=n(367),_=n(99),k=n(368),S=self.React,b=self.Sagen,T=S.createClass({displayName:"Step2FormNode",propTypes:{step:S.PropTypes.number.isRequired,avatar:S.PropTypes.string,getForm:S.PropTypes.func.isRequired,changeEmail:S.PropTypes.func.isRequired,email:S.PropTypes.string.isRequired,size:S.PropTypes.number,sp:S.PropTypes.bool.isRequired},getDefaultProps:function(){return{avatar:o.Empty.SETTING_AVATAR,size:120}},getInitialState:function(){return this.status=c.SignupStatus.factory(),this.thumbnail=null,this.model=null,this.errors={email:new g.ErrorMessage,password:new g.ErrorMessage,name:new g.ErrorMessage,profile_picture:new g.ErrorMessage},this.ie=b.Browser.IE.is(),this.callback=null,this.width=0,this.height=0,this.rotate=0,this.timer=0,{email:this.props.email,step:this.props.step,avatar:this.props.avatar,entered:!1,error:!1,password:"",name:"",bio:"",picture:"",size:this.props.sp?90:this.props.size,sns:!1}},render:function(){var e=this,t=this.state.entered?"entered":"",n=function(t){return e.errors[t].error?"error":""},i=function(t){return e.errors[t].message},s=function(){return e.props.avatar!==e.state.avatar?"show-thumbnail":""},r=this.state.avatar,a=function(){if(e.state.sns)return{background:"none"};var t={backgroundImage:"url("+r+")",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover"};if(0!==e.width&&0!==e.height){var n=e.state.size,i=e.width,s=e.height,a=void 0,o=void 0;i>s?(o=n,a=Math.ceil(o/s*i)):s>i?(a=n,o=Math.ceil(a/i*s)):(a=n,o=n),t.backgroundSize=a+"px "+o+"px"}return 0!==e.rotate&&(t.transform="rotate("+e.rotate+"deg)"),t};return S.createElement("fieldset",{className:"fieldset-step-2"},S.createElement("span",{className:"form-parts "+n("email")},S.createElement("span",{className:"setting-form-mail form-input"},S.createElement("input",{type:"email",value:this.state.email,onChange:this.emailChange,placeholder:u.Message.PLACEHOLDER_EMAIL,pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"})),S.createElement(v.ErrorNode,{message:i("email")})),S.createElement("span",{className:"form-parts "+n("password")},S.createElement("span",{className:"setting-form-pw form-input"},S.createElement("input",{type:"password",placeholder:u.Message.PLACEHOLDER_PWD,name:"password",value:this.state.password,onChange:this.passwordChange})),S.createElement(v.ErrorNode,{message:i("password")})),S.createElement("span",{className:"form-parts "+n("name")},S.createElement("span",{className:"setting-form-name form-input"},S.createElement("input",{type:"text",placeholder:u.Message.PLACEHOLDER_NAME,name:"name",value:this.state.name,onChange:this.nameChange})),S.createElement(v.ErrorNode,{message:i("name")})),S.createElement("span",{className:"form-parts"},S.createElement("span",{className:"setting-form-job form-input"},S.createElement("input",{type:"text",placeholder:u.Message.PLACEHOLDER_BIO,name:"bio",value:this.state.bio,onChange:this.bioChange}))),S.createElement("div",{className:"setting-form-avatar "+s()},S.createElement("h2",{className:"setting-form-avatar-heading"},u.Message.PLACEHOLDER_PICTURE),S.createElement("div",{className:"form-parts "+n("profile_picture")},S.createElement("div",{className:"setting-form-avatar-dropArea "+t,onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},S.createElement("div",{className:"avatar-stage"},S.createElement("sapn",{className:"avatar-container"},S.createElement("span",{className:"avatar-block",style:a()},S.createElement("img",{src:this.state.sns?this.state.avatar:o.Empty.THUMB_EMPTY,alt:""}))),S.createElement(E.ChangeAvatarNode,{show:this.props.avatar!==this.state.avatar,handler:this.avatarChangeHandler})),S.createElement("input",{type:"file",name:"profile_picture",accept:"image/*",value:this.state.picture,onChange:this.pictureChange,className:"setting-form-picture form-input"})),S.createElement(v.ErrorNode,{message:i("profile_picture")}))),S.createElement("div",{className:"form-parts"},S.createElement("span",{className:"setting-form-submit mod-btnA01"},S.createElement("input",{type:"button",value:u.Message.BUTTON_NEXT,onClick:this.nextHandler}))))},componentDidMount:function(){if(this.status.on(c.SignupStatus.SIGNUP_SUBMIT,this.submitHandler),null===this.callback){var e={};this.callback=e,e[_.Model.COMPLETE]=this.done,e[_.Model.UNDEFINED_ERROR]=this.fail,e[_.Model.RESPONSE_ERROR]=this.fail}this.status.on(c.SignupStatus.STEP1_EMAIL,this.onEmail1Change),this.status.on(c.SignupStatus.SIGNUP_OAUTH,this.onSns)},componentWillUnMount:function(){this.status.off(c.SignupStatus.SIGNUP_SUBMIT,this.submitHandler),this.dispose()},onSns:function(e){this.avatarClear(),this.setState({sns:!0,email:e.email,name:e.userName,avatar:e.profilePicture,bio:e.bio})},onEmail1Change:function(e){this.setState({email:e.email})},emailChange:function(e){this.setState({email:e.target.value}),this.status.email2(e.target.value)},passwordChange:function(e){this.setState({password:e.target.value})},nameChange:function(e){this.setState({name:e.target.value})},bioChange:function(e){this.setState({bio:e.target.value})},pictureChange:function(e){var t=e.target.value;if(this.errors.profile_picture.reset(),""!==t){if(!y.Safety.isImg(t))return this.errors.profile_picture.message=l.ErrorTxt.INVALID_IMAGE,void this.setState({picture:""});if(this.setState({picture:t}),h.Thumbnail.detect()&&""!==t){var n=e.target.files;if(null!==n&&"undefined"!=typeof n&&"undefined"!=typeof n.length&&n.length>0){this.thumbnail=null;var i=new h.Thumbnail(n[0]);this.thumbnail=i,i.on(h.Thumbnail.LOAD,this.avatarLoad),i.on(h.Thumbnail.ERROR,this.avatarError),i.make()}}}},avatarLoad:function(e){var t=this;this.avatarDispose(),this.avatarClear(),this.timer=setTimeout(function(){t.width=e.width,t.height=e.height,t.rotate=t.avatarRotate(e.orientation),t.setState({avatar:e.img,sns:!1})},50)},avatarClear:function(){clearTimeout(this.timer),this.width=0,this.height=0,this.rotate=0,this.setState({avatar:o.Empty.USER_EMPTY,sns:!1})},avatarRotate:function(e){if(0>e)return 0;switch(e){case p.Exif.CW:return 0;case p.Exif.CW_90:return-90;case p.Exif.CW_180:return-180;case p.Exif.CW_270:return-270;default:return 0}},avatarError:function(){this.avatarDispose()},avatarDispose:function(){var e=this.thumbnail;null!==e&&(e.off(h.Thumbnail.LOAD,this.avatarLoad),e.off(h.Thumbnail.ERROR,this.avatarError))},handleDragOver:function(e){e.preventDefault()},handleDragEnter:function(e){return this.ie?void e.preventDefault():void this.setState({entered:!0})},handleDragLeave:function(e){return this.ie?void e.preventDefault():void this.setState({entered:!1})},handleDrop:function(e){if(this.ie)return void e.preventDefault();var t=void 0;if(null!==e.dataTransfer&&"undefined"!=typeof e.dataTransfer?t=e.dataTransfer.files:null!==e.target&&"undefined"!==e.target&&(t=e.target.files),null!==t&&"undefined"!=typeof t&&"undefined"!=typeof t.length&&t.length>0){var n=t[0];n.type.match(/image.*/)?this.setState({entered:!1}):(e.preventDefault(),this.setState({entered:!1}))}else e.preventDefault(),this.setState({entered:!1})},submitHandler:function(e){var t=e.step;t===this.props.step&&this.prepareNext()},nextHandler:function(e){e.preventDefault(),this.prepareNext()},prepareNext:function(){this.reset();var e=0,t=this.errors,n=this.state.email;""===n?(t.email.message=l.ErrorTxt.EMAIL_EMPTY,++e):f.Validate.email(n)||(t.email.message=l.ErrorTxt.EMAIL_INVALID,++e);var i=this.state.password;""===i?(t.password.message=l.ErrorTxt.PASSWORD_EMPTY,++e):i.length<8?(t.password.message=l.ErrorTxt.PASSWORD_SHORT,++e):f.Validate.alphaNum(i)||(t.password.message=l.ErrorTxt.PASSWORD_INVALID,++e);var s=this.state.name;""===s&&(t.name.message=l.ErrorTxt.NAME_EMPTY,++e),0===e?this.request():this.error()},request:function(){var e=m.Form.element(this.props.getForm());e.append("create",!1);var t=this.model;null===t?(t=new k.ModelSignup(e,this.callback),this.model=t):t.data=e,t.start()},next:function(){d.Loc.hash=a.Url.signupHash(this.props.step+1)},avatarChangeHandler:function(){this.rotate=0,this.width=0,this.height=0,this.setState({picture:"",avatar:this.props.avatar,sns:!1})},error:function(){this.setState({error:!0})},done:function(e){200===e.status.code&&this.next()},fail:function(e){var t=void 0;try{t=e.result.response.errors}catch(n){return}if(Array.isArray(t)){var i=!0,s=!1,a=void 0;try{for(var o,l=(0,r["default"])(t);!(i=(o=l.next()).done);i=!0){var u=o.value;for(var c in u)u.hasOwnProperty(c)&&(this.errors[c].message=u[c])}}catch(d){s=!0,a=d}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw a}}}this.setState({error:!0})},reset:function(){this.errors.password.reset(),this.errors.name.reset(),this.errors.profile_picture.reset(),this.setState({error:!1})},dispose:function(){}});t.LegendStep2Node=S.createClass({displayName:"LegendStep2Node",propTypes:{step:S.PropTypes.number.isRequired,getForm:S.PropTypes.func.isRequired,changeEmail:S.PropTypes.func.isRequired,email:S.PropTypes.string.isRequired,sp:S.PropTypes.bool.isRequired},getInitialState:function(){return this.status=c.SignupStatus.factory(),{step:1,email:this.props.email,password:"",name:"",bio:"",picture:""}},render:function(){return S.createElement("div",{className:"fieldset-container fieldset-container-2"},S.createElement(T,{step:this.props.step,getForm:this.props.getForm,changeEmail:this.props.changeEmail,email:this.state.email,sp:this.props.sp}))},componentDidMount:function(){this.status.on(c.SignupStatus.SIGNUP_STEP,this.stepChange),this.status.on(c.SignupStatus.SIGNUP_EMAIL,this.emailChange)},componentWillUnMount:function(){this.status.off(c.SignupStatus.SIGNUP_STEP,this.stepChange),this.status.off(c.SignupStatus.SIGNUP_EMAIL,this.emailChange)},shouldComponentUpdate:function(e,t){return this.state.email!==t.email||this.props.step===t.step},inputChange:function(){},stepChange:function(e){this.updateStep(e.step)},updateStep:function(e){this.setState({step:e})},emailChange:function(e){this.updateEmail(e.email)},updateEmail:function(e){this.setState({email:e})}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Exif=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(7),m=i(h),g=n(81),y=(0,m["default"])(),v=null;t.Exif=function(e){function t(e){var n;if((0,o["default"])(this,t),y!==e)throw new Error("Exif is static Class. not use new Exif(). instead Exif.factory()");if(null===v){var i=(0,d["default"])(this,(0,r["default"])(t).call(this));v=i,i._reader=null,i._boundLoad=i.onLoad.bind(i),i._boundError=i.onError.bind(i)}return n=v,(0,d["default"])(i,n)}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"orientation",value:function(e){var t=new FileReader;this._reader=t,t.addEventListener("load",this._boundLoad,!1),t.addEventListener("error",this._boundError,!1);var n=void 0,i=65536;n="function"==typeof e.slice?e.slice(0,i):"function"==typeof e.webkitSlice?e.webkitSlice(0,i):"function"==typeof e.mozSlice?e.mozSlice(0,i):e,t.readAsArrayBuffer(n)}},{key:"onLoad",value:function(e){this.dispose();var n=t.parse(e.target.result);this.dispatch({type:t.EXIF_ORIENTATION,orientation:n})}},{key:"onError",value:function(){this.dispose(),this.dispatch({type:t.EXIF_ORIENTATION,orientation:-1})}},{key:"dispose",value:function(){this._reader.removeEventListener("load",this._boundLoad),this._reader.removeEventListener("error",this._boundError)}}],[{key:"parse",value:function(e){var t=new DataView(e);if(65496!==t.getUint16(0,!1))return-2;for(var n=t.byteLength,i=2;n>i;){var s=t.getUint16(i,!1);if(i+=2,65505===s){if(1165519206!==t.getUint32(i+=2,!1))return-1;var r=18761===t.getUint16(i+=6,!1);i+=t.getUint32(i+4,r);var a=t.getUint16(i,r);i+=2;for(var o=0;a>o;o++)if(274===t.getUint16(i+12*o,r))return t.getUint16(i+12*o+8,r)}else{if(65280!==(65280&s))break;i+=t.getUint16(i,!1)}}return-1}},{key:"factory",value:function(){return null===v&&(v=new t(y)),v}},{key:"EXIF_ORIENTATION",get:function(){return"exifOrientation"}},{key:"NOT_JPG",get:function(){return-2}},{key:"NOT_DEFINED",get:function(){return-1}},{key:"CW",get:function(){return 0}},{key:"CW_0",get:function(){return 0}},{key:"CW_90",get:function(){return 8}},{key:"CW_180",get:function(){return 3}},{key:"CW_270",get:function(){return 6}},{key:"UPSIDE_CW",get:function(){return 2}},{key:"UPSIDE_CW_0",get:function(){return 2}},{key:"UPSIDE_CW_90",get:function(){return 7}},{key:"UPSIDE_CW_180",get:function(){return 4}},{key:"UPSIDE_CW_270",get:function(){return 5}}]),t}(g.EventDispatcher)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Thumbnail=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(81),m=n(41),g=n(365);t.Thumbnail=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this));return s._file=e,s._load=n,s._error=i,s._reader=null,s._boundLoad=s.onLoad.bind(s),s._boundError=s.onError.bind(s),s._img=null,s._imgLoad=s.imageLoad.bind(s),s._imgError=s.imageError.bind(s),s._result="",s._exif=g.Exif.factory(),s._width=0,s._height=0,s._orientation=-1,s._count=0,s._event=null,s._exifLoad=s.exifLoad.bind(s),s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"make",value:function(){if(t.detect()){var e=this._file;if(e.type.match(/image.*/)){this._result="",this._count=0,this._width=0,this._height=0,this._orientation=-1,this._event=null;var n=new FileReader;this._reader=n,n.addEventListener("load",this._boundLoad,!1),n.addEventListener("error",this._boundError,!1),n.readAsDataURL(e);var i=this._exif;i.on(g.Exif.EXIF_ORIENTATION,this._exifLoad),i.orientation(e)}}}},{key:"dispose",value:function(){var e=this._reader;null!==e&&(e.removeEventListener("load",this._boundLoad),e.removeEventListener("error",this._boundError));var t=this._img;null!==t&&(this._img.removeEventListener("load",this._imgLoad),this._img.removeEventListener("error",this._imgError)),this._exif.off(g.Exif.EXIF_ORIENTATION,this._exifLoad)}},{key:"onLoad",value:function(e){var t=e.target.result;if(!m.Safety.isBase64(t))return void this.onError(e);this._result=t;var n=new Image;this._img=n,n.addEventListener("load",this._imgLoad,!1),n.addEventListener("error",this._imgError,!1),n.src=t}},{key:"onError",value:function(e){this.dispose(),this.dispatch({type:t.ERROR,img:null,nativeEvent:e,width:0,height:0,orientation:this._orientation})}},{key:"imageLoad",value:function(e){this._width=e.target.width,this._height=e.target.height,this._event=e,this.done()}},{key:"imageError",value:function(e){this.dispose(),this.dispatch({type:t.ERROR,img:null,nativeEvent:e,width:0,height:0,orientation:this._orientation})}},{key:"exifLoad",value:function(e){this._orientation=e.orientation,this.done()}},{key:"done",value:function(){++this._count,this._count<2||(this.dispose(),this.dispatch({type:t.LOAD,img:this._result,nativeEvent:this._event,width:this._width,height:this._height,orientation:this._orientation}))}}],[{key:"detect",value:function(){return window.File&&window.FileReader&&window.FileList&&window.Blob}},{key:"LOAD",get:function(){return"thumbnailLoad"}},{key:"ERROR",get:function(){return"thumbnailError"}}]),t}(h.EventDispatcher)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeAvatarNode=void 0;var i=n(107),s=self.React;t.ChangeAvatarNode=s.createClass({displayName:"ChangeAvatarNode",propTypes:{show:s.PropTypes.bool.isRequired,handler:s.PropTypes.func.isRequired},render:function(){return this.props.show?s.createElement("span",{className:"should-change-avatar"},s.createElement("a",{href:"#",onClick:this.clickHandler},i.Message.PLACEHOLDER_CHANGE_PICTURE)):null},clickHandler:function(e){e.preventDefault(),this.props.handler()}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelSignup=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(361),g=(n(97),n(369));t.ModelSignup=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return i.action=new g.Signup(e,i.done.bind(i),i.fail.bind(i)),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){if(null===this.data)throw new Error("form data set first.");this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[SIGNUP:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,e)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(m.ModelBehavior)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Signup=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(363),p=n(38);t.Signup=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,p.Api.join(),e,n,i))}return(0,d["default"])(t,e),t}(f.ActionBehavior)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LegendStep3Node=void 0;var i=n(67),s=n(107),r=n(99),a=n(368),o=(n(97),n(275)),l=n(120),u=n(98),c=n(91),d=n(356),f=n(291),p=self.React,h=p.createClass({displayName:"Step3FormNode",propTypes:{step:p.PropTypes.number.isRequired,categories:p.PropTypes.array.isRequired,getForm:p.PropTypes.func.isRequired,beforeRedirect:p.PropTypes.func.isRequired},getInitialState:function(){return this.status=d.SignupStatus.factory(),this.messageStatus=f.MessageStatus.factory(),this.model=null,this.callback=null,{categories:this.props.categories,step:this.props.step,error:!1}},render:function(){return p.createElement("fieldset",{className:"fieldset-step-3"},p.createElement("div",{className:"setting-form-interest"},p.createElement("ul",{className:"setting-form-interest-list"},this.state.categories.map(function(e,t){return p.createElement("li",{key:e.slug,className:"setting-form-interest-item interest-item-"+e.slug},p.createElement("input",{className:"interest-item interest-item-"+t,type:"checkbox",name:"interest[]",id:"interest-item-"+e.slug,defaultValue:e.id}),p.createElement("label",{htmlFor:"interest-item-"+e.slug,className:"setting-form-interest-title"},p.createElement("span",null,e.label)))}))),p.createElement("div",{className:"form-parts"},p.createElement("span",{className:"setting-form-submit mod-btnA01"},p.createElement("input",{type:"button",value:s.Message.BUTTON_RESISTER,onClick:this.nextHandler}))))},componentDidMount:function(){if(this.status.on(d.SignupStatus.SIGNUP_STEP,this.stepChange),this.status.on(d.SignupStatus.SIGNUP_SUBMIT,this.submitHandler),null===this.callback){var e={};this.callback=e,e[r.Model.COMPLETE]=this.done,e[r.Model.UNDEFINED_ERROR]=this.fail,e[r.Model.RESPONSE_ERROR]=this.fail}},componentWillUnMount:function(){this.status.off(d.SignupStatus.SIGNUP_STEP,this.stepChange),this.status.off(d.SignupStatus.SIGNUP_SUBMIT,this.submitHandler)},shouldComponentUpdate:function(e,t){return this.props.step===t.step},stepChange:function(e){this.updateStep(e.step)},updateStep:function(e){this.setState({step:e})},submitHandler:function(e){var t=e.step;t===this.props.step&&this.prepareNext()},nextHandler:function(e){e.preventDefault(),this.prepareNext()},prepareNext:function(){var e=o.Form.element(this.props.getForm());e.append("create",!0);var t=this.model;null===t?(t=new a.ModelSignup(e,this.callback),this.model=t):t.data=e,this.reset(),t.start()},next:function(e){i.User.login(e)&&(this.props.beforeRedirect(),c.Loc.index())},done:function(e){if(200===e.status.code){var t=new l.UserDae(e.response),n=new u.StatusDae(e.status);this.messageStatus.flush(f.MessageStatus.message(n.userMessage),f.MessageStatus.SUCCESS),this.next(t.accessToken)}},fail:function(){},reset:function(){},dispose:function(){}});t.LegendStep3Node=p.createClass({displayName:"LegendStep3Node",propTypes:{step:p.PropTypes.number.isRequired,categories:p.PropTypes.array.isRequired,getForm:p.PropTypes.func.isRequired,beforeRedirect:p.PropTypes.func.isRequired},getInitialState:function(){return this.status=d.SignupStatus.factory(),{step:1,email:""}},render:function(){return p.createElement("div",{className:"fieldset-container fieldset-container-3"},p.createElement(h,{step:this.props.step,categories:this.props.categories,getForm:this.props.getForm,beforeRedirect:this.props.beforeRedirect}))},componentDidMount:function(){},componentWillUnMount:function(){}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewDeactivate=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(99),g=n(372),y=n(374),v=n(67),E=n(107),_=n(91),k=n(291),S=self.React,b=self.ReactDOM;t.ViewDeactivate=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,e,i));return s._modalElement=n,s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render()}},{key:"render",value:function(){var e=this.modalElement,t=S.createClass({displayName:"DeactivateDom",propTypes:{},getInitialState:function(){return this.modal=null,this.callback=null,this.model=null,this.messageStatus=k.MessageStatus.factory(),{loading:""}},render:function(){return S.createElement("div",{className:"mod-btnB01 mt30"},S.createElement("div",{className:"loading-root "+this.state.loading},S.createElement("a",{href:"#",onClick:this.clickHandler},E.Message.BUTTON_DEACTIVATE_TEXT),S.createElement("div",{className:"loading-spinner"})))},componentDidMount:function(){var e=this.callback;null===e&&(e={},this.callback=e,e[m.Model.COMPLETE]=this.done,e[m.Model.UNDEFINED_ERROR]=this.fail,e[m.Model.RESPONSE_ERROR]=this.fail),null===this.model&&(this.model=new g.ModelSignOut(e))},clickHandler:function(t){t.preventDefault();var n=this.modal;null===n?(n=b.render(S.createElement(y.DeactivateNode,{ok:this.okHandler,cancel:this.cancelHandler,show:!0}),e),this.modal=n):(n.updateShow(!0),this.setState({loading:"loading"}))},okHandler:function(){this.model.start()},cancelHandler:function(){this.setState({loading:""})},done:function(e){200===e.code&&(v.User.logout(),this.messageStatus.flush(k.MessageStatus.message(E.Message.DEACTIVATE_COMPLETE),k.MessageStatus.SUCCESS),setTimeout(_.Loc.index,500))},fail:function(){this.setState({loading:""})}});b.render(S.createElement(t,null),this.element)}},{key:"modalElement",get:function(){return this._modalElement}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelSignOut=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=(n(97),n(373)),g=n(98);t.ModelSignOut=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.action=new m.SignOut(n.done.bind(n),n.fail.bind(n)),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=new g.StatusDae(e.status);if(200!==t.code){var n=new Error("[SIGN_OUT:UNDEFINED]サーバーレスポンスに問題が発生しました。"+t.code);this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,t)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SignOut=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(131),p=n(38),h=n(67);t.SignOut=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,h.User.token,p.Api.leave(),e,n))}return(0,d["default"])(t,e),t}(f.ActionAuth)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeactivateNode=void 0;var i=n(107),s=self.React,r=self.com.greensock,a=r.TweenLite,o=r.easing;t.DeactivateNode=s.createClass({displayName:"DeactivateNode",propTypes:{ok:s.PropTypes.func.isRequired,cancel:s.PropTypes.func.isRequired,show:s.PropTypes.bool},getDefaultProps:function(){return{show:!1,type:"deactivate"}},getInitialState:function(){return{show:this.props.show,css:{opacity:0}}},render:function(){return this.state.show?s.createElement("div",{className:"modal-dialogue modal-dialogue_delete",ref:"modalContainer",style:this.state.css},s.createElement("div",{className:"modal-bg",onClick:this.cancelClick}),s.createElement("div",{className:"modal-dialogue-contents "+this.props.type},s.createElement("a",{href:"#",className:"modal-dialogue-close",onClick:this.cancelClick},i.Message.BUTTON_CLOSE),s.createElement("p",{className:"lead"},i.Message.DEACTIVATE),s.createElement("ul",{className:"btn-block"},s.createElement("li",{className:"btn-item"},s.createElement("a",{href:"#",className:"btn-link btn-link_cancel",onClick:this.cancelClick},i.Message.BUTTON_CANCEL)),s.createElement("li",{className:"btn-item"},s.createElement("a",{href:"#",className:"btn-link btn-link_submit",onClick:this.deleteClick},i.Message.BUTTON_DEACTIVATE))))):null},componentDidMount:function(){this.state.show&&this.openModal()},componentWillUnMount:function(){},cancelClick:function(e){e.preventDefault(),this.props.cancel(),this.closeModal()},deleteClick:function(e){e.preventDefault(),this.props.ok(),this.closeModal(.5)},openModal:function(){var e={opacity:0},t=this;a.to(e,.5,{opacity:1,easing:o.Linear.easeNone,onUpdate:function(){t.setState({css:{opacity:e.opacity}})},onComplete:function(){t.setState({css:{opacity:1}})}})},closeModal:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t={opacity:1},n=this;a.to(t,.5,{delay:e,opacity:0,easing:o.Linear.easeNone,onUpdate:function(){n.setState({css:{opacity:t.opacity}})},onComplete:function(){n.setState({css:{opacity:0},show:!1})}})},updateShow:function(e){this.setState({show:e}),e&&this.openModal()}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewLogin=void 0;var s=n(42),r=i(s),a=n(70),o=i(a),l=n(2),u=i(l),c=n(3),d=i(c),f=n(75),p=i(f),h=n(76),m=i(h),g=n(100),y=n(67),v=n(274),E=n(107),_=(n(97),n(275)),k=n(148),S=n(281),b=n(376),T=n(120),P=n(98),R=n(99),N=n(378),M=n(353),w=n(91),C=n(291),D=self.React,O=self.ReactDOM;t.ViewLogin=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return(0,u["default"])(this,t),(0,p["default"])(this,(0,o["default"])(t).call(this,e,n))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"start",value:function(){this.render()}},{key:"render",value:function(){var e=D.createClass({displayName:"LoginDom",getInitialState:function(){return this.model=null,this.callback=null,this.errors={password:new k.ErrorMessage,email:new k.ErrorMessage,user:new k.ErrorMessage},this.messageStatus=C.MessageStatus.factory(),{error:!1,email:"",password:"",user:""}},render:function(){var e=this,t=function(t){return e.errors[t].error?"error":""},n=function(t){return e.errors[t].message};return D.createElement("form",{onSubmit:this.submitHandler,ref:"signup",encType:"application/x-www-form-urlencoded"},D.createElement("span",{className:"form-parts "+t("email")},D.createElement("span",{className:"setting-form-mail form-input"},D.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.emailChange,placeholder:E.Message.PLACEHOLDER_EMAIL})),D.createElement(S.ErrorNode,{message:n("email")})),D.createElement("span",{className:"form-parts "+t("password")},D.createElement("span",{className:"setting-form-pw form-input"},D.createElement("input",{type:"password",placeholder:E.Message.PLACEHOLDER_PWD,name:"password",value:this.state.password,onChange:this.passwordChange})),D.createElement(S.ErrorNode,{message:n("password")})),D.createElement("div",{className:"form-parts form-submit-parts "+t("user")},D.createElement("span",{className:"setting-form-submit mod-btnA01"},D.createElement("input",{type:"submit",value:E.Message.SUBMIT_LOGIN})),D.createElement(S.ErrorNode,{message:n("user")})))},componentDidMount:function(){if(null===this.callback){var e={};this.callback=e,e[R.Model.COMPLETE]=this.done,e[R.Model.UNDEFINED_ERROR]=this.fail,e[R.Model.RESPONSE_ERROR]=this.fail}},emailChange:function(e){this.setState({email:e.target.value})},passwordChange:function(e){this.setState({password:e.target.value})},submitHandler:function(e){e.preventDefault(),this.reset(),this.validate()},validate:function(){var e=this.state.email,t=this.state.password;""===e||""===t?this.errors.user.message=v.ErrorTxt.EMAIL_OR_PWD_EMPTY:this.request()},request:function(){var e=O.findDOMNode(this.refs.signup),t=_.Form.element(e),n=this.model;null===n?(n=new N.ModelLogin(t,this.callback),this.model=n):n.data=t,n.start()},next:function(e){y.User.login(e)&&(this.messageStatus.flush(C.MessageStatus.message(E.Message.LOGIN_COMPLETE),C.MessageStatus.SUCCESS),setTimeout(w.Loc.index,500))},done:function(e){if(200===e.status.code){var t=new T.UserDae(e.response);this.next(t.accessToken)}},fail:function(e){var t=new b.ErrorDae(e.result);if(t.errors.hasErrors()){var n=t.errors,i=n.list,s=!0,a=!1,o=void 0;try{for(var l,u=(0,r["default"])(i);!(s=(l=u.next()).done);s=!0){var c=l.value;this.errors[c].message=n.message(c)}}catch(d){a=!0,o=d}finally{try{!s&&u["return"]&&u["return"]()}finally{if(a)throw o}}}else this.errors.user.message=t.status.userMessage;this.setState({error:!0})},reset:function(){this.errors.email.reset(),this.errors.password.reset(),this.errors.user.reset(),this.setState({error:!1})}});O.render(D.createElement(e,null),this.element),this.social()}},{key:"social",value:function(){var e=w.Loc.parse();if(null!==e&&e.hasOwnProperty("oauth")){var t=e.oauth;-1===t.indexOf("facebook")&&"facebook"!==t&&"facebook#"!==t&&"twitter"!==t||this.socialRequest()}}},{key:"socialRequest",value:function(){var e={};e[R.Model.COMPLETE]=this.socialDone.bind(this);var t=new M.ModelSocial(e);t.start()}},{key:"socialDone",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[SOCIAL:USER_PROFILE:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(g.View.UNDEFINED_ERROR,n)}else{var i=new P.StatusDae(e.status);200===i.code&&this.success(new T.UserDae(t))}}},{key:"success",value:function(e){var t=e.accessToken;if(y.User.login(t)){
var n=this.messageStatus;n||(n=C.MessageStatus.factory()),n.flush(C.MessageStatus.message(E.Message.LOGIN_COMPLETE),C.MessageStatus.SUCCESS),setTimeout(w.Loc.index,500)}}}]),t}(g.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=(n(97),n(98)),c=n(377);t.ErrorDae=function(){function e(t){(0,r["default"])(this,e),this._result=t,this._status=new u.StatusDae(t.status);var n=l.Safety.object(t.response);this._errors=new c.ErrorsDae(n.errors)}return(0,o["default"])(e,[{key:"result",get:function(){return this._result}},{key:"status",get:function(){return this._status}},{key:"errors",get:function(){return this._errors}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorsDae=void 0;var s=n(42),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(41),d=n(276);t.ErrorsDae=function(){function e(t){(0,o["default"])(this,e),this._errors=t,this._bank={},this._list=[],null!==t&&"undefined"!=typeof t&&(Array.isArray(t)?this.initList(t):this.initHash(t))}return(0,u["default"])(e,[{key:"initList",value:function(e){var t=this._bank,n=this._list,i=!0,s=!1,a=void 0;try{for(var o,l=(0,r["default"])(e);!(i=(o=l.next()).done);i=!0){var u=o.value;for(var c in u)u.hasOwnProperty(c)&&(t[c]=new d.Data(c,u[c]),n.push(c))}}catch(f){s=!0,a=f}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw a}}}},{key:"initHash",value:function(e){var t=this._bank,n=this._list;e=c.Safety.object(e);for(var i in e)e.hasOwnProperty(i)&&(t[i]=new d.Data(i,e[i]),n.push(i))}},{key:"message",value:function(e){var t=this.bank[e];return"undefined"!=typeof t?t.value:""}},{key:"total",value:function(){return this.list.length}},{key:"hasErrors",value:function(){return this.total>0}},{key:"errors",get:function(){return this._errors}},{key:"list",get:function(){return this._list}},{key:"bank",get:function(){return this._bank}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelLogin=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(361),g=(n(97),n(379));t.ModelLogin=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return i.action=new g.Login(e,i.done.bind(i),i.fail.bind(i)),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[LOGIN:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,e)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(m.ModelBehavior)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Login=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(363),p=n(97),h=n(38);t.Login=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?p.Result:arguments[3];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,h.Api.login(),e,n,i,s))}return(0,d["default"])(t,e),t}(f.ActionBehavior)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewLogout=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(67),g=n(107),y=n(91),v=self.React,E=self.ReactDOM;t.ViewLogout=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e,n))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render()}},{key:"render",value:function(){var e=v.createClass({displayName:"LogoutDom",getInitialState:function(){return{loading:""}},render:function(){return v.createElement("div",{className:"mod-btnB01 mt30 btn-withdraw"},v.createElement("div",{className:"loading-root "+this.state.loading},v.createElement("a",{href:"#",onClick:this.clickHandler},g.Message.SUBMIT_LOGOUT),v.createElement("div",{className:"loading-spinner"})))},clickHandler:function(e){e.preventDefault(),this.setState({loading:"loading"}),m.User.logout(),y.Loc.index()}});E.render(v.createElement(e,null),this.element)}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewUserProfile=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(283),g=n(139),y=n(104),v=n(92),E=n(107),_=(n(97),n(41)),k=n(120),S=self.React,b=self.ReactDOM;t.ViewUserProfile=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return i.action=new g.UsersSelf(i.done.bind(i),i.fail.bind(i)),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error(E.Message.undef("[USER_PROFILE:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n)}else this.render(t)}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e)}},{key:"showError",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];e=_.Safety.string(e,"");var t=new m.ViewError(this.element,this.option,e);t.render()}},{key:"render",value:function(e){var t=new k.UserDae(e),n=this,i=S.createClass({displayName:"UserProfileDom",propTypes:{dae:S.PropTypes.object.isRequired},render:function(){var e=this.props.dae,t=e.interest.category,n=_.Safety.image(e.profilePicture,y.Empty.USER_EMPTY),i=_.Safety.same(n,y.Empty.USER_EMPTY);return S.createElement("div",{className:"user-profile"},S.createElement("figure",{className:"user-profile-avatar "+i},S.createElement("img",{src:n,alt:e.userName})),S.createElement("div",{className:"user-profile-data"},S.createElement("p",{className:"user-profile-name"},e.userName),S.createElement("p",{className:"user-profile-job"},e.bio),S.createElement("dl",{className:"user-profile-favorite"},S.createElement("dt",{className:"user-profile-favorite-heading"},E.Message.FAVORITE_SPORTS),S.createElement("dd",{className:"user-profile-favorite-list"},t.map(function(e,t){return S.createElement("span",{key:"favorite-"+t,className:"user-profile-favorite-item"},S.createElement("a",{href:v.Url.category(e.slug)},e.label))})))))},componentDidMount:function(){n.executeSafely(h.View.DID_MOUNT)}});b.render(S.createElement(i,{dae:t}),this.element)}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewBookmarks=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(283),g=n(383),y=n(104),v=n(107),E=(n(97),n(41)),_=n(154),k=n(384),S=n(385),b=n(178),T=self.React,P=self.ReactDOM;t.ViewBookmarks=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,e,i));return s.action=new g.Bookmarks(s.done.bind(s),s.fail.bind(s)),s._moreElement=n,s._articles=[],s._articleRendered=null,s._moreRendered=null,s._request=null,s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.next()}},{key:"done",value:function(e){var t=e.articles;if("undefined"==typeof t){var n=new Error(v.Message.undef("[BOOKMARKS:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n)}else if(0===t.length){var i=new Error(v.Message.empty("[BOOKMARKS:EMPTY]"));this.executeSafely(h.View.EMPTY_ERROR,i)}else this._request=e.request,this.render(t)}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e)}},{key:"showError",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];e=E.Safety.string(e,"");var t=new m.ViewError(this.element,this.option,e);t.render()}},{key:"render",value:function(e){var t=this,n=this._articles,i=this._articles.length,s=this.element,r=this.moreElement,a=function(e,n){e=!!e,null===t._moreRendered?t.moreRendered=P.render(T.createElement(S.MoreViewNode,{show:e,action:n}),r):t._moreRendered.updateShow(e)},o=T.createClass({displayName:"BookmarksDom",propType:{list:T.PropTypes.array.isRequired,offset:T.PropTypes.number.isRequired,length:T.PropTypes.number.isRequired,action:T.PropTypes.object.isRequired},getInitialState:function(){return{list:this.props.list,offset:this.props.offset,length:this.props.length}},render:function(){return T.createElement("div",{className:"bookmarks"},T.createElement("ul",{className:"board-small"},this.state.list.map(function(e,t){var n=E.Safety.image(e.media.images.thumbnail,y.Empty.IMG_SMALL);return T.createElement("li",{key:"bookmarks-"+e.id,className:"board-stacks board-item"},T.createElement(k.BookmarkButtonNode,{articleId:e.id,bookmarked:e.isBookmarked}),T.createElement("a",{href:e.url,className:"post"},T.createElement("figure",{className:"post-thumb"},T.createElement("img",{src:n,alt:e.title})),T.createElement("div",{className:"post-data"},T.createElement("p",{className:"post-category"},T.createElement(b.CategoryLabelNode,{categories:e.categories.all,id:"bookmarks-label-"+e.id,index:t})),T.createElement("h2",{className:"post-heading"},e.title),T.createElement("p",{className:"post-date"},e.displayDate))))})))},componentDidMount:function(){a(this.props.action.hasNext(),this.props.action)},componentWillUnMount:function(){},updateList:function(e,t,n){this.setState({list:e,offset:t,length:n}),a(this.props.action.hasNext(),this.props.action)}});e.forEach(function(e,t){var s=new _.ArticleDae(e);s.index=i+t,n.push(s)}),this.executeSafely(h.View.BEFORE_RENDER,n),null===this._articleRendered?this._articleRendered=P.render(T.createElement(o,{list:n,offset:this._request.offset,length:this._request.length,action:this.action}),s):this._articleRendered.updateList(n,this._request.offset,this._request.length)}},{key:"moreElement",get:function(){return this._moreElement}},{key:"articles",get:function(){return this._articles}},{key:"articleRendered",get:function(){return this._articleRendered},set:function(e){this._articleRendered=e}},{key:"request",get:function(){return this._request},set:function(e){this._request=e}},{key:"moreRendered",get:function(){return this._moreRendered},set:function(e){this._moreRendered=e}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Bookmarks=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(109),p=n(38),h=n(67),m=n(106);t.Bookmarks=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],s=arguments.length<=3||void 0===arguments[3]?m.Length.list:arguments[3];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,h.User.token,p.Api.users("self:bookmark"),e,n,i,s))}return(0,d["default"])(t,e),t}(f.OffsetAuth)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BookmarkButtonNode=void 0;var i=n(107),s=n(99),r=n(221),a=self.React;t.BookmarkButtonNode=a.createClass({displayName:"BookmarkButtonNode",propType:{articleId:a.PropTypes.string.isRequired,bookmarked:a.PropTypes.bool.isRequired},getInitialState:function(){return this.model=null,{articleId:this.props.articleId,bookmarked:this.props.bookmarked,loading:""}},render:function(){var e=function(e){return e?"bookmarked enable":""},t=function(e){return e?i.Message.BOOKMARK_DID:i.Message.BOOKMARK_WILL};return a.createElement("div",{className:"btn-bookmark "+this.state.loading},a.createElement("a",{href:"#",className:e(this.state.bookmarked),onClick:this.clickHandler},a.createElement("span",null,t(this.state.bookmarked))),a.createElement("div",{className:"loading-spinner"}))},componentDidMount:function(){if(null===this.model){var e=new r.ModelBookmark(this.state.articleId);this.model=e,e.on(s.Model.COMPLETE,this.done),e.on(s.Model.UNDEFINED_ERROR,this.fail),e.on(s.Model.RESPONSE_ERROR,this.fail)}},componentWillUnMount:function(){this.dispose()},clickHandler:function(e){e.preventDefault(),this.setState({loading:"loading"}),this.model.start(!this.state.bookmarked)},dispose:function(){var e=this.model;null!==e&&(e.off(s.Model.COMPLETE,this.done),e.off(s.Model.UNDEFINED_ERROR,this.fail),e.off(s.Model.RESPONSE_ERROR,this.fail),this.model=null)},done:function(){this.setState({loading:"",bookmarked:!this.state.bookmarked})},fail:function(){this.setState({loading:""})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MoreViewNode=void 0;var i=n(107),s=self.React;t.MoreViewNode=s.createClass({displayName:"MoreViewNode",propTypes:{show:s.PropTypes.bool.isRequired,action:s.PropTypes.object.isRequired,loading:s.PropTypes.string},getDefaultProps:function(){return{loading:""}},getInitialState:function(){return this.rise=null,{disable:!1,show:this.props.show,loading:this.props.loading}},render:function(){return this.state.show?s.createElement("div",{id:"more",className:"board-btn-viewmore loading-root "+this.state.loading},s.createElement("a",{className:"board-btn-viewmore-link",href:"#more",onClick:this.handleClick},s.createElement("span",null,i.Message.BUTTON_VIEW_MORE)),s.createElement("div",{className:"loading-spinner"})):s.createElement("div",{className:"no-more"})},componentDidMount:function(){},componentWillUnmount:function(){this.destroy()},destroy:function(){},handleClick:function(e){e.preventDefault(),this.setState({loading:" loading"}),this.props.action.next()},updateShow:function(e){this.setState({show:e,loading:""})}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewActivities=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(283),g=n(387),y=n(107),v=(n(97),n(41)),E=n(388),_=self.React,k=self.ReactDOM;t.ViewActivities=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,e,i));return s.action=new g.Activities(s.done.bind(s),s.fail.bind(s)),s._moreElement=n,s._articles=[],s._articleRendered=null,s._moreRendered=null,s._request=null,s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.next()}},{key:"done",value:function(e){var t=e.response.activities;if("undefined"==typeof t){var n=new Error(y.Message.undef("[ACTIVITIES:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n)}else if(0===t.length){var i=new Error(y.Message.empty("[ACTIVITIES:EMPTY]"));this.executeSafely(h.View.EMPTY_ERROR,i)}else{this._request=e.request;var s=new E.ActivitiesDae(e.response);this.render(s.activities)}}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e)}},{key:"showError",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];e=v.Safety.string(e,"");var t=new m.ViewError(this.element,this.option,e);t.render()}},{key:"render",value:function(e){var t=this._articles,n=this._articles.length,i=this.element,s=this.moreElement,r=this,a=_.createClass({displayName:"MoreViewDom",propTypes:{show:_.PropTypes.bool.isRequired,action:_.PropTypes.object.isRequired,loading:_.PropTypes.string},getDefaultProps:function(){return{loading:""}},getInitialState:function(){return this.rise=null,{disable:!1,show:this.props.show,loading:this.props.loading}},render:function(){return this.state.show?_.createElement("div",{id:"more",className:"board-btn-viewmore loading-root "+this.state.loading},_.createElement("a",{className:"board-btn-viewmore-link",href:"#more",onClick:this.handleClick},_.createElement("span",null,y.Message.BUTTON_VIEW_MORE)),_.createElement("div",{className:"loading-spinner"})):_.createElement("div",{className:"no-more"})},componentWillUnmount:function(){this.destroy()},destroy:function(){},handleClick:function(e){e.preventDefault(),this.setState({loading:" loading"}),this.props.action.next()},updateShow:function(e){this.setState({show:e,loading:""})}}),o=function(e,t){e=!!e,null===r._moreRendered?r._moreRendered=k.render(_.createElement(a,{show:e,action:t}),s):r._moreRendered.updateShow(e)},l=_.createClass({displayName:"MessageDom",propType:{dae:_.PropTypes.object.isRequired},render:function(){var e=this.props.dae,t=e.article,n=e.action,i=function(e,t){return t.id===e.id?_.createElement("strong",null,"自分"):_.createElement("span",null,_.createElement("strong",null,e.userName),"さん")};switch(n){case"comment":return _.createElement("a",{href:t.comments.url,className:"activity-link"},_.createElement("div",{className:"activity-content"},"「",t.title,"」へ",_.createElement("strong",null,"コメント"),"しました。"),_.createElement("p",{className:"act-date"},e.displayDate));case"reply":return _.createElement("a",{href:t.reply.url,className:"activity-link"},_.createElement("div",{className:"activity-content"},"「",t.title,"」の",i(t.comments.user,e.user),"のコメントに",_.createElement("strong",null,"返信"),"しました。"),_.createElement("p",{className:"act-date"},e.displayDate));case"good":return _.createElement("a",{href:t.comments.url,className:"activity-link"},_.createElement("div",{className:"activity-content"},"「",t.title,"」の",i(t.comments.user,e.user),"のコメントに",_.createElement("strong",null,"GOOD"),"しました。"),_.createElement("p",{className:"act-date"},e.displayDate));case"bad":return _.createElement("a",{href:t.comments.url,className:"activity-link"},_.createElement("div",{className:"activity-content"},"「",t.title,"」の",i(t.comments.user,e.user),"のコメントに",_.createElement("strong",null,"BAD"),"しました。"),_.createElement("p",{className:"act-date"},e.displayDate));case"bookmark":return _.createElement("a",{href:t.url,className:"activity-link"},_.createElement("div",{className:"activity-content"},"「",t.title,"」を",_.createElement("strong",null,"ブックマーク"),"しました。"),_.createElement("p",{className:"act-date"},e.displayDate));default:return null}}}),u=_.createClass({displayName:"ActivitiesDom",propType:{list:_.PropTypes.array.isRequired,offset:_.PropTypes.number.isRequired,length:_.PropTypes.number.isRequired,action:_.PropTypes.object.isRequired},getInitialState:function(){return{list:this.props.list,offset:this.props.offset,length:this.props.length}},render:function(){return _.createElement("div",{className:"activity"},_.createElement("ul",{className:"activity-list"},this.state.list.map(function(e){return _.createElement("li",{key:"activity-"+e.id,className:"board-stacks activity-item activity-item-"+e.id},_.createElement(l,{dae:e}))})))},componentDidMount:function(){o(this.props.action.hasNext(),this.props.action)},componentWillUnMount:function(){},updateList:function(e,t,n){this.setState({list:e,offset:t,length:n}),o(this.props.action.hasNext(),this.props.action)}});e.forEach(function(e,i){e.index=n+i,t.push(e)}),this.executeSafely(h.View.BEFORE_RENDER,t),null===this._articleRendered?this._articleRendered=k.render(_.createElement(u,{list:t,offset:this._request.offset,length:this._request.length,action:this.action}),i):this._articleRendered.updateList(t,this._request.offset,this._request.length)}},{key:"moreElement",get:function(){return this._moreElement}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Activities=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(109),p=n(38),h=n(67),m=n(106);t.Activities=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],s=arguments.length<=3||void 0===arguments[3]?m.Length.list:arguments[3];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,h.User.token,p.Api.users("activities"),e,n,i,s))}return(0,d["default"])(t,e),t}(f.OffsetAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActivitiesDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(389);t.ActivitiesDae=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,r["default"])(this,e),t=l.Safety.object(t);var n=t.activities;n=l.Safety.array(n);var i=n.map(function(e){return new u.ActivityDae(e)});this._response=t,this._activities=i}return(0,o["default"])(e,[{key:"response",get:function(){return this._response}},{key:"activities",get:function(){return this._activities}},{key:"total",get:function(){return this.response.count}},{key:"count",get:function(){return this.total}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityDae=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(41),u=n(119),c=n(120),d=n(126);t.ActivityDae=function(){function e(t){(0,r["default"])(this,e),t=l.Safety.object(t),l.Safety.check(t,"date")&&(this._formatDate=u.Format.date(t.date)),this._activity=t,this._user=new c.UserDae(t.user),this._article=new d.NoticeArticleDae(t.article)}return(0,o["default"])(e,[{key:"activity",get:function(){return this._activity}},{key:"id",get:function(){return this.activity.id}},{key:"date",get:function(){return this.activity.date}},{key:"formatDate",get:function(){return this._formatDate}},{key:"displayDate",get:function(){return this.activity.display_date}},{key:"action",get:function(){return this.activity.action}},{key:"user",get:function(){return this._user}},{key:"article",get:function(){return this._article}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewNotifications=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(108),g=n(104),y=n(105),v=n(107),E=n(117),_=(n(118),n(41)),k=(n(97),n(132)),S=n(391),b=self.React,T=self.ReactDOM;t.ViewNotifications=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,e,i));return s.action=new m.Notice(s.done.bind(s),s.fail.bind(s)),s._moreElement=n,s._articles=[],s._articleRendered=null,s._moreRendered=null,s._request=null,s._status=null,s._boundNotice=s.onNoticeUpdate.bind(s),s._clear=new S.ModelNoticeRead,s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.next()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error(v.Message.undef("[NOTIFICATIONS:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n)}else{var i=new E.NotificationsDae(t);if(0===i.notifications.length){var s=new Error(v.Message.empty("[NOTIFICATIONS:EMPTY]"));this.executeSafely(h.View.EMPTY_ERROR,s)}else this._request=e.request,this.render(i.notifications)}}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e)}},{key:"render",value:function(e){var t=this._articles,n=this._articles.length,i=this.element,s=this.moreElement,r=this,a=b.createClass({displayName:"MoreViewDom",propTypes:{show:b.PropTypes.bool.isRequired,action:b.PropTypes.object.isRequired,loading:b.PropTypes.string},getDefaultProps:function(){return{loading:""}},getInitialState:function(){return{disable:!1,show:this.props.show,loading:this.props.loading}},render:function(){return this.state.show?b.createElement("div",{id:"more",className:"board-btn-viewmore loading-root "+this.state.loading},b.createElement("a",{className:"board-btn-viewmore-link",href:"#more",onClick:this.handleClick},b.createElement("span",null,v.Message.BUTTON_VIEW_MORE)),b.createElement("div",{className:"loading-spinner"})):b.createElement("div",{className:"no-more"})},handleClick:function(e){e.preventDefault(),this.setState({loading:" loading"}),this.props.action.next()},updateShow:function(e){this.setState({show:e,loading:""})}}),o=function(e,t){e=!!e,null===r._moreRendered?r._moreRendered=T.render(b.createElement(a,{show:e,action:t}),s):r._moreRendered.updateShow(e)},l=b.createClass({displayName:"MessageDom",propType:{dae:b.PropTypes.object.isRequired},render:function(){var e=this.props.dae,t=_.Safety.image(e.user.profilePicture,g.Empty.USER_EMPTY),n=_.Safety.same(t,g.Empty.USER_EMPTY);switch(e.action){case"comment":case"reply":return b.createElement("a",{href:e.article.reply.url,className:"info-link"},b.createElement("figure",{className:"info-user-thumb "+n},b.createElement("img",{src:g.Empty.refresh(t),alt:""})),b.createElement("div",{className:"info-content"},e.user.userName,"さんがあなたの「",e.article.title,"」へのコメントに",b.createElement("strong",null,y.NoticeAction.message(e.action)),"しました。"),b.createElement("p",{className:"act-date"},e.displayDate));case"bad":case"good":return b.createElement("a",{href:e.article.comments.url,className:"info-link"},b.createElement("figure",{className:"info-user-thumb "+n},b.createElement("img",{src:t,alt:""})),b.createElement("div",{className:"info-content"},e.user.userName,"さんがあなたの「",e.article.title,"」へのコメントに",b.createElement("strong",null,y.NoticeAction.message(e.action)),"しました。"),b.createElement("p",{className:"act-date"},e.displayDate));case"notice":return b.createElement("a",{href:e.url,className:"info-link"},b.createElement("div",{className:"activity-content"},e.body),b.createElement("p",{className:"act-date"},e.displayDate));default:return null}}}),u=b.createClass({displayName:"NotificationsDom",propType:{list:b.PropTypes.array.isRequired,offset:b.PropTypes.number.isRequired,length:b.PropTypes.number.isRequired,action:b.PropTypes.object.isRequired},getInitialState:function(){return{list:this.props.list,offset:this.props.offset,length:this.props.length}},render:function(){return b.createElement("div",{className:"info"},b.createElement("ul",{className:"info-list"},this.state.list.map(function(e){return b.createElement("li",{key:"info-"+e.id,className:"info-item info-item-"+e.id},b.createElement(l,{dae:e}))})))},componentDidMount:function(){r.onMount(),o(this.props.action.hasNext(),this.props.action)},updateList:function(e,t,n){this.setState({list:e,offset:t,length:n}),o(this.props.action.hasNext(),this.props.action)}});e.forEach(function(e,i){e.index=n+i,t.push(e)}),this.executeSafely(h.View.BEFORE_RENDER,t),null===this._articleRendered?this._articleRendered=T.render(b.createElement(u,{list:t,offset:this._request.offset,length:this._request.length,action:this.action}),i):this._articleRendered.updateList(t,this._request.offset,this._request.length),this.clear()}},{key:"dispose",value:function(){this.status.off(k.NoticeStatus.UPDATE_COUNT,this._boundNotice)}},{key:"onMount",value:function(){var e=k.NoticeStatus.factory();this._status=e,e.on(k.NoticeStatus.UPDATE_COUNT,this._boundNotice)}},{key:"onNoticeUpdate",value:function(e){0!==e.count&&this.reload()}},{key:"reload",value:function(){this._articles=[],this._action.reload()}},{key:"clear",value:function(){this._clear.start()}},{key:"moreElement",get:function(){return this._moreElement}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelNoticeRead=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=(n(97),n(392)),g=n(98);t.ModelNoticeRead=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.action=new m.NoticeRead(n.done.bind(n),n.fail.bind(n)),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=new g.StatusDae(e.status);if(200!==t.code){var n=new Error("[MODEL_NOTICE_READ:UNDEFINED]サーバーレスポンスに問題が発生しました。"+t.code);this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,e)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.NoticeRead=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(131),p=n(38),h=n(67);t.NoticeRead=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,h.User.token,p.Api.notice("read"),e,n))}return(0,d["default"])(t,e),t}(f.ActionAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewSettingsIndex=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(99),g=n(394),y=(n(120),n(396)),v=n(144),E=self.Sagen,_=self.ReactDOM;t.ViewSettingsIndex=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n)),s={};i._callbacks=s,s[m.Model.COMPLETE]=i.complete.bind(i),i.action=new g.ModelAccount(s);var a=v.SettingsStatus.factory();return a.on(v.SettingsStatus.ACCOUNT_COMPLETE,i.reload.bind(i)),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"complete",value:function(e){this.render(e)}},{key:"render",value:function(e){_.render(React.createElement(y.SettingsIndexNode,{email:e.email,name:e.userName,bio:e.bio,picture:e.profilePicture,sp:E.Browser.Mobile.phone()}),this.element)}},{key:"reload",value:function(){this.start()}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelAccount=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(395),g=n(120);n(97),t.ModelAccount=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.action=new m.SettingsAccount(n.done.bind(n),n.fail.bind(n)),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_ACCOUNT:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,new g.UserDae(t))}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsAccount=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(131),p=n(67),h=n(38);t.SettingsAccount=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(0,o["default"])(this,t),
(0,u["default"])(this,(0,r["default"])(t).call(this,p.User.token,h.Api.settings("account"),e,n))}return(0,d["default"])(t,e),t}(f.ActionAuth)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsIndexNode=void 0;var s=n(42),r=i(s),a=n(104),o=n(274),l=n(107),u=n(301),c=n(365),d=n(366),f=(n(97),n(275)),p=n(148),h=n(41),m=n(98),g=n(281),y=n(367),v=n(144),E=n(291),_=n(99),k=n(397),S=self.React,b=self.ReactDOM,T=self.Sagen,P=S.createClass({displayName:"SettingInputNode",propTypes:{empty:S.PropTypes.string,avatar:S.PropTypes.string,email:S.PropTypes.string.isRequired,password:S.PropTypes.string.isRequired,name:S.PropTypes.string.isRequired,bio:S.PropTypes.string.isRequired,size:S.PropTypes.number,sp:S.PropTypes.bool.isRequired},getDefaultProps:function(){return{avatar:a.Empty.SETTING_AVATAR,empty:a.Empty.SETTING_AVATAR,size:120}},getInitialState:function(){return this.status=v.SettingsStatus.factory(),this.messageStatus=E.MessageStatus.factory(),this.thumbnail=null,this.model=null,this.errors={email:new p.ErrorMessage,password:new p.ErrorMessage,name:new p.ErrorMessage,profile_picture:new p.ErrorMessage},this.ie=T.Browser.IE.is(),this.callback=null,this.icon=null,this.width=0,this.height=0,this.rotate=0,this.timer=0,{entered:!1,error:!1,email:this.props.email,password:this.props.password,name:this.props.name,bio:this.props.bio,picture:"",avatar:this.props.avatar,size:this.props.sp?90:this.props.size,loading:""}},render:function(){var e=this,t=this.state.entered?"entered":"",n=function(t){return e.errors[t].error?"error":""},i=function(t){return e.errors[t].message},s=function(){return""},r=h.Safety.image(this.state.avatar,a.Empty.SETTING_AVATAR),o=h.Safety.same(r,a.Empty.SETTING_AVATAR);h.Safety.isBase64(r)||(r=a.Empty.refresh(r));var u={backgroundImage:"url("+r+")",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"cover"};if(0!==this.width&&0!==this.height){var c=this.state.size,d=this.width,f=this.height,p=void 0,m=void 0;d>f?(m=c,p=Math.ceil(m/f*d)):f>d?(p=c,m=Math.ceil(p/d*f)):(p=c,m=c),u.backgroundSize=p+"px "+m+"px"}return 0!==this.rotate&&(u.transform="rotate("+this.rotate+"deg)"),S.createElement("form",{ref:"settings",className:"loading-root "+this.state.loading,encType:"multipart/form-data",onSubmit:this.submitHandler},S.createElement("fieldset",{className:"fieldset-step-2"},S.createElement("span",{className:"form-parts "+n("email")},S.createElement("span",{className:"setting-form-mail form-input"},S.createElement("input",{type:"text",name:"email",value:this.state.email,onChange:this.emailChange,placeholder:l.Message.PLACEHOLDER_EMAIL})),S.createElement(g.ErrorNode,{message:i("email")})),S.createElement("span",{className:"form-parts "+n("password")},S.createElement("span",{className:"setting-form-pw form-input"},S.createElement("input",{type:"password",placeholder:l.Message.PLACEHOLDER_PWD,name:"password",value:this.state.password,onChange:this.passwordChange})),S.createElement(g.ErrorNode,{message:i("password")})),S.createElement("span",{className:"form-parts "+n("name")},S.createElement("span",{className:"setting-form-name form-input"},S.createElement("input",{type:"text",placeholder:l.Message.PLACEHOLDER_NAME,name:"name",value:this.state.name,onChange:this.nameChange})),S.createElement(g.ErrorNode,{message:i("name")})),S.createElement("span",{className:"form-parts"},S.createElement("span",{className:"setting-form-job form-input"},S.createElement("input",{type:"text",placeholder:l.Message.PLACEHOLDER_BIO,name:"bio",value:this.state.bio,onChange:this.bioChange}))),S.createElement("div",{className:"setting-form-avatar "+s()},S.createElement("h2",{className:"setting-form-avatar-heading"},l.Message.PLACEHOLDER_PICTURE),S.createElement("div",{className:"form-parts "+n("profile_picture")},S.createElement("div",{className:"setting-form-avatar-dropArea "+t,onDragOver:this.handleDragOver,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},S.createElement("div",{className:"avatar-stage"},S.createElement("sapn",{className:"avatar-container "+o},S.createElement("span",{className:"avatar-block",style:u},S.createElement("img",{src:a.Empty.THUMB_EMPTY,alt:""}))),S.createElement(y.ChangeAvatarNode,{show:this.props.avatar!==this.state.avatar,handler:this.avatarChangeHandler})),S.createElement("input",{type:"file",name:"profile_picture",accept:"image/*",value:this.state.picture,onChange:this.pictureChange,className:"setting-form-picture form-input"})),S.createElement(g.ErrorNode,{message:i("profile_picture")})))),S.createElement("div",{className:"form-parts"},S.createElement("span",{className:"setting-form-submit mod-btnB01"},S.createElement("input",{type:"submit",value:l.Message.BUTTON_SAVE}))),S.createElement("div",{className:"loading-spinner"}))},componentDidMount:function(){if(null===this.callback){var e={};this.callback=e,e[_.Model.COMPLETE]=this.done,e[_.Model.UNDEFINED_ERROR]=this.fail,e[_.Model.RESPONSE_ERROR]=this.fail}},componentWillUnMount:function(){this.dispose()},emailChange:function(e){this.setState({email:e.target.value})},passwordChange:function(e){this.setState({password:e.target.value})},nameChange:function(e){this.setState({name:e.target.value})},bioChange:function(e){this.setState({bio:e.target.value})},pictureChange:function(e){var t=e.target.value;if(this.errors.profile_picture.reset(),""!==t){if(!h.Safety.isImg(t))return this.errors.profile_picture.message=o.ErrorTxt.INVALID_IMAGE,void this.setState({picture:""});if(this.setState({picture:t}),d.Thumbnail.detect()&&""!==t){var n=e.target.files;if(null!==n&&"undefined"!=typeof n&&"undefined"!=typeof n.length&&n.length>0){this.thumbnail=null;var i=new d.Thumbnail(n[0]);this.thumbnail=i,i.on(d.Thumbnail.LOAD,this.avatarLoad),i.on(d.Thumbnail.ERROR,this.avatarError),i.make()}}}},avatarLoad:function(e){var t=this;this.avatarDispose(),clearTimeout(this.timer),this.avatarClear(),this.timer=setTimeout(function(){t.width=e.width,t.height=e.height,t.rotate=t.avatarRotate(e.orientation),t.setState({avatar:e.img})},50)},avatarClear:function(){this.width=0,this.height=0,this.rotate=0,this.setState({avatar:a.Empty.USER_EMPTY})},avatarRotate:function(e){if(0>e)return 0;switch(e){case c.Exif.CW:return 0;case c.Exif.CW_90:return-90;case c.Exif.CW_180:return-180;case c.Exif.CW_270:return-270;default:return 0}},avatarError:function(){this.avatarDispose()},avatarDispose:function(){var e=this.thumbnail;null!==e&&(e.off(d.Thumbnail.LOAD,this.avatarLoad),e.off(d.Thumbnail.ERROR,this.avatarError))},handleDragOver:function(e){e.preventDefault()},handleDragEnter:function(e){return this.ie?void e.preventDefault():void this.setState({entered:!0})},handleDragLeave:function(e){return this.ie?void e.preventDefault():void this.setState({entered:!1})},handleDrop:function(e){if(this.ie)return void e.preventDefault();var t=void 0;if(null!==e.dataTransfer&&"undefined"!=typeof e.dataTransfer?t=e.dataTransfer.files:null!==e.target&&"undefined"!==e.target&&(t=e.target.files),null!==t&&"undefined"!=typeof t&&"undefined"!=typeof t.length&&t.length>0){var n=t[0];n.type.match(/image.*/)?this.setState({entered:!1}):(e.preventDefault(),this.setState({entered:!1}))}else e.preventDefault(),this.setState({entered:!1})},submitHandler:function(e){e.preventDefault(),this.setState({loading:"loading"}),this.prepareNext()},prepareNext:function(){this.reset();var e=0,t=this.errors,n=this.state.email;""===n?(t.email.message=o.ErrorTxt.EMAIL_EMPTY,++e):u.Validate.email(n)||(t.email.message=o.ErrorTxt.EMAIL_INVALID,++e);var i=this.state.password;""!==i&&(i.length<8?(t.password.message=o.ErrorTxt.PASSWORD_SHORT,++e):u.Validate.alphaNum(i)||(t.password.message=o.ErrorTxt.PASSWORD_INVALID,++e));var s=this.state.name;""===s&&(t.name.message=o.ErrorTxt.NAME_EMPTY,++e),0===e?this.request():this.error()},request:function(){var e=f.Form.element(b.findDOMNode(this.refs.settings)),t=this.model;null===t?(t=new k.ModelAccountEdit(e,this.callback),this.model=t):t.data=e,t.start()},next:function(){this.status.dispatch({type:v.SettingsStatus.ACCOUNT_COMPLETE})},avatarChangeHandler:function(){this.setState({picture:"",avatar:this.props.avatar})},error:function(){this.setState({error:!0,loading:""})},done:function(e){if(this.setState({loading:""}),200===e.status.code){this.next();var t=new m.StatusDae(e.status);this.messageStatus.flush(E.MessageStatus.message(t.userMessage),E.MessageStatus.SUCCESS,this.props.sp)}},fail:function(e){this.setState({loading:""});var t=void 0;try{t=e.result.response.errors}catch(n){return}if(Array.isArray(t)){var i=!0,s=!1,a=void 0;try{for(var o,l=(0,r["default"])(t);!(i=(o=l.next()).done);i=!0){var u=o.value;for(var c in u)u.hasOwnProperty(c)&&(this.errors[c].message=u[c])}}catch(d){s=!0,a=d}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw a}}}this.setState({error:!0})},reset:function(){this.errors.email.reset(),this.errors.password.reset(),this.errors.name.reset(),this.errors.profile_picture.reset(),this.setState({error:!1})},dispose:function(){}});t.SettingsIndexNode=S.createClass({displayName:"SettingsIndexNode",propTypes:{email:S.PropTypes.string.isRequired,password:S.PropTypes.string,name:S.PropTypes.string.isRequired,bio:S.PropTypes.string.isRequired,picture:S.PropTypes.string.isRequired,sp:S.PropTypes.bool.isRequired},getDefaultProps:function(){return{password:""}},render:function(){return S.createElement("div",{className:"basic-setting setting-form"},S.createElement(P,{email:this.props.email,password:this.props.password,name:this.props.name,bio:this.props.bio,avatar:this.props.picture,sp:this.props.sp}))}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelAccountEdit=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(361),g=(n(97),n(398));t.ModelAccountEdit=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return i.action=new g.SettingsAccountEdit(e,i.done.bind(i),i.fail.bind(i)),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_ACCOUNT_EDIT:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,e)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(m.ModelBehavior)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsAccountEdit=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(175),p=n(67),h=n(38);t.SettingsAccountEdit=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,p.User.token,h.Api.settings("account:edit"),e,n,i))}return(0,d["default"])(t,e),t}(f.ActionAuthBehavior)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewSettingsInterest=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(99),g=n(400),y=(n(161),n(144)),v=n(402),E=self.ReactDOM;t.ViewSettingsInterest=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n)),s={};i._callbacks=s,s[m.Model.COMPLETE]=i.complete.bind(i),i.action=new g.ModelInterest(s);var a=y.SettingsStatus.factory();return a.on(y.SettingsStatus.INTEREST_COMPLETE,i.reload.bind(i)),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"complete",value:function(e){this.render(e)}},{key:"render",value:function(e){E.render(React.createElement(v.SettingsInterestNode,{dae:e}),this.element)}},{key:"reload",value:function(){this.start()}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelInterest=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(401),g=n(161);n(97),t.ModelInterest=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.action=new m.SettingsInterest(n.done.bind(n),n.fail.bind(n)),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_ACCOUNT:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,new g.CategoriesDae(t))}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(h.Model)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsInterest=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(131),p=n(67),h=n(38);t.SettingsInterest=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,p.User.token,h.Api.settings("interest"),e,n))}return(0,d["default"])(t,e),t}(f.ActionAuth)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsInterestNode=void 0;var i=n(107),s=(n(97),n(275)),r=n(98),a=n(144),o=n(291),l=n(99),u=n(403),c=(n(162),self.React),d=self.ReactDOM;t.SettingsInterestNode=c.createClass({displayName:"SettingsInterestNode",propTypes:{dae:c.PropTypes.object.isRequired},getInitialState:function(){return this.status=a.SettingsStatus.factory(),this.messageStatus=o.MessageStatus.factory(),this.model=null,this.callback=null,{dae:this.props.dae,loading:""}},render:function(){var e=this.state.dae.all;return c.createElement("div",{className:"interest-setting setting-form"},c.createElement("form",{ref:"settings",className:"loading-root "+this.state.loading,onSubmit:this.submitHandler},c.createElement("fieldset",{className:"fieldset-step-3"},c.createElement("div",{className:"setting-form-interest"},c.createElement("ul",{className:"setting-form-interest-list"},e.map(function(e,t){return c.createElement("li",{key:e.slug,className:"setting-form-interest-item interest-item-"+e.slug},c.createElement("input",{className:"interest-item interest-item-"+t,type:"checkbox",name:"interest[]",id:"interest-item-"+e.slug,defaultValue:e.id,defaultChecked:e.isInterest?"checked":""}),c.createElement("label",{htmlFor:"interest-item-"+e.slug,className:"setting-form-interest-title"},c.createElement("span",null,e.label)))})))),c.createElement("div",{className:"form-parts"},c.createElement("span",{className:"setting-form-submit mod-btnB01"},c.createElement("input",{type:"submit",value:i.Message.BUTTON_SAVE}))),c.createElement("div",{className:"loading-spinner"})))},componentDidMount:function(){if(null===this.callback){var e={};this.callback=e,e[l.Model.COMPLETE]=this.done,e[l.Model.UNDEFINED_ERROR]=this.fail,e[l.Model.RESPONSE_ERROR]=this.fail}},submitHandler:function(e){e.preventDefault(),this.prepareNext()},prepareNext:function(){var e=s.Form.element(d.findDOMNode(this.refs.settings)),t=this.model;null===t?(t=new u.ModelInterestEdit(e,this.callback),this.model=t):t.data=e,this.reset(),t.start()},next:function(){this.status.dispatch({type:a.SettingsStatus.INTEREST_COMPLETE})},done:function(e){if(this.setState({loading:""}),200===e.status.code){this.next();var t=new r.StatusDae(e.status);this.messageStatus.flush(o.MessageStatus.message(t.userMessage),o.MessageStatus.SUCCESS)}},fail:function(){this.setState({loading:""})},reset:function(){this.setState({error:!1})}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ModelInterestEdit=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(99),m=n(361),g=(n(97),n(404));t.ModelInterestEdit=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return i.action=new g.SettingsInterestEdit(e,i.done.bind(i),i.fail.bind(i)),i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.start()}},{key:"done",value:function(e){var t=e.response;if("undefined"==typeof t){var n=new Error("[MODEL_INTEREST_EDIT:UNDEFINED]サーバーレスポンスに問題が発生しました。");this.executeSafely(h.Model.UNDEFINED_ERROR,n)}else this.executeSafely(h.Model.COMPLETE,e)}},{key:"fail",value:function(e){this.executeSafely(h.Model.RESPONSE_ERROR,e)}}]),t}(m.ModelBehavior)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsInterestEdit=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(175),p=n(67),h=n(38);t.SettingsInterestEdit=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,p.User.token,h.Api.settings("interest:edit"),e,n,i))}return(0,d["default"])(t,e),t}(f.ActionAuthBehavior)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PageTop=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(85),u=n(94),c=n(93),d=n(239),f=self.TweenLite,p=self.Sagen;t.PageTop=function(){function e(){(0,r["default"])(this,e),this._boundScroll=this.onScroll.bind(this),this._element=null,this._dom=null,this._footer=null,this._footerOffset=null,this._scroll=u.Scroll.factory(),this._wholeOffset=null,this._inFade=!1,this.topButton=d.TopButton.factory()}return(0,o["default"])(e,null,[{key:"start",value:function(){var t=new e;t.init()}}]),(0,o["default"])(e,[{key:"init",value:function(){var e=l.Dom.pageTop();if(null!==e){this._element=e,this.topButton.init(e);var t=l.Dom.footer();null!==t&&(this._footer=t,this.initRise())}}},{key:"initRise",value:function(){this._dom=new p.Dom(this._element),this._footerOffset=new c.Offset(this._footer),this._wholeOffset=new c.Offset(l.Dom.whole());var e=this._scroll;e.on(u.Scroll.SCROLL,this._boundScroll),e.start()}},{key:"onScroll",value:function(e){var t=e.y,n=window.innerHeight,i=t+n;if(!(t>=280))return void this.hide();this.show();var s=this._footerOffset.offset(),r=this._wholeOffset.offset(),a=r.height-s.height+30;i>=a?this.free():this.sticky()}},{key:"show",value:function(){var e=this;if(this._inFade)return!1;var t=this._dom;if(!t.hasClass("blind"))return!1;this._inFade=!0;var n=this._element;n.style.cssText="opacity: 0;";var i={step:0};return f.to(i,.5,{step:1,onStart:function(){t.removeClass("blind")},onUpdate:function(){n.style.cssText="opacity: "+i.step+";"},onComplete:function(){n.style.cssText="",e._inFade=!1}}),!0}},{key:"hide",value:function(){var e=this;if(this._inFade)return!1;var t=this._dom;if(t.hasClass("blind"))return!1;this._inFade=!0;var n=this._element,i={step:1};return f.to(i,.5,{step:0,onUpdate:function(){n.style.cssText="opacity: "+i.step+";"},onComplete:function(){t.addClass("blind"),t.hasClass("fixed")||t.addClass("fixed"),n.style.cssText="",e._inFade=!1}}),!0}},{key:"free",value:function(){var e=this._dom;return e.hasClass("fixed")?(e.removeClass("fixed"),!0):!1}},{key:"sticky",value:function(){var e=this._dom;return e.hasClass("fixed")?!0:(e.addClass("fixed"),!0)}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewFirstVisit=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(324),m=n(85),g=n(94),y=self.Sagen,v=self.Gasane,E=self.React,_=self.ReactDOM,k=self.com.greensock,S=k.TweenLite,b=k.easing;t.SPViewFirstVisit=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e,n))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){var e=E.createClass({displayName:"FirstDom",getInitialState:function(){return this.whole=null,this.menu=null,this.fps=new v.Fps(1),{show:!0,css:{opacity:0,height:"100%"},height:{height:"100%"}}},render:function(){return this.state.show?E.createElement("section",{className:"modal-intro",style:this.state.css},E.createElement("div",{className:"modal-bg",onClick:this.closeHandle,style:this.state.height}),E.createElement("div",{className:"modal-intro-contents"},E.createElement("p",{className:"modal-intro-tagline"},E.createElement("img",{src:"/assets/sp/images/intro/tagline.png",alt:"CRAZY FOR SPORTS"})),E.createElement("h1",{className:"modal-intro-heading"},E.createElement("img",{src:"/assets/sp/images/intro/logo.png",alt:"運動通信"})),E.createElement("p",{className:"modal-intro-copy"},E.createElement("img",{src:"/assets/sp/images/intro/copy.png",alt:"世界一足の速い人間が、勉強ができなくてもいい。8万人の目の前でPKを決められる人間が、女好きでもいい。傷ついた少年の勇気になるホームランを打てる人間が、借金を抱えていてもいい。自分より強い相手の顎を砕ける人間が、敬語が使えなくてもいい。動かない両足で世界を制覇できる人間が、時間にルーズでもいい。その瞬間に、その奇跡を起こせる人間に、それ以外のことができる必要なんかない。すべてを犠牲にして、立ち向かった人間に、つまらない常識なんかいらない。そのつまらない定規を捨てよ。奴らのくれる感動に、感動せよ。その最高の奇跡を生み出すために生まれてきた人間を祝福せよ。瞬間に生きることを選んだ人間の美しさに熱狂せよ。熱狂のない世界なんか、いらない。"})),E.createElement("div",{className:"mod-btnB01"},E.createElement("a",{className:"modal-intro-close",href:"#",onClick:this.closeHandle},E.createElement("i",null," "),E.createElement("i",null," "),E.createElement("span",null,"閉じる"))))):null},componentDidMount:function(){var e=m.Dom.page(),t=m.Dom.serviceMenu();null!==t&&null!==e&&(this.menu=new y.Dom(t),this.whole=e,window.addEventListener("load",this.onLoad,!1),this.fps.on(v.Fps.ENTER_FRAME,this.update),this.fps.start())},update:function(){this.setHeight()},setHeight:function(){var e=Math.max(parseInt(this.menu.style("height"),10),950),t=e+"px";this.state.height.height!==t&&this.setState({height:{height:t}})},closeHandle:function(e){e.preventDefault(),this.fps.off(v.Fps.ENTER_FRAME,this.update),this.closeModal()},onLoad:function(){window.removeEventListener("load",this.onLoad),this.openModal()},openModal:function(){var e={opacity:0},t=this;S.to(e,.5,{opacity:1,easing:b.Linear.easeNone,onUpdate:function(){t.setState({css:{opacity:e.opacity}})},onComplete:function(){t.setState({css:{opacity:1}})}}),g.Scroll.motion(0,.5,1)},closeModal:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t={opacity:1},n=this;S.to(t,.5,{delay:e,opacity:0,easing:b.Linear.easeNone,onUpdate:function(){n.setState({css:{opacity:t.opacity}})},onComplete:function(){n.setState({css:{opacity:0},show:!1}),g.Scroll.motion(0)}})}});_.render(E.createElement(e,null),this.element)}}]),t}(h.ViewFirstVisit)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewAppBanner=void 0;var s=n(2),r=i(s),a=n(3),o=i(a),l=n(68),u=n(94),c=self.Sagen,d=function(){function e(t,n){(0,r["default"])(this,e),this.element=t,this.onClose=this.onClose.bind(this),this.state={show:n},this.scroll=u.Scroll.factory()}return(0,o["default"])(e,null,[{key:"onScroll",value:function(t){t.y>=85?e.visible(!1):e.visible(!0)}},{key:"visible",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];e?c.Dom.removeClass(document.body,"appbnr-invisible"):c.Dom.addClass(document.body,"appbnr-invisible")}},{key:"enable",value:function(){c.Dom.addClass(document.body,"appbnr-enable")}},{key:"free",value:function(){c.Dom.removeClass(document.body,"appbnr-enable")}}]),(0,o["default"])(e,[{key:"init",value:function(){this.activate(),this.element.addEventListener("click",this.onClose,!1)}},{key:"onClose",value:function(e){e.preventDefault(),this.updateShow(!1),this.dispose()}},{key:"updateShow",value:function(t){this.state.show!==t&&(t?this.activate():(l.Cookie.save("1",l.Cookie.APP_BANNER,new Date(Date.now()+6048e5)),e.free()),this.state.show=t)}},{key:"activate",value:function(){this.dispose();var t=this.scroll;t.on(u.Scroll.SCROLL,e.onScroll),t.start()}},{key:"dispose",value:function(){this.scroll.off(u.Scroll.SCROLL,e.onScroll),this.element.removeEventListener("click",this.onClose)}}]),e}();t.SPViewAppBanner=function(){function e(){(0,r["default"])(this,e)}return(0,o["default"])(e,null,[{key:"init",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=l.Cookie.has(l.Cookie.APP_BANNER);if(!n&&t){d.enable();var i=new d(e,t);return i.init(),!0}return d.free(),!1}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewHeadLine=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(328),m=n(409),g=n(154),y=self.ReactDOM;t.SPViewHeadLine=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e,n))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){var t=e.map(function(e){return new g.ArticleDae(e)});y.render(React.createElement(m.SPComponentHeadlines,{list:t,callback:this.executeSafely.bind(this)}),this.element)}}]),t}(h.ViewHeadline)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentHeadlines=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(100),m=n(410),g=n(104),y=n(107),v=n(196),E=n(41),_=self.React;t.SPComponentHeadlines=function(e){function t(e){return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,e))}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{list:_.PropTypes.array.isRequired,callback:_.PropTypes.func.isRequired,home:_.PropTypes.bool}}},{key:"defaultProps",get:function(){return{home:!1}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){this.props.callback(h.View.DID_MOUNT),this.ad()}},{key:"ad",value:function(){var e=this.refs.sponsorLink;if(e){var t=document.createElement("div"),n=document.createElement("script");n.src=v.Ad.ssl()+"/sdk/js/adg-script-loader.js?id=42707&targetID=adg_42707&displayid=2&adType=INFEED&async=false&async=true&tagver=2.0.0",t.appendChild(n),e.appendChild(t)}}},{key:"render",value:function(){var e=this,t=this.props.list;return 0===t.length?null:_.createElement("div",{className:"headline-root"},_.createElement("div",{className:"headline"},_.createElement("div",{className:"headline-heading"},_.createElement("h2",{className:"headline-heading-title"},y.Message.HEADLINE_TITLE)),_.createElement("ul",{className:"board"},t.map(function(t,n){var i=E.Safety.image(t.media.images.medium,g.Empty.IMG_MIDDLE);return _.createElement(m.SPComponentHeadlineArticle,{key:"headline-"+t.id,index:n,id:String(t.id),slug:t.categories.slug,categories:t.categories.all,url:t.url,date:t.displayDate,title:t.title,thumbnail:i,mediaType:t.mediaType,home:e.props.home})}),_.createElement("li",{className:"board-item sponsor-link"},_.createElement("div",{ref:"sponsorLink"})))))}}]),t}(_.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentHeadlineArticle=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(178),m=n(164),g=n(176),y=n(177),v=self.React;t.SPComponentHeadlineArticle=function(e){function t(e){(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.boundGa=n.gaSend.bind(n),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){var e=this.props;return v.createElement("li",{className:"board-item board-item-"+e.index},v.createElement("a",{className:"post",href:e.url,onClick:this.boundGa},v.createElement(m.ComponentArticleThumbnail,{mediaType:e.mediaType,thumbnail:e.thumbnail,title:e.title,recommend:!1,small:!0}),v.createElement("div",{className:"post-data"},v.createElement("h3",{className:"post-heading"},e.title),v.createElement("p",{className:"post-category post-category-"+(e.slug||"x")},v.createElement(h.CategoryLabelNode,{categories:e.categories,id:"archive-label-"+e.id,index:e.index,mediaType:e.mediaType,recommend:!1})),v.createElement("p",{className:"post-date"},e.date))))}},{key:"gaSend",value:function(){var e="home";this.props.home||(e=this.props.slug),g.Ga.add(new y.GaData("SPViewHeadline.gaSend",e+"_headline","click",this.props.url,parseFloat(this.props.id)))}}],[{key:"propTypes",get:function(){return{index:v.PropTypes.number.isRequired,id:v.PropTypes.string.isRequired,slug:v.PropTypes.string.isRequired,categories:v.PropTypes.array.isRequired,url:v.PropTypes.string.isRequired,date:v.PropTypes.string.isRequired,title:v.PropTypes.string.isRequired,thumbnail:v.PropTypes.string.isRequired,mediaType:v.PropTypes.string.isRequired,home:v.PropTypes.bool.isRequired}}}]),t}(v.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewNews=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(412),p=n(67),h=n(335),m=n(336);t.SPViewNews=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];(0,o["default"])(this,t);var s=(0,u["default"])(this,(0,r["default"])(t).call(this,e,n,null,i));return s.action=p.User.sign?new h.NewsAuth(s.done.bind(s),s.fail.bind(s)):new m.News(s.done.bind(s),s.fail.bind(s)),s.home=!0,s}return(0,d["default"])(t,e),t}(f.SPViewArchiveInfinite)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewArchiveInfinite=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(154),g=n(176),y=n(177),v=n(413),E=n(417),_=n(418),k=self.ReactDOM;t.SPViewArchiveInfinite=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,i,s));return a.boundMore=a.moreButton.bind(a),a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){var t=this._articles,n=this._articles.length;e.forEach(function(e,i){var s=new m.ArticleDae(e);s.index=n+i,t.push(s)}),this.executeSafely(h.View.BEFORE_RENDER,t),null===this.articleRendered?(this.articleRendered=k.render(React.createElement(_.SPComponentArticles,{list:t,offset:this.request.offset,length:this.request.length,action:this.action,callback:this.executeSafely.bind(this),boundMore:this.moreButton.bind(this),home:this.home,adSp:""}),this.element),this.home?g.Ga.add(new y.GaData("SPViewArchiveInfinite.render","home_articles","view - new",String(1),0,!0)):g.Ga.add(new y.GaData("SPViewArchiveInfinite.render",this.slug+"_articles","view - new",String(1),0,!0))):this.articleRendered.updateList(t,this.request.offset,this.request.length)}},{key:"moreButton",value:function(e){var t=this.moreElement;null===this.moreRendered?this.moreRendered=k.render(React.createElement(E.SPComponentMoreButton,{show:e,action:this.action,
element:t,home:this.home,slug:this.slug}),t):this.moreRendered.updateShow(e)}}]),t}(v.SPViewArchive)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewArchive=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(107),g=(n(97),n(41)),y=n(154),v=n(414),E=n(416),_=n(176),k=n(177),S=self.ReactDOM;t.SPViewArchive=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,o["default"])(this,t),s=g.Safety.object(s);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,e,s));return"function"==typeof i&&(a.action=new i(a.done.bind(a),a.fail.bind(a))),a._moreElement=n,a._articles=[],a._articleRendered=null,a._moreRendered=null,a._request=null,a._slug="all",a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.next()}},{key:"done",value:function(e){var t=e.articles;if("undefined"==typeof t){var n=new Error(m.Message.undef("[SP:ARCHIVE:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,n),this.moreButton(!1)}else if(0===t.length){var i=new Error(m.Message.empty("[SP:ARCHIVE:EMPTY:EMPTY]"));this.executeSafely(h.View.EMPTY_ERROR,i),this.moreButton(!1)}else this.request=e.request,this.render(t)}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e),this.moreButton&&this.moreButton(!1)}},{key:"render",value:function(e){var t=this,n=this._articles,i=this._articles.length,s=function(e){e=!!e,null===t._moreRendered?t.moreRendered=S.render(React.createElement(E.SPMoreViewNode,{show:e,action:t.action,home:t.home,slug:t.slug}),t.moreElement):t.moreRendered.updateShow(e)};e.forEach(function(e,t){var s=new y.ArticleDae(e);s.index=i+t,n.push(s)}),this.executeSafely(h.View.BEFORE_RENDER,n),null===this.articleRendered?(this.articleRendered=S.render(React.createElement(v.SPArchiveNode,{list:n,offset:this.request.offset,length:this.request.length,action:this.action,scope:this,moreButton:s,home:this.home,type:m.Message.NEWS,adSp:""}),this.element),this.home?_.Ga.add(new k.GaData("SPViewArchive.render","home_articles","view - new",String(1),0,!0)):_.Ga.add(new k.GaData("SPViewArchive.render",this.slug+"_articles","view - new",String(1),0,!0))):this.articleRendered.updateList(n,this._request.offset,this._request.length)}},{key:"moreElement",get:function(){return this._moreElement}},{key:"slug",get:function(){return this._slug},set:function(e){this._slug=e}},{key:"articles",get:function(){return this._articles},set:function(e){this._articles=e}},{key:"articleRendered",get:function(){return this._articleRendered},set:function(e){this._articleRendered=e}},{key:"request",get:function(){return this._request},set:function(e){this._request=e}},{key:"moreRendered",get:function(){return this._moreRendered},set:function(e){this._moreRendered=e}}]),t}(h.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPArchiveNode=void 0;var i=n(104),s=n(67),r=n(165),a=n(107),o=n(100),l=n(41),u=n(178),c=n(169),d=n(415),f=n(168),p=self.React,h=p.createClass({displayName:"CommentsSecondDom",propType:{seconds:p.PropTypes.array.isRequired,articleId:p.PropTypes.string.isRequired,total:p.PropTypes.number.isRequired,hasSecond:p.PropTypes.bool.isRequired},getInitialState:function(){return{seconds:this.props.seconds}},render:function(){if(!this.props.hasSecond)return p.createElement("div",{className:"commented-user"});var e=this.state.seconds,t=this.props.articleId;return p.createElement("div",{className:"commented-user"},p.createElement("ul",{className:"comments-second"},e.map(function(e,n){var s=e.user,r=l.Safety.image(s.profilePicture,i.Empty.USER_EMPTY),a=l.Safety.same(r,i.Empty.USER_EMPTY);return p.createElement("li",{key:"user-"+t+"-"+e.id+"-"+s.id+"-"+n,className:"commented-user-item commented-user-item-"+n},p.createElement("span",{className:"commented-user-thumb "+a},p.createElement("img",{src:i.Empty.refresh(r),alt:s.userName})))})),p.createElement(f.CommentUserPlusCountNode,{total:this.props.total}))}}),m=p.createClass({displayName:"PopularDom",propType:{commentsPopular:p.PropTypes.object.isRequired,total:p.PropTypes.number.isRequired,articleId:p.PropTypes.string.isRequired,uniqueId:p.PropTypes.string.isRequired},render:function(){var e=this.props.commentsPopular,t=this.props.total,n=this.props.articleId,r=e.hasFirst,a=e.hasSecond,o=e.first,u=e.seconds;if(a&&(t-=u.length),r){t-=1;var d=o,f=d.user,m=f.profilePicture;m?l.Safety.isImg(m)||(m=i.Empty.USER_EMPTY):m=i.Empty.USER_EMPTY;var g=m===i.Empty.USER_EMPTY?"":"user-logged-in",y=s.User.sign;return p.createElement("div",{className:"comments-popular"},p.createElement(h,{seconds:u,articleId:n,total:t,hasSecond:a}),p.createElement("div",{className:"feature-user comment-item"},p.createElement("figure",{className:"comment-user"},p.createElement("span",{className:"comment-user-link"},p.createElement("span",{className:"comment-user-thumb "+g},p.createElement("img",{src:i.Empty.refresh(m),alt:f.userName})),p.createElement("div",{className:"comment-user-data"},p.createElement("p",{className:"comment-user-name"},f.userName),p.createElement("p",{className:"comment-user-job"},f.bio)))),p.createElement("div",{className:"comment-content",dangerouslySetInnerHTML:{__html:d.body}}),p.createElement(c.ReactionNode,{uniqueId:this.props.uniqueId,articleId:String(n),commentId:String(d.id),sign:y,good:d.good,bad:d.bad,isGood:d.isGood,isBad:d.isBad,activate:!1,url:d.url})))}return null},componentDidMount:function(){}}),g=p.createClass({displayName:"ThumbnailDom",propType:{mediaType:p.PropTypes.string.isRequired,thumbnail:p.PropTypes.string.isRequired,title:p.PropTypes.string.isRequired,masonry:p.PropTypes.bool.isRequired,action:p.PropTypes.object.isRequired},getInitialState:function(){return{mediaType:this.props.mediaType,thumbnail:this.props.thumbnail,title:this.props.title}},render:function(){var e=this.props.mediaType;if(e===r.MediaType.IMAGE){var t={background:"url("+this.props.thumbnail+") no-repeat center center",backgroundSize:"cover"};return p.createElement("figure",{className:"post-thumb post-thumb-"+e,style:t},p.createElement("img",{className:"image-hd",src:i.Empty.VIDEO_THUMBNAIL,alt:""}),p.createElement("div",{className:"hide-image"},p.createElement("img",{src:this.props.thumbnail,alt:this.props.title})))}return e===r.MediaType.VIDEO?p.createElement("figure",{className:"post-thumb post-thumb-"+e},p.createElement("img",{className:"video-thumbnail",src:this.props.thumbnail,alt:this.props.title}),p.createElement("img",{className:"post-thumb-overlay-movie type-movie",src:i.Empty.VIDEO_PLAY,alt:""})):null}});t.SPArchiveNode=p.createClass({displayName:"SPArchiveNode",propTypes:{list:p.PropTypes.array,offset:p.PropTypes.number,length:p.PropTypes.number,action:p.PropTypes.object,scope:p.PropTypes.object,moreButton:p.PropTypes.func,home:p.PropTypes.bool,type:p.PropTypes.string.isRequired,adSp:p.PropTypes.string.isRequired},getDefaultProps:function(){return{moreButton:function(){},home:!1}},getInitialState:function(){return{arranged:"prepare",list:this.props.list,offset:this.props.offset,length:this.props.length}},render:function(){var e=this.props.home,t=this.state.list.length,n=this.props.type,s=this.props.adSp;return p.createElement("div",{ref:"boardRout",className:"board-stack board-large"},this.state.list.map(function(r,o){var c=r.commentsPopular,f=r.commentsCount,h=l.Safety.image(r.media.images.medium,i.Empty.IMG_MIDDLE),y="";return r.isRecommend&&e&&(y=p.createElement("i",{className:"post-label_recommend"},a.Message.LABEL_RECOMMEND)),p.createElement("div",{key:"archive-article-"+n+"-"+r.id,className:"archive-article archive-article-"+o},p.createElement("div",{key:"archive-"+r.id,className:"board-item board-item-"+o+" board-item-"+r.mediaType},p.createElement("a",{className:"post",href:r.url},p.createElement(g,{mediaType:r.mediaType,thumbnail:h,title:r.title}),p.createElement("h2",{className:"post-heading"},r.title),p.createElement("div",{className:"post-data"},y,p.createElement("p",{className:"post-category"},p.createElement(u.CategoryLabelNode,{categories:r.categories.all,id:"archive-label-"+r.id,index:o})),p.createElement("p",{className:"post-date"},r.displayDate),p.createElement("div",{className:"post-excerpt-text"},r.description))),p.createElement(m,{key:"comment-"+n+"-"+r.id,uniqueId:"comment-"+r.id,commentsPopular:c,total:f,articleId:String(r.id)})),p.createElement(d.SPNewsAdNode,{key:"ad-"+n+"-"+r.id,enable:n===a.Message.NEWS,index:o,length:t,uniqueId:"ad-"+n+"-"+r.id,adSp:s}))}))},componentDidMount:function(){this.props.scope.executeSafely(o.View.DID_MOUNT),this.props.moreButton(this.props.action.hasNext())},updateList:function(e,t,n){this.setState({list:e,offset:t,length:n}),this.props.moreButton(this.props.action.hasNext())}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPNewsAdNode=void 0;var i=n(196),s=self.React,r=self.ReactDOM;t.SPNewsAdNode=s.createClass({displayName:"SPNewsAdNode",propTypes:{index:s.PropTypes.number.isRequired,length:s.PropTypes.number.isRequired,uniqueId:s.PropTypes.string.isRequired,enable:s.PropTypes.bool,adSp:s.PropTypes.string.isRequired},getDefaultProps:function(){return{enable:!1}},getInitialState:function(){return this.ok=!1,{third:2===this.props.index}},render:function(){var e=this,t=function(){return e.ok=!0,s.createElement("div",{className:"news-ad news-ad-"+e.props.index,ref:"news_ad"})};return this.props.enable&&this.state.third?t():this.props.enable&&this.props.index<2&&this.props.index+1===this.props.length?t():null},componentDidMount:function(){this.ok&&r.findDOMNode(this.refs.news_ad).appendChild(i.Ad.makeStream(this.props.uniqueId,this.props.adSp))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPMoreViewNode=void 0;var i=n(107),s=n(176),r=n(177),a=self.React;t.SPMoreViewNode=a.createClass({displayName:"SPMoreViewNode",propTypes:{show:a.PropTypes.bool.isRequired,action:a.PropTypes.object.isRequired,loading:a.PropTypes.string,home:a.PropTypes.bool.isRequired,slug:a.PropTypes.string.isRequired,type:a.PropTypes.string},getDefaultProps:function(){return{loading:"",type:""}},getInitialState:function(){return this.page=1,{disable:!1,show:this.props.show,loading:this.props.loading}},render:function(){return this.state.show?a.createElement("div",{id:"more",className:"board-btn-viewmore loading-root "+this.state.loading},a.createElement("a",{className:"board-btn-viewmore-link",href:"#more",onClick:this.handleClick},a.createElement("span",null,i.Message.BUTTON_VIEW_MORE)),a.createElement("span",{className:"loading-spinner"}," ")):a.createElement("div",{className:"no-more"})},componentWillUnmount:function(){this.destroy()},handleClick:function(e){e.preventDefault(),this.onRise()},updateShow:function(e){this.setState({show:e,loading:""})},onRise:function(){this.updateLoading(!0)},updateLoading:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t="";e&&(t=" loading",this.props.action.next(),""!==this.props.type?s.Ga.add(new r.GaData("SPMoreViewNode.updateLoading",this.props.slug+"_articles","view - "+this.props.type,String(++this.page),0,!0)):this.props.home?this.gaHome():this.gaCategory()),this.setState({loading:t})},gaHome:function(){s.Ga.add(new r.GaData("SPMoreViewNode.gaHome","home_articles","view - new",String(++this.page),0,!0))},gaCategory:function(){s.Ga.add(new r.GaData("SPMoreViewNode.gaCategory",this.props.slug+"_articles","view - new",String(++this.page),0,!0))}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentMoreButton=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(107),m=n(180),g=n(176),y=n(177),v=self.React;t.SPComponentMoreButton=function(e){function t(e){(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.state={disable:!1,show:e.show,loading:e.loading},n.rise=null,n.boundRise=n.onRise.bind(n),n.boundClick=n.onClick.bind(n),n.page=1,n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){return this.state.show?v.createElement("div",{id:"more",className:"board-btn-viewmore loading-root "+this.state.loading},v.createElement("a",{className:"board-btn-viewmore-link",href:"#more",onClick:this.handleClick},v.createElement("span",null,h.Message.BUTTON_VIEW_MORE)),v.createElement("span",{className:"loading-spinner"}," ")):null}},{key:"componentDidMount",value:function(){var e=this.rise;this.state.show&&null===e&&(e=new m.Rise(this.props.element),this.rise=e,e.on(m.Rise.RISE,this.boundRise),e.start())}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"onClick",value:function(e){e.preventDefault(),this.onRise()}},{key:"destroy",value:function(){var e=this.rise;null!==e&&(e.stop(),e.off(m.Rise.RISE,this.boundRise),e=null)}},{key:"updateLoading",value:function(e){var t=this.rise,n="";e&&null!==t?(n="loading",t.stop(),this.props.action.next()):t.start(),this.setState({loading:n})}},{key:"updateShow",value:function(e){e?this.updateLoading(!1):this.destroy(),this.setState({show:e})}},{key:"onRise",value:function(){this.updateLoading(!0),""!==this.props.type?g.Ga.add(new y.GaData("SPComponentMoreButton.onRise",this.props.slug+"_articles","view - "+this.props.type,String(++this.page),0,!0)):this.props.home?this.gaHome():this.gaCategory()}},{key:"gaHome",value:function(){g.Ga.add(new y.GaData("SPComponentMoreButton.gaHome","home_articles","view - new",String(++this.page),0,!0))}},{key:"gaCategory",value:function(){g.Ga.add(new y.GaData("SPComponentMoreButton.gaCategory",this.props.slug+"_articles","view - new",String(++this.page),0,!0))}}],[{key:"propTypes",get:function(){return{show:v.PropTypes.bool.isRequired,action:v.PropTypes.object.isRequired,element:v.PropTypes.object.isRequired,home:v.PropTypes.bool.isRequired,slug:v.PropTypes.string.isRequired,loading:v.PropTypes.string,type:v.PropTypes.string}}},{key:"defaultProps",get:function(){return{loading:"",type:""}}}]),t}(v.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentArticles=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(107),m=n(104),g=n(178),y=n(100),v=n(164),E=n(41),_=n(419),k=self.React;t.SPComponentArticles=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={list:e.list,offset:e.offset,length:e.length},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{list:k.PropTypes.array.isRequired,offset:k.PropTypes.number.isRequired,length:k.PropTypes.number.isRequired,action:k.PropTypes.object.isRequired,callback:k.PropTypes.func.isRequired,boundMore:k.PropTypes.func.isRequired,home:k.PropTypes.bool.isRequired,adSp:k.PropTypes.string.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){this.props.callback(y.View.DID_MOUNT),this.props.boundMore(this.props.action.hasNext())}},{key:"updateList",value:function(e,t,n){this.setState({list:e,offset:t,length:n}),this.props.boundMore(this.props.action.hasNext())}},{key:"render",value:function(){var e=this.props,t=this.state,n=t.list,i=n.length;return 0===i?null:k.createElement("div",{className:"latest"},k.createElement("div",{className:"latest-heading"},k.createElement("h2",{className:"latest-heading-title"},h.Message.LATEST_TITLE)),k.createElement("div",{className:"board"},n.map(function(t,n){var s=E.Safety.image(t.media.images.medium,m.Empty.IMG_MIDDLE),r=null;t.isRecommend&&e.home&&(r=k.createElement("i",{className:"post-label_recommend"},h.Message.LABEL_RECOMMEND));var a=t.categories.slug||"x";return k.createElement("div",{key:"latest-"+t.id,className:"latest-line"},k.createElement("div",{key:"latest-"+t.id,className:"board-item"},k.createElement("a",{href:t.url,className:"post"},k.createElement(v.ComponentArticleThumbnail,{mediaType:t.mediaType,thumbnail:s,title:t.title,recommend:!1,small:!0}),k.createElement("div",{className:"post-data"},k.createElement("h3",{className:"post-heading"},t.title),r,k.createElement("p",{className:"post-category post-category-"+a},k.createElement(g.CategoryLabelNode,{categories:t.categories.all,id:"archive-label-"+t.id,index:n,mediaType:t.mediaType,recommend:!1})),k.createElement("p",{className:"post-date"},t.displayDate)))),k.createElement(_.SPComponentArticleAd,{index:n,length:i,uniqueId:"ad-"+t.mediaType+"-"+t.id,adSp:e.adSp,categories:t.categories}))})))}}]),t}(k.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentArticleAd=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(196),m=self.React;t.SPComponentArticleAd=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={third:2===e.index},n.ok=!1,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{index:m.PropTypes.number.isRequired,length:m.PropTypes.number.isRequired,uniqueId:m.PropTypes.string.isRequired,adSp:m.PropTypes.string.isRequired,categories:m.PropTypes.object.isRequired}}}]),(0,d["default"])(t,[{key:"render",value:function(){var e=this.props.categories.bySlug("big6tv");return e?null:this.props.adSp?this.ok?null:this.state.third?this.ad():this.props.index<2&&this.props.index+1===this.props.length?this.ad():null:null}},{key:"ad",value:function(){return this.ok=!0,m.createElement("div",{className:"board-item news-ad news-ad-"+this.props.index,ref:"newsAd"})}},{key:"componentDidMount",value:function(){this.ok&&this.refs.newsAd&&this.refs.newsAd.appendChild(h.Ad.makeStream(this.props.uniqueId,this.props.adSp))}}]),t}(m.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewCategory=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(76),d=i(c),f=n(412),p=n(150),h=n(152),m=n(67),g=n(421);t.SPViewCategory=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,o["default"])(this,t);var a=(0,u["default"])(this,(0,r["default"])(t).call(this,n,i,null,s));a.action=m.User.sign?new h.CategoryAuth(e,"",a.done.bind(a),a.fail.bind(a)):new p.Category(e,"",a.done.bind(a),a.fail.bind(a)),a.slug=e;var l=new g.SPComponentCategoryOption(e);return l.start(),a}return(0,d["default"])(t,e),t}(f.SPViewArchiveInfinite)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentCategoryOption=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(85),m=n(181),g=n(422),y=self.ReactDOM;t.SPComponentCategoryOption=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?"all":arguments[0];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"headline",value:function(e){var t=h.Dom.headlineParent();null!==t&&y.render(React.createElement(g.SPComponentHeadlineOption,{list:e.headline.articles,callback:this.boundSafety,home:!1,ad:e.headline.ad,browser:"sp",category:e}),t)}}]),t}(m.ComponentCategoryOption)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentHeadlineOption=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(100),m=n(197),g=n(409),y=self.React;t.SPComponentHeadlineOption=function(e){function t(e){return(0,o["default"])(this,t),(0,u["default"])(this,(0,r["default"])(t).call(this,e))}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{list:y.PropTypes.array.isRequired,callback:y.PropTypes.func.isRequired,home:y.PropTypes.bool.isRequired,ad:y.PropTypes.object.isRequired,browser:y.PropTypes.string.isRequired,category:y.PropTypes.object.isRequired}}}]),(0,d["default"])(t,[{key:"render",value:function(){var e=this.props.list;return 0===e.length?null:y.createElement("div",{className:"headline-section"},y.createElement("div",{className:"headline-outer"},y.createElement("div",{id:"headline-container"},y.createElement(g.SPComponentHeadlines,{list:e,callback:this.props.callback,home:this.props.home})),y.createElement(m.ComponentHeadlineAd,{browser:this.props.browser,ad:this.props.ad,category:this.props.category})))}},{key:"componentDidMount",value:function(){this.props.callback(h.View.DID_MOUNT)}}]),t}(y.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewCategoryWithSlug=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(420),m=n(107),g=(n(97),n(154)),y=n(201),v=n(100),E=n(99),_=n(176),k=n(177),S=n(198),b=n(418),T=self.ReactDOM;t.SPViewCategoryWithSlug=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,i,s)),l=a.slugFail.bind(a),u={};return u[E.Model.COMPLETE]=a.slugDone.bind(a),u[E.Model.UNDEFINED_ERROR]=l,u[E.Model.RESPONSE_ERROR]=l,a._actionSlug=new S.ModelCategoriesSlug(e,u),a._resultArticles=null,a._categoryInfo=null,a.waiting=0,a.moreRendered=null,a.articleRendered=null,a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.action.next(),this._actionSlug.start()}},{key:"done",value:function(e){var t=e.articles;if("undefined"==typeof t){var n=new Error(m.Message.undef("[SP:ARCHIVE:UNDEFINED]"));this.executeSafely(v.View.UNDEFINED_ERROR,n),this.waiting<2&&this.wait()}else if(0===t.length){var i=new Error(m.Message.empty("[SP:ARCHIVE:EMPTY:EMPTY]"));this.executeSafely(v.View.EMPTY_ERROR,i),this.waiting<2&&this.wait()}else this.request=e.request,this.waiting>=2?this.render(t):(this._resultArticles=t,this.wait())}},{key:"fail",value:function(e){this.executeSafely(v.View.RESPONSE_ERROR,e),this.waiting<2&&this.wait()}},{key:"slugDone",value:function(e){var n=e.response;"undefined"!=typeof n&&null!==n||this.wait();var i=new y.CategoriesSlugDae(n);this._categoryInfo=i,this.executeSafely(t.CATEGORY_INFO,i),this.wait()}},{key:"slugFail",value:function(){this.waiting<2&&this.wait()}},{key:"wait",value:function(){if(!(++this.waiting<2)){var e=this._resultArticles;e&&this.render(e)}}},{key:"render",value:function(e){var t=this._categoryInfo,n="";t&&t.ad&&t.ad.sp&&(n=t.ad.sp);var i=this.articles,s=this.articles.length;e.forEach(function(e,t){var n=new g.ArticleDae(e);n.index=s+t,i.push(n)}),this.executeSafely(v.View.BEFORE_RENDER,i),null===this.articleRendered?(this.articleRendered=T.render(React.createElement(b.SPComponentArticles,{list:i,offset:this.request.offset,length:this.request.length,action:this.action,callback:this.executeSafely.bind(this),boundMore:this.moreButton.bind(this),home:this.home,adSp:n}),this.element),this.home?_.Ga.add(new k.GaData("SPViewArchive.render","home_articles","view - new",String(1),0,!0)):_.Ga.add(new k.GaData("SPViewArchive.render",this.slug+"_articles","view - new",String(1),0,!0))):this.articleRendered.updateList(i,this.request.offset,this.request.length)}}],[{key:"CATEGORY_INFO",get:function(){return"spViewCategoryWidthSlugCategoryInfo"}}]),t}(h.SPViewCategory)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewSearch=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=(n(413),n(412)),m=n(67),g=n(196),y=n(100),v=n(319),E=n(320),_=self.React,k=self.ReactDOM;t.SPViewSearch=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,n,i,null,s));return a.action=m.User.sign?new v.SearchAuth(e,a.done.bind(a),a.fail.bind(a)):new E.Search(e,a.done.bind(a),a.fail.bind(a)),a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"fail",value:function(e){this.executeSafely(y.View.RESPONSE_ERROR,e),this.showError(e.message)}},{key:"showError",value:function(){var e=(arguments.length<=0||void 0===arguments[0]?"":arguments[0],_.createClass({displayName:"ErrorDom",render:function(){return _.createElement("div",{className:"result-notfound"},_.createElement("div",{id:"sponsor-link-404",className:"sponsor-link sponsor-link-404",ref:"ad_root"}),_.createElement("div",{className:"error-container result-notfound"},_.createElement("h2",{className:"result-notfound-heading"},"検索結果が見つかりませんでした"),_.createElement("p",{className:"result-notfound-lead"},"スペルを確認するか、他のキーワードを入力してみてください。"),_.createElement("div",{className:"mod-btnA01"},_.createElement("a",{href:"/"},"TOPに戻る"))))},componentDidMount:function(){k.findDOMNode(this.refs.ad_root).appendChild(g.Ad.make(g.Ad.SP_NEWS,"sponsor-link-404"))}}));k.render(_.createElement(e,null),this.element)}}]),t}(h.SPViewArchiveInfinite)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewSyn=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(67),g=n(426),y=n(141),v=n(427),E=self.ReactDOM;t.SPViewSyn=function(e){function t(e,n,i,s){(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return a._button=n,a._menu=i,a._modal=s,a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render()}},{key:"render",value:function(){var e=E.render(React.createElement(y.LogoutNode,{listen:!0}),this._modal);E.render(React.createElement(g.SPSynItemNode,{sign:m.User.sign,modal:e,callback:this.synapse.bind(this)}),this.element)}},{key:"synapse",value:function(){var e=new v.Syn(this._button,this._menu);e.init()}}]),t}(h.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPSynItemNode=void 0;var i=n(92),s=n(142),r=self.React;t.SPSynItemNode=r.createClass({displayName:"SPSynItemNode",propTypes:{sign:r.PropTypes.bool.isRequired,callback:r.PropTypes.func.isRequired,modal:r.PropTypes.object.isRequired},render:function(){return this.props.sign?r.createElement("ul",null,r.createElement("li",{className:"side-menu-ut-nav"},r.createElement("a",{className:"side-menu-ut-nav-link side-menu-ut-nav-home",href:i.Url.index()},r.createElement("i",null," "),"スポーツブルトップへ")),r.createElement("li",{className:"side-menu-ut-nav"},r.createElement("a",{className:"side-menu-ut-nav-link side-menu-ut-nav-mypage",href:i.Url.mypage()},r.createElement("i",null," "),"マイページ")),r.createElement("li",{className:"side-menu-ut-nav"},r.createElement("a",{className:"side-menu-ut-nav-link side-menu-ut-nav-config",href:i.Url.settings()},r.createElement("i",null," "),"設定")),r.createElement("li",{className:"side-menu-ut-nav"},r.createElement("a",{className:"side-menu-ut-nav-link side-menu-ut-nav-logout",href:"#",onClick:this.logoutClick},r.createElement("i",null," "),"ログアウト")),r.createElement("li",{className:"side-menu-ut-nav"},r.createElement("a",{className:"side-menu-ut-nav-link side-menu-ut-nav-about",href:i.Url.about()},r.createElement("i",null," "),"スポーツブルとは"))):r.createElement("ul",null,r.createElement("li",{className:"side-menu-ut-nav"},r.createElement("a",{className:"side-menu-ut-nav-link side-menu-ut-nav-home",href:i.Url.index()},r.createElement("i",null," "),"スポーツブルトップへ")),r.createElement("li",{className:"side-menu-ut-nav"},r.createElement("a",{className:"side-menu-ut-nav-link side-menu-ut-nav-login",href:i.Url.signupLogin()},r.createElement("i",null," "),"無料登録・ログイン")),r.createElement("li",{className:"side-menu-ut-nav"},r.createElement("a",{className:"side-menu-ut-nav-link side-menu-ut-nav-about",href:i.Url.about()},r.createElement("i",null," "),"スポーツブルとは")))},componentDidMount:function(){this.props.callback(),this.status=s.LogoutStatus.factory()},logoutClick:function(e){e.preventDefault(),this.status.open()}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Syn=void 0;var s=n(42),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(94),d=n(91),f=n(325),p=n(68),h=n(176),m=n(177),g=self.jQuery,y=self.Synapse,v=self.Sagen,E=self.Gasane,_={page:"page",service:"synapse-service-list",box:"synapse-service-list-outer-box",logo:"synapse-logo-box",sideMenu:"side-menu",bg:"side-menu-bg",list:"side-menu-list",toggle:"side-menu-toggle",modal:"modal-container"};t.Syn=function(){function e(t,n){(0,o["default"])(this,e),this._button=t,this._side=n,this._$side=g(n),this._sideDom=new v.Dom(n),this._menu=null,this._motion=!1,this._y=0,this._ready=!1,this._boundUpdate=this.update.bind(this),this._fps=new E.Fps(1),this._firstAd=!1,this._$adgComing=!1,this._adg={loaded:this.adgLoaded.bind(this),failed:this.adgFailed.bind(this)},this._listDom=null,this._toggleDom=null,this._page=null,this._bg=null}return(0,u["default"])(e,[{key:"init",value:function(){this.initAd(),this._listDom=new v.Dom(document.getElementById(_.list)),this._toggleDom=new v.Dom(document.getElementById(_.toggle)),this._page=document.getElementById(_.page),this._bg=document.getElementById(_.bg),e.test()&&(y.Logger.logLevel=y.Logger.DEBUG,y.endpoint="https://synapse-api.stg.bitcellar.net");var t=new y.Menu("undotsushin_side_menu");this._menu=t,t.addListener("service_list_load",this.onLoad.bind(this)),t.addListener("service_notification_load",this.onNotice.bind(this)),t.init(),this._button.addEventListener("click",this.buttonClick.bind(this),!1),this._bg.addEventListener("click",this.bgClick.bind(this),!1)}},{key:"initAd",value:function(){var e=this,t=self.$adg;if(!t||!t.listener)return void setTimeout(function(){e.initAd()},25);var n=this._adg;window.addEventListener(t.listener.loaded,n.loaded,!1),window.addEventListener(t.listener.failed,n.failed,!1)}},{key:"adgLoaded",value:function(){var e=this;this.adgDispose(),this._$adgComing=!0,this._$side.on("inview",function(t,n){n&&e.adTrack()})}},{key:"adgFailed",value:function(){this.adgDispose()}},{key:"adgDispose",value:function(){var e=self.$adg,t=this._adg;window.removeEventListener(e.listener.loaded,t.loaded),window.removeEventListener(e.listener.failed,t.failed)}},{key:"onLoad",value:function(){var e=this._menu,t=document.getElementById(_.service);this._ready=!0,e.serviceList.serviceListItems.forEach(function(e){var n=document.createElement("li"),i=e.toHTMLElement(),s=!1;g(i).on("inview",function(t,n){n?(s||e.trackShowEvent(),s=!0):s=!1}),n.appendChild(i),t.appendChild(n)});var n=e.serviceList.serviceListItems;null!==n&&"undefined"!=typeof n&&n.length>0&&(document.getElementById(_.box).style.cssText="display: block;",document.getElementById(_.logo).style.cssText="display: block;")}},{key:"visitCheck",value:function(){e.visited()||this.open(this._side,this._sideDom)}},{key:"onNotice",value:function(){this._menu.serviceNotification.serviceNotificationItems.length>0?this._toggleDom.addClass("has-notification"):this._toggleDom.removeClass("has-notification")}},{key:"buttonClick",value:function(t){if(t.preventDefault(),!this._motion){var n=this._side,i=this._sideDom;i.hasClass("open")?(this.close(n,i),e.gaSend("close")):(this.open(n,i),e.gaSend("open"))}}},{key:"bgClick",value:function(t){t.preventDefault(),this.close(this._side,this._sideDom),e.gaSend("close")}},{key:"open",value:function(e,t){this._motion=!0;var n=this;setTimeout(function(){n._motion=!1},500),this._y=c.Scroll.y,c.Scroll.motion(0,.4),this._menu.trackShowEvent(),t.addClass("open"),e.style.cssText="height: 9999px",this.setHeight(e),
this.adTrack(),this._fps.on(E.Fps.ENTER_FRAME,this._boundUpdate),this._fps.start()}},{key:"adTrack",value:function(){if(this._$adgComing&&!this._firstAd){var e=self.$adg;e&&e.ads&&"function"==typeof e.ads.trackShowEvent&&(this._firstAd=!0,e.ads.trackShowEvent(),this._$side.off("inview"))}}},{key:"setHeight",value:function(e){var t=this._listDom.style("height"),n=parseInt(t,10),i=parseInt(window.innerHeight,10);(i>n||!this._ready)&&(n=i+100,t=n+"px"),e.style.cssText="height: "+t,this._page.style.cssText="overflow: hidden; width: 100%; height: "+t}},{key:"close",value:function(e,t){this._motion=!0;var n=this;t.addClass("closing"),c.Scroll.motion(n._y,.2,.2),setTimeout(function(){n._motion=!1,t.removeClass("closing"),t.removeClass("open"),e.style.cssText="",n._page.style.cssText=""},400),this._fps.off(E.Fps.ENTER_FRAME,this._boundUpdate)}},{key:"update",value:function(){this.setHeight(this._side)}}],[{key:"test",value:function(){var e=document.getElementsByTagName("head")[0].getElementsByTagName("script"),t=void 0,n=!0,i=!1,s=void 0;try{for(var a,o=(0,r["default"])(e);!(n=(a=o.next()).done);n=!0){var l=a.value;if(l.src&&-1!==l.src.indexOf("main.bundle.js")){var u=l.src;t=u.split("?").pop()}}}catch(c){i=!0,s=c}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw s}}if("undefined"==typeof t||""===t)return!1;var f=d.Loc.parse(t);return f.hasOwnProperty("syn")?"1"===f.syn:!1}},{key:"visited",value:function(){return 1===parseInt(p.Cookie.get(p.Cookie.SYN),10)}},{key:"visit",value:function(){return p.Cookie.save("1",p.Cookie.SYN,f.Time.later(14))}},{key:"gaSend",value:function(e){h.Ga.add(new m.GaData("Syn.gaSend","sidemenu",e,"",0,!0))}}]),e}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewHeaderUser=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(429),g=n(67),y=n(92),v=self.React,E=self.ReactDOM;t.SPViewHeaderUser=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n));return i._boundCallback=i.memberCallback.bind(i),i._member=null,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render()}},{key:"render",value:function(){g.User.sign?this.member():this.user()}},{key:"member",value:function(){var e=new m.SPViewHeaderMember(this.element);this._member=e;var t=this._boundCallback;e.on(h.View.BEFORE_RENDER,t),e.on(h.View.WILL_MOUNT,t),e.on(h.View.DID_MOUNT,t),e.on(h.View.ERROR_MOUNT,t),e.on(h.View.UNDEFINED_ERROR,t),e.on(h.View.EMPTY_ERROR,t),e.on(h.View.RESPONSE_ERROR,t),e.start()}},{key:"user",value:function(){var e=v.createClass({displayName:"UserDom",render:function(){return v.createElement("div",{className:"user"},v.createElement("div",{className:"preference"},v.createElement("a",{href:y.Url.signupLogin(),className:"preference-opener"},v.createElement("span",{className:"preference-avatar"}," "))))}});E.render(v.createElement(e,null),this.element)}},{key:"memberCallback",value:function(e){var t=this._member,n=this._boundCallback;null!==t&&t.off(e.type,n),this.dispatch(e),e.type!==h.View.RESPONSE_ERROR&&e.type!==h.View.UNDEFINED_ERROR&&e.type!==h.View.EMPTY_ERROR||(this.dispose(),this.render())}},{key:"dispose",value:function(){var e=this._member;if(null!==e){var t=this._boundCallback;e.off(h.View.BEFORE_RENDER,t),e.off(h.View.WILL_MOUNT,t),e.off(h.View.DID_MOUNT,t),e.off(h.View.ERROR_MOUNT,t),e.off(h.View.UNDEFINED_ERROR,t),e.off(h.View.EMPTY_ERROR,t),e.off(h.View.RESPONSE_ERROR,t),this._member=null}}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewHeaderMember=void 0;var s=n(57),r=i(s),a=n(70),o=i(a),l=n(2),u=i(l),c=n(3),d=i(c),f=n(75),p=i(f),h=n(76),m=i(h),g=n(100),y=n(102),v=n(104),E=n(92),_=n(106),k=n(99),S=n(129),b=n(132),T=n(41),P=(n(120),n(133)),R=self.React,N=self.ReactDOM;t.SPViewHeaderMember=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return(0,u["default"])(this,t),(0,p["default"])(this,(0,o["default"])(t).call(this,e,n))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"render",value:function(e){this.executeSafely(g.View.BEFORE_RENDER,e);var t=this,n=R.createClass({displayName:"MemberDom",propTypes:{userName:R.PropTypes.string.isRequired,icon:R.PropTypes.string.isRequired},getInitialState:function(){return this.callback=null,this.model=null,this.polling=null,this.status=null,{total:0,userName:this.props.userName,icon:this.props.icon}},render:function(){var e=function(e){return 0===e?{display:"none"}:{display:"block"}},t=T.Safety.image(this.state.icon,v.Empty.USER_EMPTY),n=T.Safety.same(t,v.Empty.USER_EMPTY);return R.createElement("div",{className:"user"},R.createElement("div",{className:"preference"},R.createElement("a",{href:E.Url.notifications(),className:"preference-opener"},R.createElement("span",{className:"preference-avatar "+n},R.createElement("img",{src:v.Empty.refresh(t),alt:this.state.userName}))),R.createElement("span",{className:"preference-num",style:e(this.state.total)},this.state.total)))},componentDidMount:function(){var e=this.callback;null===e&&(e={},this.callback=e,e[k.Model.COMPLETE]=this.done,e[k.Model.UNDEFINED_ERROR]=this.fail,e[k.Model.RESPONSE_ERROR]=this.fail),null===this.model&&(this.model=new S.ModelNoticeCount(e)),null===this.status&&(this.status=b.NoticeStatus.factory());var n=this.polling;null===n?(n=new P.Polling(_.Length.interval),this.polling=n,n.on(P.Polling.UPDATE,this.update),this.model.start(),n.start()):this.restart(),t.didMount()},restart:function(){var e=this.polling;null!==e&&(e.off(P.Polling.UPDATE,this.update),e.on(P.Polling.UPDATE,this.update),e.setPolling(_.Length.interval))},update:function(){this.polling.off(P.Polling.UPDATE,this.update),this.model.start()},done:function(e){var t=e.count;(0,r["default"])(t)&&this.state.total!==t&&this.updateTotal(t),this.restart()},fail:function(){this.restart()},updateTotal:function(e){this.setState({total:e}),this.status.update(e)},updateUser:function(e,t){this.setState({icon:e,userName:t})}});this.reloadFlag&&(this.reloadFlag=!1,clearTimeout(this.timer),this.timer=setTimeout(this.boundReload,1e3)),null===this.component?this.component=N.render(R.createElement(n,{icon:e.profilePicture,userName:e.userName}),this.element):this.component.updateUser(e.profilePicture,e.userName)}}]),t}(y.ViewHeaderMember)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewHeaderSearch=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(145),m=n(107),g=n(147),y=n(146),v=n(94),E=self.Sagen,_=self.React,k=self.ReactDOM;t.SPViewHeaderSearch=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,e,i));return s._button=n,s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){k.render(_.createElement(y.HeaderSearchNode,{listen:!0,show:!1}),this.element);var e=_.createClass({displayName:"ButtonDom",propTypes:{body:_.PropTypes.object.isRequired},render:function(){return _.createElement("a",{className:"head-search-opener",href:"#",onClick:this.clickHandler},m.Message.OPENER_SEARCH)},componentDidMount:function(){this.open=!1,this.status=g.SearchStatus.factory(),this.y=0},clickHandler:function(e){e.preventDefault(),this.open?(this.open=!1,this.props.body.removeClass("search-form-open"),this.status.close(),this.restoreY(this.y)):(this.open=!0,this.y=v.Scroll.y,this.props.body.addClass("search-form-open"),this.status.open())},restoreY:function(e){0===v.Scroll.y&&v.Scroll.motion(e,.1,.025)}});k.render(_.createElement(e,{body:new E.Dom(document.body)}),this._button)}}]),t}(h.ViewHeaderSearch)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewSingle=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(210),m=n(85),g=n(100),y=n(226),v=(n(215),n(176)),E=n(432),_=n(434),k=n(438),S=self.ReactDOM;t.SPViewSingle=function(e){function t(e,n,i,s){var a=arguments.length<=4||void 0===arguments[4]?{}:arguments[4];(0,o["default"])(this,t);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,{related:null,footer:null},a));return l._visualElement=i,l._visual=null,l._bannerElement=s,l._singles=null,l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"singles",value:function n(e){if(null===this._singles){var t=m.Dom.singlesNext(),i=m.Dom.singlesMore();if(null!==t&&null!==i){var n=new k.SPViewSingles(this.id,t,i,e);this._singles=n,n.start()}}else this._singles.update()}},{key:"render",value:function(e){this.executeSafely(g.View.BEFORE_RENDER,e),this.renderHeader(e),this.renderVisual(e),this.renderBanner(e),v.Ga.single(e,"SPViewSingle.render"),h.ViewSingle.moreExternal()}},{key:"renderHeader",value:function(e){if(null===this.header){var t=new E.SPViewSingleHeader(this.element,e);t.on(g.View.DID_MOUNT,this.boundMount),this.header=t,t.start()}else this.header.render(e)}},{key:"renderVisual",value:function(e){if(null===this._visual){var t=new _.SPViewSingleVisual(this._visualElement,e);this._visual=t,t.start()}else this._visual.render(e)}},{key:"renderBanner",value:function(e){var t=this._bannerElement,n=y.Banner.sp(e,t);null!==n&&S.render(n,t)}}]),t}(h.ViewSingle)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewSingleHeader=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(214),m=n(67),g=(n(215),n(433)),y=self.ReactDOM;t.SPViewSingleHeader=function(e){function t(e,n){return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e,n))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){null===this.rendered?this.rendered=y.render(React.createElement(g.SPComponentSingleHeader,{single:e,sign:m.User.sign,callback:this.executeSafely.bind(this)}),this.element):this.rendered.updateSingle(e,m.User.sign)}}]),t}(h.ViewSingleHeader)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSingleHeader=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(223),g=n(220),y=self.React;t.SPComponentSingleHeader=function(e){function t(e){(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single,sign:e.sign,status:e.single.isBookmarked,bookmarked:e.single.isBookmarked?"bookmarked enable":"",loading:""},n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"componentWillMount",value:function(){this.props.callback(h.View.WILL_MOUNT)}},{key:"componentDidMount",value:function(){this.props.callback(h.View.DID_MOUNT)}},{key:"updateSingle",value:function(e,t){this.setState({single:e,sign:t})}},{key:"render",value:function(){var e=this.state.single;return y.createElement("div",{className:"sp-single-header"},y.createElement("div",{className:"post-heading post-heading-"+e.id},y.createElement("h1",null,e.title)),y.createElement("div",{className:"post-data"},y.createElement("div",{className:"f-left"},y.createElement("p",{className:"post-author"},e.user.userName),y.createElement(m.ComponentCategoryLabelsLink,{index:1,id:"single-label-"+e.id,categories:e.categories.all}),y.createElement("p",{className:"post-date"},e.displayDate)),y.createElement(g.BookmarkNode,{sign:this.state.sign,isBookmarked:this.state.status,articleId:String(e.id)})))}}],[{key:"propTypes",get:function(){return{single:y.PropTypes.object.isRequired,sign:y.PropTypes.bool.isRequired,callback:y.PropTypes.func.isRequired}}}]),t}(y.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewSingleVisual=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(214),m=(n(215),n(435)),g=self.ReactDOM;t.SPViewSingleVisual=function(e){function t(e,n){return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e,n))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){g.render(React.createElement(m.SPMediaNode,{articleId:String(e.id),mediaType:e.mediaType,media:e.media,isShowImage:e.isShowImage}),this.element)}}]),t}(h.ViewSingleHeader)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPMediaNode=void 0;var i=n(165),s=n(248),r=n(436),a=self.React;t.SPMediaNode=a.createClass({displayName:"SPMediaNode",propTypes:{articleId:a.PropTypes.string.isRequired,mediaType:a.PropTypes.string.isRequired,media:a.PropTypes.object.isRequired,isShowImage:a.PropTypes.bool.isRequired,index:a.PropTypes.number},getDefaultProps:function(){return{index:-1}},render:function(){var e=this.props.mediaType,t=this.props.media;return this.props.isShowImage?e===i.MediaType.IMAGE?a.createElement(s.MediaImageNode,{images:t.images}):e===i.MediaType.VIDEO?t.video&&(t.video.url||t.video.youtube||t.video.facebook)?a.createElement(r.SPMediaVideoNode,{articleId:this.props.articleId,media:t,index:this.props.index}):a.createElement(s.MediaImageNode,{images:t.images}):null:null}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPMediaVideoNode=void 0;var i=n(104),s=n(250),r=n(251),a=n(41),o=n(252),l=n(437),u=n(255),c=self.React;t.SPMediaVideoNode=c.createClass({displayName:"SPMediaVideoNode",propTypes:{articleId:c.PropTypes.string.isRequired,media:c.PropTypes.object.isRequired},render:function(){var e=this.props.media,t=e.video.type||e.video.player;switch(t){case s.VideoType.BRIGHTCOVE:return this.videojsima(e);case s.VideoType.VIDEOJSIMA:return this.videojsima(e);case s.VideoType.YOUTUBE:return this.youtube(e);case s.VideoType.FACEBOOK:return this.facebook(e);default:return null}},video:function d(e){var t=e.images,d=e.video,n=d.caption||"",s=a.Safety.image(t.medium,i.Empty.VIDEO_THUMBNAIL);return c.createElement(o.HTML5VideoNode,{video:d,poster:s,caption:n,playImage:i.Empty.VIDEO_PLAY})},videojsima:function(e){var t=e.images,n=e.video,s=n.caption||"",r=a.Safety.image(t.medium,i.Empty.VIDEO_THUMBNAIL);return this.props.index<0?c.createElement(l.VideojsImaNode,{articleId:this.props.articleId,video:n,poster:r,caption:s,playImage:i.Empty.VIDEO_PLAY}):c.createElement(u.ComponentVideojsImaSingles,{articleId:this.props.articleId,video:n,poster:r,caption:s,playImage:i.Empty.VIDEO_PLAY})},youtube:function(e){var t=e.video;return c.createElement("div",{className:"post-kv post-video-kv post-video-kv-yt"},c.createElement("img",{className:"yt-video-size",src:i.Empty.VIDEO_THUMBNAIL,alt:""}),c.createElement("iframe",{className:"yt-video",src:"https://www.youtube.com/embed/"+t.youtube+"?rel=0&amp;showinfo=0&amp;wmode=transparent",width:r.Content.WIDTH,height:r.Content.HD_HEIGHT,frameBorder:"0",allowFullScreen:!0}))},facebook:function(e){var t=e.video;return c.createElement("div",{className:"post-kv post-video-kv post-video-fb"},c.createElement("div",{className:"fb-video","data-href":t.facebook,"data-allowfullscreen":"true","data-width":r.Content.WIDTH}))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideojsImaNode=void 0;var i=n(251),s=(n(253),n(254),n(177)),r=n(176),a=self.Sagen,o=self.React,l=self.ReactDOM;t.VideojsImaNode=o.createClass({displayName:"VideojsImaNode",propTypes:{video:o.PropTypes.object.isRequired,poster:o.PropTypes.string.isRequired,caption:o.PropTypes.string.isRequired,playImage:o.PropTypes.string.isRequired,showPlay:o.PropTypes.bool},getDefaultProps:function(){return{showPlay:!0}},getInitialState:function(){return this.videoElement=null,this.phone=a.Browser.Mobile.phone(),{showPlay:this.props.showPlay,video:this.props.video}},render:function(){var e=this.props.video,t=this.props.poster,n=(this.props.caption,a.Browser.Mobile.is()?e.url.sd:e.url.hd),s=this.phone?window.innerWidth:i.Content.WIDTH,r=this.phone?Math.ceil(s/16*9):i.Content.HD_HEIGHT;return navigator.userAgent.match(/iPhone/i)?o.createElement("div",{className:"post-kv post-video-kv"},o.createElement("div",{id:"mainContainer"},o.createElement("video",{id:"content_video",className:"video-js vjs-default-skin vjs-big-play-centered",poster:t,width:s+"px",height:r+"px",ref:"video",controls:!0},o.createElement("source",{src:n,type:"application/x-mpegURL"})))):o.createElement("div",{id:"mainContainer"},o.createElement("video",{id:"content_video",className:"video-js vjs-default-skin vjs-big-play-centered",poster:t,width:s+"px",height:r+"px",ref:"video",controls:!0},o.createElement("source",{src:n,type:"application/x-mpegURL"})))},componentDidMount:function(){var e=this,t=a.Browser.Mobile.is()?this.props.video.adUrl.sp:this.props.video.adUrl.pc,n=""!==t?t+Date.now():"";if(navigator.userAgent.match(/iPhone/i)){var o;!function(){var t="content_video",i=videojs(t,{preload:"none"}),a={id:t,adTagUrl:n,nativeControlsForTouch:!1,showControlsForJSAds:!1};i.ima(a),document.querySelector("#"+t+"_ima-ad-container").setAttribute("style","z-index: 9 !important; position: absolute; display: block;"),document.querySelector("#"+t+"_ima-ad-container > div").setAttribute("style","display:none"),i.one("click",function(){i.ima.initializeAdDisplayContainer(),i.ima.requestAds(),i.play()});var l=e.props.video.url.sd;i.one("play",function(){var e=new s.GaData("SPComponentSinglesArticleMedia.tracking","video","begin",l);r.Ga.add(e)}),i.one("ended",function(){var e=new s.GaData("SPComponentSinglesArticleMedia.tracking","video","complete",l);r.Ga.add(e)}),o=document.getElementById(t),window.addEventListener("scroll",function(){var e=window.innerWidth,t=Math.ceil(e/16*9),n=o.getBoundingClientRect().top,s=o.getBoundingClientRect().bottom,r=n>=-t&&s<=window.innerHeight+t;r||(i.pause(),i.ima.pauseAd())},!1)}()}else{var o,u;!function(){var t=l.findDOMNode(e.refs.video);e.videoElement=t,t.addEventListener("play",e.onPlay),t.addEventListener("ended",e.onEnded),t.addEventListener("pause",e.onPause);var s=videojs("content_video",{preload:"none"}),r={id:"content_video",adTagUrl:n};if(s.ima(r),document.querySelector("#content_video_ima-ad-container").setAttribute("style","z-index: 9 !important; position: absolute;"),s.on("play",function(){document.querySelector(".vjs-big-play-button").setAttribute("style","display:none !important")}),a.Browser.Mobile.is())if(navigator.userAgent.match(/iPad/i)){var c=document.querySelector("#content_video_html5_api");e.videoElement=c,c.addEventListener("play",e.onPlay),c.addEventListener("ended",e.onEnded),c.addEventListener("pause",e.onPause),s.ima.initializeAdDisplayContainer(),s.one("click",function(){s.ima.initializeAdDisplayContainer(),s.ima.requestAds();var e=document.getElementById("content_video_ima-ad-container");e.setAttribute("style","z-index: -1; position: absolute;"),s.play()})}else s.one("click",function(){s.ima.initializeAdDisplayContainer(),s.ima.requestAds(),s.play()});else document.querySelector(".vjs-big-play-button").setAttribute("style","display:none !important;"),s.ima.initializeAdDisplayContainer(),s.ima.requestAds(),s.play();o=document.getElementById("content_video"),u=!1,window.addEventListener("scroll",function(){if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/Android/i))var e=window.innerWidth,t=Math.ceil(e/16*9);else var t=parseInt(i.Content.HD_HEIGHT,10);var n=o.getBoundingClientRect().top,r=o.getBoundingClientRect().bottom,a=n>=-t&&r<=window.innerHeight+t;a&&u===!1&&(u=!0),!a&&u&&(s.pause(),s.ima.pauseAd())},!1)}()}},componentWillUnMount:function(){var e=this.videoElement;e.removeEventListener("ended",this.onEnded),e.removeEventListener("pause",this.onPause)},onPlay:function(){this.playing||(this.playing=!0,this.tracking("begin"))},onEnded:function(){this.playing&&(this.playing=!1,this.tracking("complete")),this.setState({showPlay:!0})},onPause:function(){},tracking:function(e){var t=this.props.video,n=a.Browser.Mobile.is()?t.url.sd:t.url.hd,i=new s.GaData("VideojsImaNode.tracking","video",e,n);r.Ga.add(i)}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewSingles=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(412),g=n(229),y=n(230),v=n(67),E=n(107),_=n(215),k=n(439),S=self.ReactDOM,b=self.React;t.SPViewSingles=function(e){function t(e,n,i,s){var a=arguments.length<=4||void 0===arguments[4]?{}:arguments[4];(0,o["default"])(this,t);var l=(0,d["default"])(this,(0,r["default"])(t).call(this,n,i,s,a));l.articleRendered=null;var u=l.done.bind(l),c=l.fail.bind(l);return l.action=v.User.sign?new y.SinglesAuth(e,u,c):new g.Singles(e,u,c),l.single=s,l.id=e,l.request={offset:0,length:0},l.articleRendered=null,l._articles=[],l}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"done",value:function(e){var t=e.articles;if(Array.isArray(t)&&"undefined"!=typeof t)if(0===t.length){var n=new Error(E.Message.empty("[ARCHIVE:EMPTY]"));this.executeSafely(h.View.EMPTY_ERROR,n)}else{var i=e.request;i.length||(i.length=this.action.length),this.request=i,this.render(t)}else{var s=new Error(E.Message.undef("[ARCHIVE:UNDEFINED]"));this.executeSafely(h.View.UNDEFINED_ERROR,s)}}},{key:"fail",value:function(e){this.executeSafely(h.View.RESPONSE_ERROR,e),console.warn("SPViewSingles.fail",e),this.moreButton(!1)}},{key:"render",value:function(e){var t=this.articles,n=this.articles.length;e.forEach(function(e,i){var s=new _.SingleDae(e);s.index=n+i,t.push(s)}),S.render(b.createElement(k.SPComponentSingles,{list:t,home:!1,offset:this.request.offset,length:this.request.length,action:this.action,callback:this.boundSafely,boundMore:this.boundMore,single:this.single,sign:v.User.sign}),this.element)}},{key:"articlesList",get:function(){return this._articles}}]),t}(m.SPViewArchiveInfinite)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSingles=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(100),m=n(232),g=n(440),y=n(447),v=n(244),E=n(262),_=self.React;t.SPComponentSingles=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={list:e.list,offset:e.offset,length:e.length},n.manager=v.SinglesManager.factory(e.single),n.offset=0,n.timer=0,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{list:_.PropTypes.array.isRequired,offset:_.PropTypes.number.isRequired,length:_.PropTypes.number.isRequired,action:_.PropTypes.object.isRequired,callback:_.PropTypes.func.isRequired,boundMore:_.PropTypes.func.isRequired,single:_.PropTypes.object.isRequired,home:_.PropTypes.bool.isRequired,sign:_.PropTypes.bool.isRequired}}}]),(0,d["default"])(t,[{key:"underThree",value:function(){var e=arguments.length<=0||void 0===arguments[0]?9:arguments[0],t=this.props.single,n=!0,i=this.props.sign;return _.createElement("div",{className:"singles-root-under3"},_.createElement(g.SPComponentSinglesWidget,{index:e,single:t,type:m.WidgetType.RECOMMEND,strong:n,sign:i}),_.createElement(g.SPComponentSinglesWidget,{index:e+1,single:t,type:m.WidgetType.RELATED,strong:n,sign:i}),_.createElement(g.SPComponentSinglesWidget,{index:e+2,single:t,type:m.WidgetType.POPULAR,strong:n,sign:i}))}},{key:"next",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(!t){var n=e+1;if(n%3!==0)return null}var i=this.props.single,s=this.props.sign,r=this.manager.next();switch(r){case m.WidgetType.RECOMMEND:return _.createElement(g.SPComponentSinglesWidget,{index:e,single:i,type:m.WidgetType.RECOMMEND,strong:t,sign:s});case m.WidgetType.RELATED:return _.createElement(g.SPComponentSinglesWidget,{index:e,single:i,type:m.WidgetType.RELATED,strong:t,sign:s});case m.WidgetType.POPULAR:return _.createElement(g.SPComponentSinglesWidget,{index:e,single:i,type:m.WidgetType.POPULAR,strong:t,sign:s});default:return null}}},{key:"widget",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return _.createElement(g.SPComponentSinglesWidget,{index:t,single:this.props.single,type:e,strong:n,sign:this.props.sign})}},{key:"reload",value:function(){var e=this.state;this.updateList(e.list,e.offset,e.length)}},{key:"delayMore",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?.5:arguments[0];clearTimeout(this.timer),this.timer=setTimeout(function(){e.props.boundMore(e.props.action.hasNext())},1e3*t)}},{key:"componentDidMount",value:function(){this.props.callback(h.View.DID_MOUNT),this.props.boundMore(this.props.action.hasNext()),E.Fb.delay(100)}},{key:"componentWillReceiveProps",value:function(e){e.offset!==this.offset&&(this.offset=e.offset,this.setState({offset:e.offset,list:e.list,length:e.length}),this.delayMore())}},{key:"render",value:function(){var e=this,t=this.props,n=this.state,i=n.list,s=i.length;return 0===s?_.createElement("div",{className:"singles-root"},this.underThree(s)):3>s?_.createElement("div",{className:"singles-root"},i.map(function(e,n){return _.createElement(y.SPComponentSinglesArticleMagnet,{key:"singles-article-"+e.id,single:e,sign:t.sign,index:n})}),this.underThree(s)):6>s?_.createElement("div",{className:"singles-root"},i.map(function(n,i){return _.createElement("div",{key:"single-root-"+n.id,className:"singles-root-article singles-root-article-under6"},_.createElement(y.SPComponentSinglesArticleMagnet,{key:"singles-article-"+n.id,single:n,sign:t.sign,index:i}),e.next(i))}),this.next(s,!0),this.next(s+1,this.manager.count<3)):9>s?_.createElement("div",{className:"singles-root"},i.map(function(n,i){return _.createElement("div",{key:"single-root-"+n.id,className:"singles-root-article singles-root-article-under9"},_.createElement(y.SPComponentSinglesArticleMagnet,{key:"singles-article-"+n.id,single:n,sign:t.sign,index:i}),e.next(i))}),this.next(s,this.manager.count<3)):_.createElement("div",{className:"singles-root"},i.map(function(n,i){return _.createElement("div",{key:"single-root-"+n.id,className:"singles-root-article"},_.createElement(y.SPComponentSinglesArticleMagnet,{key:"singles-article-"+n.id,single:n,sign:t.sign,index:i}),e.next(i))}))}}]),t}(_.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSinglesWidget=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(232),m=n(441),g=n(443),y=n(446),v=self.React;t.SPComponentSinglesWidget=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={index:e.index,single:e.single,type:e.type,strong:e.strong,sign:e.sign},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{index:v.PropTypes.number.isRequired,single:v.PropTypes.object.isRequired,type:v.PropTypes.string.isRequired,strong:v.PropTypes.bool.isRequired,sign:v.PropTypes.bool.isRequired}}}]),(0,d["default"])(t,[{key:"recommend",value:function(){return v.createElement(m.SPComponentSinglesWidgetRecommend,{index:this.state.index,single:this.state.single,strong:this.state.strong,sign:this.state.sign})}},{key:"related",value:function(){var e=this.state.single.categories,t=e.categories.some(function(e){return"big6tv"===e.slug});return t?null:v.createElement(y.SPComponentSinglesWidgetRelated,{index:this.state.index,strong:this.state.strong})}},{key:"popular",value:function(){return v.createElement(g.SPComponentSinglesWidgetPopular,{index:this.state.index,strong:this.state.strong,sign:this.state.sign})}},{key:"render",value:function(){switch(this.state.type){case h.WidgetType.RECOMMEND:return this.recommend();case h.WidgetType.RELATED:return this.related();case h.WidgetType.POPULAR:default:return this.popular()}}}]),t}(v.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSinglesWidgetRecommend=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(107),m=n(104),g=n(41),y=n(213),v=n(164),E=n(442),_=self.React;t.SPComponentSinglesWidgetRecommend=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single,index:e.index},n.element=null,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{index:_.PropTypes.number.isRequired,single:_.PropTypes.object.isRequired,strong:_.PropTypes.bool.isRequired,sign:_.PropTypes.bool.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){if(null!==this.element){var e=new E.SPSnap(this.element);e.init()}}},{key:"build",value:function(){var e=this,t=this.state.single.recommendArticles;return Array.isArray(t)&&0!==t.length?_.createElement("div",{className:"widget-postList widget-postList_recommend-"+this.props.index+" widget-postList_recommend",ref:function(t){e.element=t}},_.createElement("div",{className:"mod-headingA01"},_.createElement("h2",null,h.Message.RECOMMEND_TITLE)),_.createElement("div",{className:"board"},t.map(function(e,t){var n=g.Safety.image(e.media.images.medium,m.Empty.IMG_MIDDLE);return _.createElement("div",{key:"singles-recommend-"+e.id,className:"board-item"},_.createElement("a",{href:e.url,className:"post"},_.createElement(v.ComponentArticleThumbnail,{mediaType:e.mediaType,thumbnail:n,title:e.title,recommend:!1,small:!0}),_.createElement("div",{className:"post-data"},_.createElement("h3",{className:"post-heading"},e.title),_.createElement(y.ComponentCategoryLabels,{index:t,id:"single-recommend-label-"+e.id,categories:e.categories.all}),_.createElement("p",{className:"post-date"},e.displayDate))))}))):null}},{key:"updateSingle",value:function(e){this.setState({single:e})}},{key:"reload",value:function(){this.updateSingle(this.state.single)}},{key:"render",value:function(){var e=this.state.single.recommendArticles;if(0===e.length)return null;var t=this.props;if(t.strong)return this.build();var n=this.state.index+1;return 3!==n?null:this.build()}}]),t}(_.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPSnap=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(235),m=n(193);t.SPSnap=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];(0,o["default"])(this,t);var s=(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,i));return s.sticky=new m.Elements(document.querySelector("div.header-sticky")),s}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"scrollOffset",value:function(){var e=this.sticky.offset(),t=parseInt(this.elements.style.get("border-top-width"),10);return e.height-t}}]),t}(h.Snap)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSinglesWidgetPopular=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(444),m=n(244),g=n(442),y=self.React;t.SPComponentSinglesWidgetPopular=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.view=null,n.manager=m.SinglesManager.factory(),n.id="",n.popular=null,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{
index:y.PropTypes.number.isRequired,strong:y.PropTypes.bool.isRequired,sign:y.PropTypes.bool.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){if(null===this.view&&this.refs.popular){var e=this.manager.request,t=e.offset,n=new h.SPViewSinglesPopular(this.refs.popular,this.props.sign,t);this.view=n,n.start(),this.manager.up(),this.onMount()}}},{key:"onMount",value:function(){var e=new g.SPSnap(this.refs.popular);e.init()}},{key:"reload",value:function(){this.view&&this.view.reload&&this.view.reload()}},{key:"build",value:function(){var e="singles-popular-containers-"+this.props.index;return this.id=e,y.createElement("div",{id:e,className:"singles-popular-containers singles-popular-containers-"+this.props.index,ref:"popular"})}},{key:"render",value:function(){var e=this.props;if(e.strong)return this.build();var t=e.index+1;return t%3!==0?null:this.build()}}]),t}(y.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewSinglesPopular=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(413),m=n(67),g=n(154),y=n(150),v=n(152),E=n(445),_=self.ReactDOM;t.SPViewSinglesPopular=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?m.User.sign:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],s=arguments.length<=3||void 0===arguments[3]?6:arguments[3];(0,o["default"])(this,t);var a=(0,d["default"])(this,(0,r["default"])(t).call(this,e,null)),l="all",u="",c=a.done.bind(a),f=a.fail.bind(a);return a.slug=l,a.type=u,a.resolve=c,a.reject=f,a.offset=i,a.length=s,a.request=null,a.action=n?new v.CategoryAuth(l,u,c,f,i,s):new y.Category(l,u,c,f,i,s),a.articleRendered=null,a.articles=[],a}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){var t=e.map(function(e){return new g.ArticleDae(e)});this.articles=t,null===this.articleRendered?this.articleRendered=_.render(React.createElement(E.SPComponentSinglesWidgetPopularList,{list:t,callback:this.executeSafely.bind(this)}),this.element):this.articleRendered.updateList(t,this.request.offset,this.request.length)}},{key:"reload",value:function(){var e=this.articleRendered;return null===e?!1:(e.reload(),!0)}}]),t}(h.SPViewArchive)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSinglesWidgetPopularList=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(107),m=n(104),g=n(41),y=n(213),v=n(164),E=self.React;t.SPComponentSinglesWidgetPopularList=function(e){function t(e){(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.state={list:e.list},n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(){var e=this.state.list;return Array.isArray(e)&&0!==e.length?E.createElement("div",{className:"widget-postList widget-postList_popular"},E.createElement("div",{className:"mod-headingA01"},E.createElement("h2",null,h.Message.RANKING_TITLE)),E.createElement("div",{className:"board"},e.map(function(e,t){var n=g.Safety.image(e.media.images.medium,m.Empty.IMG_MIDDLE);return E.createElement("div",{key:"singles-popular-"+e.id,className:"board-item"},E.createElement("a",{href:e.url,className:"post"},E.createElement(v.ComponentArticleThumbnail,{mediaType:e.mediaType,thumbnail:n,title:e.title,recommend:!1,small:!0}),E.createElement("div",{className:"post-data"},E.createElement("h3",{className:"post-heading"},e.title),E.createElement(y.ComponentCategoryLabels,{index:t,id:"single-popular-label-"+e.id,categories:e.categories.all}),E.createElement("p",{className:"post-date"},e.displayDate))))}))):null}},{key:"updateList",value:function(e){this.setState({list:e})}},{key:"reload",value:function(){this.updateList(this.state.list)}}],[{key:"propTypes",get:function(){return{list:E.PropTypes.array.isRequired}}}]),t}(E.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSinglesWidgetRelated=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(92),m=n(442),g=self.React;t.SPComponentSinglesWidgetRelated=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={index:e.index},n.target=null,n.related=null,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"insert",value:function(e){e.innerHTML="";var t=document.createElement("div"),n=document.createElement("script");n.src=h.Url.synExtension();var i=document.createElement("script");i.src=h.Url.soDmp(),t.appendChild(n),t.appendChild(i),e.appendChild(t)}},{key:"propTypes",get:function(){return{index:g.PropTypes.number.isRequired,strong:g.PropTypes.bool.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){if(this.related&&t.insert(this.related),this.target){var e=new m.SPSnap(this.target);e.init()}}},{key:"updateIndex",value:function(e){this.setState({index:e})}},{key:"reload",value:function(){this.updateIndex(this.state.index)}},{key:"build",value:function(){var e=this;return g.createElement("div",{className:"singles-recommend-containers singles-recommend-containers-"+this.props.index},g.createElement("div",{id:"logly-lift-4247222",className:"recommend_articles",ref:function(t){e.target=t}}),g.createElement("div",{className:"singles-related-scripts",ref:function(t){e.related=t}}))}},{key:"render",value:function(){var e=this.props;if(e.strong)return this.build();var t=e.index+1;return t%3!==0?null:this.build()}}]),t}(g.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSinglesArticleMagnet=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(435),m=n(220),g=n(223),y=n(236),v=n(176),E=n(302),_=n(314),k=n(235),S=n(448),b=n(315),T=n(300),P=self.React;t.SPComponentSinglesArticleMagnet=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));n.state={single:e.single,sign:e.sign,index:e.index},n.hit=null,n.boundIn=n.hitIn.bind(n),n.sendGa=!1,n.boundOut=n.hitOut.bind(n),n.waiting=!1,n.timer=0,n.manager=E.SinglesHistory.factory(),n.page=new _.Page(e.single),n.singlesArticle=null,n.id="SPComponentSinglesArticleMagnet-"+e.single.id;var i=T.RecordSingleState.restore(n.id);return i&&(n.sendGa=i),n.snap=null,n.boundSnap=n.onSnap.bind(n),n.boundBeat=n.onBeat.bind(n),n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:P.PropTypes.object.isRequired,sign:P.PropTypes.bool.isRequired,index:P.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"updateSingle",value:function(e){this.setState({single:e})}},{key:"updateSign",value:function(e){this.setState({sign:e})}},{key:"reload",value:function(){this.updateSingle(this.state.single)}},{key:"hitIn",value:function(e){var t=e.rect,n=t.top;Math.abs(n)<=50&&this.reserve()}},{key:"hitOut",value:function(){this.cancel()}},{key:"reserve",value:function(){var e=this;this.sendGa||this.waiting||(this.waiting=!0,this.timer=setTimeout(function(){e.ga()},2e3))}},{key:"cancel",value:function(){this.waiting&&(clearTimeout(this.timer),this.waiting=!1)}},{key:"ga",value:function(){if(!this.sendGa){this.sendGa=!0;var e=this.state.single;v.Ga.single(e,"SPComponentSinglesArticleMagnet.ga single: "+e.id);var t=new b.PageTitle(e.title,e.categories.label);v.Ga.addPage(e.id,"SPComponentSinglesArticleMagnet.ga addPage: "+e.id,t.title()),this.cancelHit()}}},{key:"cancelHit",value:function(){var e=this.hit;null!==e&&(e.off(y.Hit.COLLISION,this.boundIn),e.off(y.Hit.NO_COLLISION,this.boundOut))}},{key:"onSnap",value:function(){this.manager.hit(this.page),this.reserve()}},{key:"onBeat",value:function(){this.manager.hit(this.page)}},{key:"dispose",value:function(){var e=this.snap;e&&(e.off(k.Snap.SNAPPED,this.boundSnap),e.off(k.Snap.BEAT_UP,this.boundBeat),e.stop());var t=this.hit;t&&(t.off(y.Hit.COLLISION,this.boundIn),t.off(y.Hit.NO_COLLISION,this.boundOut),t.stop()),this.cancel()}},{key:"componentDidMount",value:function(){var e=this.singlesArticle;if(null===this.hit&&null!==e){var t=new k.Snap(this.singlesArticle,!1,this.page,!0);if(this.snap=t,t.on(k.Snap.SNAPPED,this.boundSnap),t.on(k.Snap.BEAT_UP,this.boundBeat),t.start(),!this.sendGa){var n=new y.Hit(e);this.hit=n,n.on(y.Hit.COLLISION,this.boundIn),n.on(y.Hit.NO_COLLISION,this.boundOut),n.start()}}}},{key:"componentWillUnmount",value:function(){T.RecordSingleState.store(this.id,this.sendGa),this.dispose()}},{key:"render",value:function(){var e=this,t=this.state.single;return t?P.createElement("div",{className:"loaded-post loaded-post-"+t.id,ref:function(t){e.singlesArticle=t}},P.createElement("div",{className:"single-visual-container",ref:"visualElement"},P.createElement(h.SPMediaNode,{articleId:String(t.id),mediaType:t.mediaType,media:t.media,isShowImage:t.isShowImage,index:this.state.index})),P.createElement("div",{className:"post-detail"},P.createElement("div",{className:"post-heading post-heading-"+t.id},P.createElement("h1",null,t.title)),P.createElement("div",{className:"post-data"},P.createElement("p",{className:"post-author"},t.user.userName),P.createElement(g.ComponentCategoryLabelsLink,{index:this.props.index,id:"single-label-"+t.id,categories:t.categories.all}),P.createElement("p",{className:"post-date"},t.displayDate),P.createElement(m.BookmarkNode,{sign:this.state.sign,isBookmarked:t.isBookmarked,articleId:String(t.id)})),P.createElement(S.SPComponentSinglesArticleSwitch,{single:t,sign:this.state.sign,index:this.state.index,page:this.page}))):null}}]),t}(P.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSinglesArticleSwitch=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(107),m=n(258),g=n(265),y=n(449),v=n(451),E=n(94),_=n(301),k=n(302),S=n(300),b=self.React;t.SPComponentSinglesArticleSwitch=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));n.state={single:e.single,index:e.index,sign:e.sign,excerpt:!0},n.boundClick=n.validateClick.bind(n),n.y=0,n.external=_.Validate.include(e.single.body,'<video data-video-id="'),n.manager=k.SinglesHistory.factory(),n.id="SPComponentSinglesArticleSwitch-"+e.single.id;var i=S.RecordSingleState.restore(n.id);return i&&(n.state=i),n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:b.PropTypes.object.isRequired,sign:b.PropTypes.bool.isRequired,index:b.PropTypes.number.isRequired,page:b.PropTypes.object.isRequired}}}]),(0,d["default"])(t,[{key:"validateClick",value:function(e){this.anchorClick(e)}},{key:"anchorClick",value:function(e){e.preventDefault();var t=E.Scroll.y;this.setState({excerpt:!1}),E.Scroll.motion(t,.1,.25)}},{key:"opened",value:function(){var e=this.state.single;return b.createElement("div",{className:"js-root"},b.createElement(m.ComponentSinglesArticleExcerpt,{single:e,index:this.state.index}),b.createElement(g.ComponentSingleSNS,{single:e,zi:!0,index:this.state.index}))}},{key:"excerpt",value:function(){var e=this.state.single,t="_self";return b.createElement("div",{className:"js-root"},b.createElement(m.ComponentSinglesArticleExcerpt,{single:e,index:this.state.index}),b.createElement(v.SPComponentSinglesSNSBelow,{single:e,index:this.state.index}),b.createElement("div",{className:"post-content-read-more"},b.createElement("a",{href:e.url,className:"post-content-btn-readMore",onClick:this.boundClick,target:t},h.Message.READ_MORE)))}},{key:"content",value:function(){return b.createElement(y.SPComponentSingleContent,{single:this.state.single,sign:this.state.sign,index:this.state.index})}},{key:"componentWillUnmount",value:function(){S.RecordSingleState.store(this.id,this.state)}},{key:"render",value:function(){return this.state.opened?this.opened():this.state.excerpt?this.excerpt():this.content()}}]),t}(b.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSingleContent=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(450),m=n(451),g=n(452),y=n(260),v=n(299),E=n(225),_=self.React;t.SPComponentSingleContent=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single,sign:e.sign,index:e.index},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:_.PropTypes.object.isRequired,sign:_.PropTypes.bool.isRequired,index:_.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"render",value:function(){var e=this.state.single,t=this.state.index;return _.createElement("div",{className:"singles-content singles-content-"+t},_.createElement(h.SPComponentSinglesSNSAbove,{single:e,index:t}),_.createElement(y.ComponentSinglePost,{single:e,index:t,sp:!0}),_.createElement(v.ComponentSingleProvider,{single:e,index:t}),_.createElement(E.ComponentSingleFooter,{single:e,callback:function(){}}),_.createElement(m.SPComponentSinglesSNSBelow,{single:e,index:t}),_.createElement(g.SPComponentSingleComments,{single:e,index:t,sign:this.state.sign}))}}]),t}(_.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSinglesSNSAbove=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(266),m=self.React;t.SPComponentSinglesSNSAbove=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:m.PropTypes.object.isRequired,index:m.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"updateSingle",value:function(e){this.setState({single:e})}},{key:"render",value:function(){var e=this.state.single,t=e.url;if(!t)return null;var n=e.title;return m.createElement("div",{className:"post-sns_upper"},m.createElement("ul",{className:"post-sns-list"},m.createElement("li",{className:"post-sns-item post-sns-item_fb"},m.createElement("a",{href:"http://www.facebook.com/share.php?u="+t+"&t="+n,target:"_blank"},m.createElement("span",null,h.MessageSNS.FACEBOOK))),m.createElement("li",{className:"post-sns-item post-sns-item_tw"},m.createElement("a",{href:"http://twitter.com/share?text="+encodeURIComponent(n)+"&url="+t+"&via="+h.MessageSNS.VIA,target:"_blank"},m.createElement("span",null,h.MessageSNS.TWEET))),m.createElement("li",{className:"post-sns-item post-sns-item_gt"},m.createElement("a",{href:"https://plus.google.com/share?url="+t,target:"_blank"},m.createElement("span",null,h.MessageSNS.GOOGLE_PLUS))),m.createElement("li",{className:"post-sns-item post-sns-item_line"},m.createElement("a",{href:"http://line.me/R/msg/text/?"+encodeURIComponent(n+" "+t),target:"_blank"},m.createElement("span",null,h.MessageSNS.SEND_LINE)))))}}]),t}(m.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSinglesSNSBelow=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(266),m=self.React;t.SPComponentSinglesSNSBelow=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:m.PropTypes.object.isRequired,index:m.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"updateSingle",value:function(e){this.setState({single:e})}},{key:"render",value:function(){var e=this.state.single,t=e.url;if(!t)return null;var n=e.title;return m.createElement("div",{className:"post-sns_lower post-sns_lower-"+e.id},m.createElement("div",{className:"post-sns-list"},m.createElement("div",{className:"post-sns-fixed"},m.createElement("div",{className:"post-sns-item_fbgood"},m.createElement("div",{className:"fb-like","data-href":t,"data-layout":"box_count","data-action":"like","data-show-faces":"false","data-share":"false"}))),m.createElement("div",{className:"post-sns-flex"},m.createElement("div",{className:"post-sns-flex-inner"},m.createElement("ul",{className:"post-sns-flex-list"},m.createElement("li",{className:"post-sns-item post-sns-item_fb"},m.createElement("a",{href:"http://www.facebook.com/share.php?u="+t+"&t="+n,target:"_blank"},m.createElement("span",null,h.MessageSNS.FACEBOOK))),m.createElement("li",{className:"post-sns-item post-sns-item_tw"},m.createElement("a",{href:"http://twitter.com/share?text="+encodeURIComponent(n)+"&url="+t+"&via="+h.MessageSNS.VIA,target:"_blank"},m.createElement("span",null,h.MessageSNS.TWEET))),m.createElement("li",{className:"post-sns-item post-sns-item_gt"},m.createElement("a",{href:"https://plus.google.com/share?url="+t,target:"_blank"},m.createElement("span",null,h.MessageSNS.GOOGLE_PLUS))),m.createElement("li",{className:"post-sns-item post-sns-item_line"},m.createElement("a",{href:"http://line.me/R/msg/text/?"+encodeURIComponent(n+" "+t),target:"_blank"},m.createElement("span",null,h.MessageSNS.SEND_LINE))))))),m.createElement("div",{className:"post-sns-pr"},m.createElement("dl",{className:"post-sns-pr-inner"},m.createElement("dt",null,m.createElement("span",null,"いいねして最新ニュースをチェック！")),m.createElement("dd",null,m.createElement("div",{className:"fb-like","data-href":"https://www.facebook.com/sportsbull/","data-layout":"box_count","data-action":"like","data-show-faces":"false","data-share":"false"})))))}}]),t}(m.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSingleComments=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=n(453),m=n(456),g=n(67),y=n(84),v=n(459),E=self.React;t.SPComponentSingleComments=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={single:e.single,sign:e.sign,index:e.index},n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{single:E.PropTypes.object.isRequired,sign:E.PropTypes.bool.isRequired,index:E.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){this.state.sign&&this.start()}},{key:"start",value:function(){var e=this,t=g.User.info();return null===t?void setTimeout(function(){return e.start()},25):(this.mine(t),this.official(t),this.normal(t),void this.form(t))}},{key:"mine",value:function(e){var t=new m.SPViewComments(this.state.single.id,this.refs.commentSelf,y.CommentsType.SELF);t.user=e,t.start()}},{key:"official",value:function(e){var t=new m.SPViewComments(this.state.single.id,this.refs.commentOfficial,y.CommentsType.OFFICIAL);t.user=e,t.start()}},{key:"normal",value:function(e){var t=new m.SPViewComments(this.state.single.id,this.refs.commentNormal,y.CommentsType.NORMAL);t.user=e,t.start()}},{key:"form",value:function(e){var t=new h.SPViewCommentForm(this.refs.commentForm,this.state.single.id,e.profilePicture);t.start()}},{key:"render",value:function(){return this.state.sign?E.createElement("div",{className:"comment comment-"+this.state.single.id},E.createElement("div",{className:"comment-self-container",ref:"commentSelf"}),E.createElement("div",{className:"comment-official-container",ref:"commentOfficial"}),E.createElement("div",{className:"comment-normal-container",ref:"commentNormal"}),E.createElement(v.SPComponentSinglesAdBelow,{ad:this.state.single.ad,index:this.state.index}),E.createElement("div",{className:"comment-form-container",ref:"commentForm"})):null}}]),t}(E.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewCommentForm=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(269),m=n(67),g=n(84),y=n(107),v=n(92),E=n(454),_=self.React,k=self.ReactDOM;t.SPViewCommentForm=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?"":arguments[2];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,i))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){var t=_.createClass({displayName:"SPCommentFormOpenerDom",propTypes:{uniqueId:_.PropTypes.string.isRequired,toggle:_.PropTypes.string.isRequired,icon:_.PropTypes.string.isRequired,articleId:_.PropTypes.string.isRequired,sign:_.PropTypes.bool.isRequired,independent:_.PropTypes.bool.isRequired,parent:_.PropTypes.bool.isRequired,commentType:_.PropTypes.string.isRequired,url:_.PropTypes.string.isRequired},getInitialState:function(){return{open:!1}},render:function(){return this.props.sign?this.state.open?_.createElement(E.SPCommentFormNode,{uniqueId:this.props.uniqueId,toggle:this.props.toggle,icon:this.props.icon,articleId:this.props.articleId,sign:this.props.sign,independent:this.props.independent,parent:this.props.parent,commentType:this.props.commentType,url:this.props.url}):_.createElement("div",{className:"comment-form-opener"},_.createElement("a",{className:"comment-form-opener-trigger",href:"#",onClick:this.openerClick},y.Message.COMMENT_SUBMIT)):_.createElement("div",{className:"comment-form-opener"},_.createElement("a",{className:"comment-form-opener-trigger",href:v.Url.login()},y.Message.COMMENT_SUBMIT))},openerClick:function(e){e.preventDefault(),this.setState({open:!0})}});k.render(_.createElement(t,{uniqueId:"comment-to-"+g.CommentsType.INDEPENDENT+"-"+e,toggle:"open",icon:this._icon,articleId:e,sign:m.User.sign,independent:!0,parent:!1,commentType:g.CommentsType.INDEPENDENT,url:""}),this.element)}}]),t}(h.ViewCommentForm)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPCommentFormNode=void 0;var i=n(271),s=n(455),r=self.React;t.SPCommentFormNode=r.createClass({displayName:"SPCommentFormNode",propTypes:{uniqueId:r.PropTypes.string.isRequired,articleId:r.PropTypes.string.isRequired,sign:r.PropTypes.bool.isRequired,commentType:r.PropTypes.string.isRequired,url:r.PropTypes.string.isRequired,toggle:r.PropTypes.string,icon:r.PropTypes.string,commentId:r.PropTypes.string,commentCount:r.PropTypes.number,parent:r.PropTypes.bool,independent:r.PropTypes.bool},getDefaultProps:function(){return{toggle:"close",icon:"",commentId:"",commentCount:0,parent:!1,independent:!1}},getInitialState:function(){return this.replyStatus=null,{loading:"",body:""}},render:function(){var e=this.props.sign;if(!e||!this.props.parent&&!this.props.independent)return this.props.parent?r.createElement("div",{className:"comment-respond"}):null;var t=this.props.toggle;this.props.independent&&(t="open");var n="コメント",a="",o=n+"へ返信";if(this.props.commentCount>0&&(a=n+" ("+this.props.commentCount+")",o=o+" ("+this.props.commentCount+")"),e){var l=this.props.independent?"comment-form":"comment-respond";return r.createElement("div",{className:l+" comment-root"},r.createElement(i.CommentFormOpenerNode,{uniqueId:this.props.uniqueId,independent:this.props.independent,staticMessage:a,actionMessage:o,callback:this.openerClick}),r.createElement(s.SPCommentFormElementNode,{uniqueId:this.props.uniqueId,toggle:t,open:"open"===t,independent:this.props.independent,icon:this.props.icon,articleId:this.props.articleId,commentId:this.props.commentId,commentType:this.props.commentType,url:this.props.url}))}return""!==a?r.createElement("div",{className:"comment-respond"},r.createElement("p",{className:"comment-respond-opener"},r.createElement("span",null,a))):null},bodyChange:function(e){this.setState({body:e.target.value})},openerClick:function(){}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPCommentFormElementNode=void 0;var i=n(104),s=n(274),r=n(107),a=n(275),o=n(148),l=n(41),u=n(272),c=n(143),d=n(277),f=n(279),p=n(99),h=n(281),m=n(91),g=n(176),y=n(177),v=self.React,E=self.ReactDOM;t.SPCommentFormElementNode=v.createClass({displayName:"SPCommentFormElementNode",propTypes:{uniqueId:v.PropTypes.string.isRequired,toggle:v.PropTypes.string.isRequired,open:v.PropTypes.bool.isRequired,independent:v.PropTypes.bool.isRequired,icon:v.PropTypes.string.isRequired,articleId:v.PropTypes.string.isRequired,commentId:v.PropTypes.string,commentType:v.PropTypes.string.isRequired,url:v.PropTypes.string.isRequired},getDefaultProps:function(){return{commentId:""}},getInitialState:function(){return this.comment=null,this.replyStatus=null,this.commentStatus=null,this.mounted=!1,this.errors={body:new o.ErrorMessage},{error:!1,loading:"",body:"",open:this.props.open}},render:function(){var e=this;if(!this.props.independent){var t=this.props.commentId;if(!t||"0"===t)throw new Error("need comment Id "+t)}if(this.state.open||this.props.independent){var n=l.Safety.image(this.props.icon,i.Empty.USER_EMPTY),s=l.Safety.same(n,i.Empty.USER_EMPTY),a=function(t){return e.errors[t].error?"error":""},o=function(t){return e.errors[t].message},u=this.props.independent?"":"comment-form ";return v.createElement("div",{className:u+"form-root loading-root "+this.state.loading},v.createElement("form",{onSubmit:this.onSubmit,ref:"form"},v.createElement("div",{className:"comment-form-inner"},v.createElement("i",{className:"comment-form-user "+s},v.createElement("img",{src:i.Empty.refresh(n),alt:""})),v.createElement("div",{className:"comment-form-comment-outer"},v.createElement("div",{className:"comment-form-comment-inner "+a("body")},v.createElement("textarea",{value:this.state.body,onChange:this.onBodyChange,name:"body",cols:"30",rows:"6",className:"comment-form-comment",placeholder:r.Message.PLACEHOLDER_COMMENT,autoFocus:"true"}),v.createElement(h.ErrorNode,{message:o("body")})))),v.createElement("div",{className:"comment-form-submit"},v.createElement("button",{type:"submit"},r.Message.COMMENT_SUBMIT))),v.createElement("div",{className:"loading-spinner"}," "))}return null},componentDidMount:function(){this.mounted=!0,this.listen()},componentWillUnMount:function(){this.mounted=!1,this.dispose()},listen:function(){var e=this.replyStatus;null===e&&(e=u.ReplyStatus.factory(),this.replyStatus=e,this.props.independent||(e.on(u.ReplyStatus.OPEN,this.replyOpen),e.on(u.ReplyStatus.CLOSE,this.replyClose),e.on(u.ReplyStatus.COMPLETE,this.beforeReload)));var t=this.commentStatus;null===t&&(this.props.independent||(t=c.CommentStatus.factory(),this.commentStatus=t,t.on(c.CommentStatus.COMMENT_DELETE,this.beforeReload)))},beforeReload:function(){this.props.independent||this.dispose()},dispose:function(){this.setState({loading:"",open:!1});var e=this.comment;null!==e&&(e.off(p.Model.COMPLETE,this.done),e.off(p.Model.UNDEFINED_ERROR,this.fail),e.off(p.Model.RESPONSE_ERROR,this.fail));var t=this.replyStatus;null!==t&&(t.off(u.ReplyStatus.OPEN,this.replyOpen),t.off(u.ReplyStatus.CLOSE,this.replyClose),t.off(u.ReplyStatus.COMPLETE,this.beforeReload));var n=this.commentStatus;null!==n&&n.off(c.CommentStatus.COMMENT_DELETE,this.beforeReload)},checkId:function(e){return this.props.uniqueId===e.id},replyOpen:function(e){this.mounted&&!this.state.open&&this.checkId(e)&&this.setState({open:!0})},replyClose:function(e){this.mounted&&this.state.open&&this.checkId(e)&&this.setState({open:!1})},onBodyChange:function(e){this.setState({body:e.target.value})},onSubmit:function(e){e.preventDefault();var t=this.state.body;this.reset(),""===t?this.error(""+s.ErrorTxt.BODY_EMPTY):this.sending()},error:function(e){this.errors.body.message=e,this.setState({error:!0})},reset:function(){this.errors.body.reset(),this.setState({error:!1})},sending:function(){this.setState({loading:"loading"});var e=E.findDOMNode(this.refs.form),t=a.Form.element(e);this.replyStatus.start(this.props.uniqueId);var n=void 0;n=this.props.independent?new d.ModelComment(this.props.articleId,t):new f.ModelCommentReply(this.props.articleId,this.props.commentId,t),this.comment=n,n.on(p.Model.COMPLETE,this.done),n.on(p.Model.UNDEFINED_ERROR,this.fail),n.on(p.Model.RESPONSE_ERROR,this.fail),n.start()},done:function(){this.replyStatus.complete(this.props.uniqueId,this.props.commentType,this.props.articleId),this.setState({body:""}),this.props.independent?g.Ga.add(new y.GaData("SPCommentFormElementNode.done","comment","post",m.Loc.current,parseFloat(this.props.articleId))):g.Ga.add(new y.GaData("SPCommentFormElementNode.done","comment","post - reply",this.props.url,parseFloat(this.props.commentId))),this.dispose()},fail:function(){this.dispose()}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewComments=void 0;var s=n(61),r=i(s),a=n(70),o=i(a),l=n(2),u=i(l),c=n(3),d=i(c),f=n(75),p=i(f),h=n(76),m=i(h),g=n(84),y=n(67),v=n(100),E=n(282),_=n(41),k=(n(285),n(298)),S=n(457),b=n(458),T=self.React,P=self.ReactDOM;t.SPViewComments=function(e){function t(e,n,i){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];return(0,u["default"])(this,t),(0,p["default"])(this,(0,o["default"])(t).call(this,e,n,i,s))}return(0,m["default"])(t,e),(0,d["default"])(t,[{key:"all",value:function(e){this.reloadFlag=!1;var t=this.commentsList,n=this.commentsBank,i=this.element,s=this.action,a=this,o=function(e,t,n){e=!!e,P.render(T.createElement(k.CommentMoreViewNode,{show:e,rest:t,action:s}),n)},l=T.createClass({displayName:"CommentReplyChildDom",propType:{total:T.PropTypes.number.isRequired,sign:T.PropTypes.bool.isRequired,uniqueId:T.PropTypes.string.isRequired,userId:T.PropTypes.string.isRequired,icon:T.PropTypes.string.isRequired,articleId:T.PropTypes.string.isRequired,commentId:T.PropTypes.string.isRequired,commentsListType:T.PropTypes.object.isRequired,reply:T.PropTypes.object.isRequired},getInitialState:function(){return{reply:this.props.reply}},render:function(){if(0===this.props.total)return null;var e=this.state.reply,t=e.comments,n=this.props.commentsListType,i=this.props.userId,s=this.props.sign,r=this.props.articleId,a=this.props.uniqueId,o=this.props.icon,l=this.props.commentId;return T.createElement("ul",{className:"comment-list"},t.comments.map(function(e){return T.createElement("li",{key:a+"-"+e.id,className:"comment-item"},T.createElement(b.SPCommentNode,{uniqueId:a+"-"+e.id,commentDae:{comment:e},userId:i,icon:o,articleId:r,commentId:l,replyId:String(e.id),commentUserId:String(e.user.id),sign:s,parent:!1,commentsListType:n,url:e.url}))}))}}),u=T.createClass({displayName:"CommentsParentDom",propType:{commentObject:T.PropTypes.object.isRequired,uniqueId:T.PropTypes.string.isRequired,articleId:T.PropTypes.string.isRequired,commentsListType:T.PropTypes.string.isRequired,total:T.PropTypes.number.isRequired,index:T.PropTypes.number.isRequired,user:T.PropTypes.object},getDefaultProps:function(){return{user:{}}},render:function(){var e=this.props.commentObject,t=_.Safety.integer(e.reply.total,0),n=y.User.sign,i=void 0,s="",r=String(e.comment.id),a=this.props.articleId,o=this.props.commentsListType;if(n){var u=this.props.user;i=u.profilePicture,s=String(u.id),s||(s="")}return T.createElement("ul",{className:"comment-list"},T.createElement("li",{className:"comment-item"},T.createElement(b.SPCommentNode,{uniqueId:"comment-"+this.props.uniqueId,commentDae:e,icon:i,userId:s,articleId:a,commentId:r,commentUserId:String(e.comment.user.id),commentCount:e.reply.total,sign:n,parent:!0,commentsListType:o,url:e.comment.url}),T.createElement(l,{uniqueId:"reply-"+o+"-"+this.props.uniqueId,total:t,sign:n,userId:s,icon:i,
articleId:a,commentId:r,commentsListType:o,reply:e.reply})))}}),c=T.createClass({displayName:"CommentsDom",propType:{commentsList:T.PropTypes.array.isRequired,commentsListType:T.PropTypes.string.isRequired,articleId:T.PropTypes.string.isRequired,user:T.PropTypes.object},getDefaultProps:function(){return{user:null}},getInitialState:function(){return{commentsList:this.props.commentsList}},render:function(){var t=this.state.commentsList,i=this.props.articleId,s=this.props.commentsListType,a="0",o=(0,r["default"])({});return null!==this.props.user&&(a=_.Safety.integer(this.props.user.id,0),a=String(a),o=this.props.user),_.Safety.array(t)&&0!==t.length?T.createElement("div",{className:"comment-"+s},T.createElement("div",{className:"comment-heading"},T.createElement("h2",null,g.CommentsType.title(s))),t.map(function(t,r){var l=n[t],c=r+"-"+s+"-"+i+"-"+t+"-"+a;return T.createElement(u,{key:c,uniqueId:c,index:r,articleId:i,commentObject:l,commentsListType:s,total:e.total,user:o})}),T.createElement(S.SPCommentAdNode,{uniqueId:"ad-"+s,commentsListType:s}),T.createElement("div",{className:"comment-more",ref:"commentMore"})):null},componentDidMount:function(){a.executeSafely(v.View.DID_MOUNT),o(s.hasNext(),s.rest(),P.findDOMNode(this.refs.commentMore))},componentDidUpdate:function(){o(s.hasNext(),s.rest(),P.findDOMNode(this.refs.commentMore))},updateList:function(e){this.setState({commentsList:e})}}),d=this.user;null===d&&(d=(0,r["default"])({})),P.render(T.createElement(c,{commentsList:t,articleId:String(this.articleId),commentsListType:this.commentsListType,user:d}),i)}},{key:"onComplete",value:function(){this.reload()}},{key:"reload",value:function(){this.commentsList=[],this.reloadFlag=!0,this.action.reload()}}]),t}(E.ViewComments)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPCommentAdNode=void 0;var i=n(84),s=n(196),r=self.React,a=self.ReactDOM;t.SPCommentAdNode=r.createClass({displayName:"SPCommentAdNode",propTypes:{uniqueId:r.PropTypes.string.isRequired,commentsListType:r.PropTypes.string.isRequired},getInitialState:function(){return{need:this.props.commentsListType===i.CommentsType.OFFICIAL||this.props.commentsListType===i.CommentsType.NORMAL}},render:function(){return this.state.need?r.createElement("div",{id:this.props.uniqueId,className:"comment-ad comment-"+this.props.commentsListType+"-ad",ref:"comment_official_ad"}):null},componentDidMount:function(){if(this.state.need){var e=void 0;switch(this.props.commentsListType){case i.CommentsType.OFFICIAL:e=s.Ad.make(s.Ad.SP_OFFICIAL,this.props.uniqueId);break;case i.CommentsType.NORMAL:default:e=s.Ad.make(s.Ad.SP_NORMAL,this.props.uniqueId)}a.findDOMNode(this.refs.comment_official_ad).appendChild(e)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPCommentNode=void 0;var i=n(104),s=n(41),r=n(169),a=n(289),o=n(296),l=n(297),u=n(454),c=self.React;t.SPCommentNode=c.createClass({displayName:"SPCommentNode",propTypes:{uniqueId:c.PropTypes.string.isRequired,commentDae:c.PropTypes.object.isRequired,userId:c.PropTypes.string,icon:c.PropTypes.string,articleId:c.PropTypes.string.isRequired,commentId:c.PropTypes.string,replyId:c.PropTypes.string,commentUserId:c.PropTypes.string.isRequired,commentCount:c.PropTypes.number,sign:c.PropTypes.bool.isRequired,parent:c.PropTypes.bool,independent:c.PropTypes.bool,open:c.PropTypes.bool,commentsListType:c.PropTypes.string.isRequired,url:c.PropTypes.string.isRequired},getDefaultProps:function(){return{icon:"",userId:"",commentId:"",replyId:"",commentCount:0,parent:!1,independent:!1,open:!1}},getInitialState:function(){return this.replyStatus=null,{open:this.props.open,loading:""}},render:function(){var e=this.props.commentDae,t=e.comment,n=this.props.sign,d=s.Safety.image(t.user.profilePicture,i.Empty.USER_EMPTY),f=s.Safety.same(d,i.Empty.USER_EMPTY),p=function(e){return""===e?"":" comment-content-reply-"+e};return c.createElement("div",{className:"comment-item-inner comment-root"},c.createElement(a.CommentMenuNode,{key:this.props.uniqueId+"-menu",uniqueId:this.props.uniqueId+"-menu",sign:n,userId:this.props.userId,commentUserId:this.props.commentUserId,articleId:this.props.articleId,commentId:this.props.commentId,replyId:this.props.replyId,parent:this.props.parent,url:this.props.url}),c.createElement(o.CommentUserNode,{loggedIn:f,picture:d,userName:t.user.userName,bio:t.user.bio||"",displayDate:t.displayDate}),c.createElement(l.CommentContentNode,{content:t.body,commentId:this.props.commentId,replyClass:p(this.props.replyId)}),c.createElement(r.ReactionNode,{uniqueId:this.props.uniqueId,articleId:this.props.articleId,commentId:this.props.parent?this.props.commentId:this.props.replyId,sign:n,good:t.good,bad:t.bad,isGood:t.isGood,isBad:t.isBad,url:this.props.url}),c.createElement(u.SPCommentFormNode,{uniqueId:this.props.uniqueId+"-form",icon:this.props.icon,articleId:this.props.articleId,commentId:this.props.commentId,commentCount:this.props.commentCount,sign:n,parent:this.props.parent,independent:this.props.independent,commentType:this.props.commentsListType,url:this.props.url}))}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentSinglesAdBelow=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(75),u=i(l),c=n(3),d=i(c),f=n(76),p=i(f),h=self.React;t.SPComponentSinglesAdBelow=function(e){function t(e){(0,o["default"])(this,t);var n=(0,u["default"])(this,(0,r["default"])(t).call(this,e));return n.state={ad:e.ad,index:e.index},n.scriptSrc="https://ssl.socdm.com/sdk/js/adg-script-loader.js?id=__AD_ID__&targetID=__TARGET_ID__&displayid=3&adType=PC&width=300&height=250&sdkType=3&async=true&tagver=2.0.0",n.element=null,n.id="adg_"+e.ad.sp+"_"+e.index,n}return(0,p["default"])(t,e),(0,d["default"])(t,null,[{key:"propTypes",get:function(){return{ad:h.PropTypes.object.isRequired,index:h.PropTypes.number.isRequired}}}]),(0,d["default"])(t,[{key:"componentDidMount",value:function(){null!==this.element&&this.insertScript()}},{key:"insertScript",value:function(){var e=this.state.ad.sp,t=document.createElement("div"),n=document.createElement("script");n.src=this.scriptSrc.split("__AD_ID__").join(e).split("__TARGET_ID__").join(this.id),t.appendChild(n),this.element.appendChild(t)}},{key:"render",value:function(){var e=this,t=this.state.ad.sp;return t?h.createElement("div",{className:"sponsor-link_commentLower",ref:function(t){e.element=t}}):null}}]),t}(h.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewContinueRead=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(461),g=self.Sagen,y=self.ReactDOM;t.SPViewContinueRead=function(e){function t(e,n){(0,o["default"])(this,t);var i=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return i._button=n,i}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"start",value:function(){this.render()}},{key:"render",value:function(){y.render(React.createElement(m.SPComponentContinueRead,{dom:new g.Dom(this.element)}),this._button)}}]),t}(h.View)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPComponentContinueRead=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(107),m=self.React;t.SPComponentContinueRead=function(e){function t(e){(0,o["default"])(this,t);var n=(0,d["default"])(this,(0,r["default"])(t).call(this,e));return n.state={show:!1},n.boundClick=n.clickHandler.bind(n),n}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"componentDidMount",value:function(){var e=this.props.dom,t=parseInt(e.style("height"),10);t>260?(e.removeClass("hidden"),this.setState({show:!0})):(e.removeClass("hidden"),e.removeClass("excerpt"))}},{key:"clickHandler",value:function(e){e.preventDefault(),this.props.dom.removeClass("excerpt"),this.setState({show:!1})}},{key:"render",value:function(){return this.state.show?m.createElement("a",{className:"post-content-btn-readMore",href:"#",onClick:this.boundClick},h.Message.READ_MORE):null}}],[{key:"propTypes",get:function(){return{dom:m.PropTypes.object.isRequired}}}]),t}(m.Component)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewSingleRanking=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(337),m=n(100),g=n(106),y=n(107),v=n(41),E=n(463),_=self.ReactDOM;t.SPViewSingleRanking=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?"all":arguments[2],s=arguments.length<=3||void 0===arguments[3]?g.Length.spRanking:arguments[3];return(0,o["default"])(this,t),s=v.Safety.integer(s,g.Length.ranking),(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,i,s))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){this.executeSafely(m.View.BEFORE_RENDER,e,this.slug),_.render(React.createElement(E.SPRankingNode,{list:e,home:this.home,detail:this.detail,slug:this.slug,title:y.Message.RANKING_TITLE,scope:this}),this.element)}}]),t}(h.ViewRanking)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SPRankingNode=void 0;var i=n(104),s=n(154),r=n(41),a=n(100),o=n(342),l=self.React;t.SPRankingNode=l.createClass({displayName:"SPRankingNode",propTypes:{list:l.PropTypes.array.isRequired,home:l.PropTypes.bool.isRequired,detail:l.PropTypes.bool.isRequired,slug:l.PropTypes.string.isRequired,title:l.PropTypes.string.isRequired,scope:l.PropTypes.object.isRequired,aa:l.PropTypes.string},render:function(){var e=this.props.list,t=this.props.home,n=this.props.detail,a=this.props.slug;return l.createElement("div",{className:"widget-ranking"},l.createElement("div",{className:"mod-headingA01"},l.createElement("h2",null,this.props.title)),l.createElement("ul",{className:"board"},e.map(function(e,u){var c=new s.ArticleDae(e),d=r.Safety.image(c.media.images.thumbnail,i.Empty.IMG_SMALL),f=d===i.Empty.IMG_SMALL;return l.createElement(o.RankingNode,{key:"ranking-"+c.id,index:u,id:String(c.id),slug:c.categories.slug,categories:c.categories.all,url:c.url,date:c.displayDate,title:c.title,thumbnail:d,empty:f,total:c.commentsCount,home:t,detail:n,thisSlug:a,categorySlug:a})})))},componentDidMount:function(){this.props.scope.executeSafely.call(this,a.View.DID_MOUNT)}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewSingleRecommend=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(345),m=n(100),g=n(106),y=n(107),v=n(41),E=n(463),_=self.ReactDOM;t.SPViewSingleRecommend=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?"all":arguments[2],s=arguments.length<=3||void 0===arguments[3]?g.Length.spRanking:arguments[3];return(0,o["default"])(this,t),s=v.Safety.integer(s,g.Length.ranking),(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,i,s))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){this.executeSafely(m.View.BEFORE_RENDER,e,this.slug),_.render(React.createElement(E.SPRankingNode,{list:e,home:this.home,detail:this.detail,slug:this.slug,title:y.Message.RECOMMEND_TITLE,scope:this}),this.element)}}]),t}(h.ViewRecommend)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewUserProfile=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(381),g=n(104),y=n(41),v=n(120),E=self.React,_=self.ReactDOM;t.SPViewUserProfile=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e,n))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){var t=new v.UserDae(e),n=this,i=E.createClass({displayName:"SPUserProfileDom",propTypes:{dae:E.PropTypes.object.isRequired},render:function(){var e=this.props.dae,t=y.Safety.image(e.profilePicture,g.Empty.USER_EMPTY),n=y.Safety.same(t,g.Empty.USER_EMPTY);return E.createElement("div",{className:"user-profile"},E.createElement("figure",{className:"user-profile-avatar "+n},E.createElement("img",{src:g.Empty.refresh(t),alt:e.userName})),E.createElement("div",{className:"user-profile-data"},E.createElement("p",{className:"user-profile-name"},e.userName)))},componentDidMount:function(){n.executeSafely(h.View.DID_MOUNT)}});_.render(E.createElement(i,{dae:t}),this.element)}}]),t}(m.ViewUserProfile)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SPViewBookmarks=void 0;var s=n(70),r=i(s),a=n(2),o=i(a),l=n(3),u=i(l),c=n(75),d=i(c),f=n(76),p=i(f),h=n(100),m=n(382),g=n(104),y=n(41),v=n(154),E=n(384),_=n(385),k=n(178),S=self.React,b=self.ReactDOM;t.SPViewBookmarks=function(e){function t(e,n){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return(0,o["default"])(this,t),(0,d["default"])(this,(0,r["default"])(t).call(this,e,n,i))}return(0,p["default"])(t,e),(0,u["default"])(t,[{key:"render",value:function(e){var t=this,n=this.articles,i=this.articles.length,s=this.element,r=this.moreElement,a=function(e,n){e=!!e,null===t.moreRendered?t.moreRendered=b.render(S.createElement(_.MoreViewNode,{show:e,action:n}),r):t.moreRendered.updateShow(e)},o=S.createClass({displayName:"BookmarksDom",propType:{list:S.PropTypes.array.isRequired,offset:S.PropTypes.number.isRequired,length:S.PropTypes.number.isRequired,action:S.PropTypes.object.isRequired},getInitialState:function(){return{list:this.props.list,offset:this.props.offset,length:this.props.length}},render:function(){return S.createElement("div",{className:"bookmarks"},S.createElement("ul",{className:"board"},this.state.list.map(function(e,t){var n=y.Safety.image(e.media.images.thumbnail,g.Empty.IMG_SMALL);return S.createElement("li",{key:"bookmarks-"+e.id,className:"board-stacks board-item"},S.createElement("a",{href:e.url,className:"post"},S.createElement("figure",{className:"post-thumb"},S.createElement("img",{src:n,alt:e.title})),S.createElement("div",{className:"post-data"},S.createElement("p",{className:"post-category"},S.createElement(k.CategoryLabelNode,{categories:e.categories.all,id:"bookmarks-label-"+e.id,index:t})),S.createElement("h2",{className:"post-heading"},e.title),S.createElement("p",{className:"post-date"},e.displayDate))),S.createElement(E.BookmarkButtonNode,{articleId:e.id,bookmarked:e.isBookmarked}))})))},componentDidMount:function(){a(this.props.action.hasNext(),this.props.action)},componentWillUnMount:function(){},updateList:function(e,t,n){this.setState({list:e,offset:t,length:n}),a(this.props.action.hasNext(),this.props.action)}});e.forEach(function(e,t){var s=new v.ArticleDae(e);s.index=i+t,n.push(s)}),this.executeSafely(h.View.BEFORE_RENDER,n),null===this.articleRendered?this.articleRendered=b.render(S.createElement(o,{list:n,offset:this.request.offset,length:this._request.length,action:this.action}),s):this.articleRendered.updateList(n,this.request.offset,this.request.length)}}]),t}(m.ViewBookmarks)}]);