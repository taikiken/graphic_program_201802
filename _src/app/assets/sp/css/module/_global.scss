@import "../../../../../scss_sp/asset";

// sprite 不要の時はコメントに
/*
  sprite
* *********************************** */
@import "../sprite";

// Global
//
// design module global
//
// Styleguide 2.2.0


//  1. global layout base
//  2. global header
//  3. global navigation
//  4. global footer


// 1. global layout base
// ----------------------------------------------------------------------------------------------------------------------------------------
html, body {
  width: 100%;
  height: 100%;
}

input,
textarea,
select,
button {
  outline: none;
}

fieldset {
  input,
  textarea {
    color: #333;
  }
}

input::-webkit-input-placeholder {
  font-size: fz(24/2);
}

.whole {
  overflow-x: hidden;

  img {
    @include fluid-img(100%);

    &.responsive {
      display: none;
    }
  }

  input {
    font-size: 16px;
  }
}

a {
  @include link-decoration($highlight-color, $highlight-color, none, none);
}

img {
  touch-callout: none;
  user-select: none;
  -webkit-touch-callout: none;
  -webkit-user-select:none;
  -moz-touch-callout: none;
  -moz-user-select:none;
}

// 諸々 override するために最下部へ移動します - 2017-09-11
//.undotsushin-ios,
//.undotsushin-android {
//  .head-sec,
//  .foot-sec {
//    display: none !important;
//  }
//}



// 2. global header
// ----------------------------------------------------------------------------------------------------------------------------------------

// アプリダウンロードバナー

%header-appbnr {
  // default 非表示
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 1000px;
  background: $highlight-color url(/assets/sp/images/common/header-app-bnr-bg.png) center (200/2)+px no-repeat;
  background-size: (112/2)+px;
  text-align: center;

  // .header-appbnr-link
  .header-appbnr-link {
    width: 100%;
    height: (170/2)+px;
    padding-top: ((170-140)/2/2)+px;
    background-color: #fff;

    > div {
      margin: 0 auto;
      // width: (540/2)+px;
    }
  }

  // .header-appbnr-btn-close
  .header-appbnr-btn-close {
    position: absolute;
    top: (60/2)+px;
    right: 0;

    @extend .sp-sprite-common;
    @include sprite( $common-btn-notice-close-app-bnr );
    @include hide-text;
  }
} // %header-appbnr



// アプリダウンロードバナー 表示
// bodyに .appbnr-enable
%appbnr-enable {
  // body.appbnr-enable > .header-appbnr で表示
  .header-appbnr {
    display: block;
  }

  // ------------------------------------
  // [fixed -> relative / static]
  // バナー高さ分表示の間は relative
  .header-sticky {
    position: relative;
    top: (170/2)+px;
    //left: auto;
  }
  // -----------[/end]-------------------------

  .body-sec {
    margin-top: (170/2)+px !important;

    &.category {
      margin-top: 85px + 40px !important;
    }
  }

  // ------------------------------------
  // banner は表示されているけれど下に隠れている状態
  &.appbnr-invisible {
    .header-sticky {
      position: fixed;
      top: 0;
    }

    .body-sec {
      margin-top: 100px + 85px  !important;
    }
    .body-sec.category {
      margin-top: 100px + 85px + 40px !important;
    }
  }
} // %appbnr-enable



// 検索ボックスが表示された状態
// bodyに .search-form-open
%search-form-open {
  // input:text focus でピョコンとなるバグ対策
  // scroll できなくなるので不採用
  //position: fixed;
  //width: 100%;

  .body-sec {
    margin-top: 160px;

    &.category {
      margin-top: 200px;
    }
  }

  .lnav.fixed-top {
    top: 160px;
  }

  // ------------------------------------
  // banner 表示
  &.appbnr-enable {
    .body-sec {
      margin-top: 160px - 75px;

      &.category {
        margin-top: 200px - 75px;
      }
    }
  }

  // -------------------------------------
  // banner 非表示
  &.appbnr-invisible {
    .body-sec {
      margin-top: 160px + 85px;

      &.category {
        margin-top: 200px + 85px;
      }
    }
  }
} // %search-form-open



// header を fixed にする
%header-sticky {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 100;
  background-color: #fff;

  + .body-sec {
    margin-top: 100px;
  }
}



// .head-sec
%head-sec {
  .head-sec-inner {
    @include clearfix;
    position: relative;
    height: (100/2)+px;

    h1 {
      position: absolute;
      top: (36/2)+px;
      left: 50%;
      margin-left: -(132/2)+px;

      a {
        @extend .sp-sprite-header;
        @include sprite( $header-logo );
        @include hide-text;
      }
    }
  }



  .head-search-opener {
    float: left;
    line-height: 0;
    margin: (20/2)+px (20/2)+px 0 0;
    @extend .sp-sprite-header;
    @include sprite( $header-icon-search, inline-block );
    @include hide-text;
  }



  .menu-opener {
    position: absolute;
    width: (100/2)+px;
    height: (100/2)+px;

    #side-menu-toggle {
      display: block;
      width: 100%;
      height: 100%;

      span {
        position: absolute;
        left: (30/2)+px;
        display: block;
        width: (46/2)+px;
        height: (6/2)+px;
        line-height: 0;
        background-color: $highlight-color;
        font-size: 0;

        &:nth-child(1) {
          top: (34/2)+px;
        }

        &:nth-child(2) {
          top: (48/2)+px;
        }

        &:nth-child(3) {
          top: (62/2)+px;
        }
      }

      &.has-notification {
        &:after {
          content: '';
          position: absolute;
          top: (20/2)+px;
          left: (60/2)+px;
          width: (24/2)+px;
          height: (24/2)+px;
          border: 2px solid #fff;
          border-radius: 100%;
          background-color: $highlight-secondary-color;
        }
      }
    }
  }


  #user-profile-container {
    float: left;

    .user {
      float: left;
      margin: (20/2)+px (26/2)+px 0 0;

      // notice
      .notice-container {
        float: left;
      }

      // notice
      .notice-menu {
        display: block;
      }
      // 非表示
      .close {
        .notice-menu {
          overflow: hidden;
          height: 0;
          width: 0;
        }
      }
      // 表示
      .open {
        .notice-menu {
          overflow: visible;
          width: 360px;
          height: auto;
        }
      }

      // setting
      .preference-menu {
        display: block;
      }
      .dropMenu {
        opacity: 0;

        transition-property: opacity;
        transition-duration: 0.3s;
        transition-timing-function: linear;
      }

      // 非表示
      .close {
        .preference-menu {
          overflow: hidden;
          height: 0;
          width: 0;

          transition-property: width, height;
          transition-duration: 0.001s;
          transition-delay: 0.05s;
        }
      }

      // 表示
      .open {
        .preference-menu {
          overflow: visible;
          width: 160px;
          height: 162px;
        }
      }

      // ----------------------------------------------
      // motion
      .close {
        .dropMenu {
          opacity: 0;
          transition-duration: 0.05s;
        }
      }
      .open {
        .dropMenu {
          opacity: 1;
        }
      }
    }
  }



  .preference {
    position: relative;
    // float: left;
    // margin-left: 15px;

    &-opener {
      position: relative;
      display: block;
      width: (60/2)+px;
      height: (60/2)+px;
      overflow: hidden;
      border-radius: 100%;
      background: url(/assets/images/common/thumb-user-info.png) 0 0 no-repeat;
      background-size: (60/2)+px;
    }

    &-avatar {
      display: block;

      img {
        width: (60/2)+px;
        height: (60/2)+px;
        border-radius: 100%;
      }

      &.user-logged-in {
        background-color: #fff;
      }
    }

    &-num {
      position: absolute;
      top: -5px;
      right: -5px;
      display: block;
      width: (40/2)+px;
      height: (40/2)+px;
      padding-top: 6px;
      line-height: 1;
      background-color: $highlight-secondary-color;
      border-radius: 100%;
      color: #fff;
      font-weight: bold;
      font-size: fz(20/2);
      text-align: center;
    }
  } //.user
} //.head-sec



// .head-search
%head-search {
  display: none;
  position: relative;
  height: (120/2)+px;
  padding: (30/2)+px perCalc(20);
  background-color: #000;

  &.enable {
    display: block;
  }

  &:before {
    content: '';
    position: absolute;
    top: -(10/2)+px;
    right: (124/2)+px;
    @extend .sp-sprite-header;
    @include sprite( $header-icon-search-arrow );
    @include hide-text;
  }

  input {
    border: none;
    background: transparent;
    outline: none;
  }

  input[type="text"] {
    float: left;
    width: perCalc(460, 600);
    height: (60/2)+px;
    line-height: (60/2)+px;
    padding: 0 (16/2)+px;
    background-color: #fff;
    border-radius: 4px;
  }

  input[type="submit"] {
    float: right;
    width: perCalc(120, 600);
    height: (60/2)+px;
    line-height: (60/2)+px;
    background-color: $highlight-color;
    border-radius: 4px;
    color: #fff;
    font-weight: bold;
    font-size: fz(20/2);
    text-align: center;
  }
}



// 3. global navigation
// ----------------------------------------------------------------------------------------------------------------------------------------

%gnav-sec {
  width: 100%;
  height: (100/2)+px;
  overflow: hidden;
  background-color: #111;

  .gnav-sec-inner {
    // width: 100%;
    // height: (110/2)+px;
    // overflow-x: auto;
    // -webkit-overflow-scrolling: touch;
  }

  ul {
    // display: table;
    width: 100%;
    height: (110/2)+px;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  li {
    display: table-cell;
    padding: 10px 4px;
    text-align: center;
    vertical-align: middle;
  }

  a {
    display: block;
    height: 30px;
    line-height: 30px;
    padding: 0 12px;
    @include link-decoration(#999, #999, none, none);
    font-weight: bold;
    font-size: fz(24/2);
    white-space: nowrap;
  }

  .current {
    a {
      border-radius: 15px;
      background-color: $highlight-secondary-color;
      color: #fff;
    }
  }
}



// 4. global footer
// ----------------------------------------------------------------------------------------------------------------------------------------

%foot-sec {
  position: relative;
  padding-bottom: (204/2)+px;
  background: #030b1a url(/assets/sp/images/common/footer-bg.png) center bottom no-repeat;
  background-size: (332/2)+px;

  .foot-breadCrumb {
    width: 100%;
    height: (80/2)+px;
    overflow: hidden;

    ol {
      list-style: none;
      width: 100%;
      height: (80/2)+px;
      padding-left: perCalc(20);
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    li {
      display: table-cell;
      height: (80/2)+px;
      vertical-align: middle;

      a {
        display: inline-block;
        @include link-decoration(#666, #666, none, none);
        font-size: fz(20/2);
        white-space: nowrap;

        &:after {
          content: '';
          @extend .sp-sprite-common;
          @include sprite( $common-breadcrumb-arrow );
          display: inline-block;
          margin-right: (20/2)+px;
          margin-left: (20/2)+px;
          font-size: 0;
          vertical-align: middle;
        }
      }
    }

    li:first-child a {

      &:before {
        content: '';
        position: relative;
        top: -1px;
        @extend .sp-sprite-common;
        @include sprite( $common-breadcrumb-home );
        display: inline-block;
        margin-right: (10/2)+px;
        font-size: 0;
        vertical-align: middle;
      }
    }

    li:last-child a {
      color: #fff;

      &:after {
        display: none;
      }
    }
  }

  .foot-pr {
    &-inner {
      display: table;
      padding: (30/2)+px perCalc(30);
    }

    &-logo {
      display: table-cell;
      width: perCalc(150, 580);
      padding-right: (28/2)+px;
      vertical-align: middle;
    }

    .text-block {
      display: table-cell;
      vertical-align: middle;
    }

    &-heading {
      margin-top: .25em;
      color: #fff;
      font-weight: bold;
      font-size: fz(24/2);
    }

    &-list {
      @include clearfix;
      margin-top: (20/2)+px;
    }

    &-item {
      float: left;
      width: perCalc(206, 430);

      + li {
        float: right;
      }
    }

    .fb-page-plugin {
      margin-top: (20/2)+px;
      padding-right: perCalc(20);
      padding-left: perCalc(20);

      text-align: center;
    }

    .fb-page {
      width: 100% !important;
    }
  } // foot-pr

  .pagetop {
    margin-top: (20/2)+px;
    border-bottom: 2px solid #030b1a;
    background-color: #061533;

    a {
      display: block;
      padding: (36/2)+px 0;
    }

    span {
      @extend .sp-sprite-footer;
      @include sprite( $footer-pagetop );
      @include hide-text;
      margin: 0 auto;
    }
  } // pagetop

  .fnav {
    ul {
      @include clearfix;

      li {
        float: left;
        width: 50%;
        margin-bottom: (4/2)+px;

        &:nth-child(2n) {
          border-left: 2px solid #030b1a;
        }
      }

      a {
        @include link-decoration(#fff, #fff, none, underline);
        position: relative;
        display: block;
        padding: (40/2)+px (20/2)+px;
        background-color: #061533;
        font-weight: bold;
        font-size: fz(20/2);

        &:before {
          content: '';
          @extend .sp-sprite-footer;
          @include sprite( $footer-icon-arrow, inline-block );
          @include hide-text;
          position: relative;
          top: 2px;
          margin-right: (20/2)+px;
        }
      }
    }
  } // fnav

  .sns-block {
    margin-top: (50/2)+px;

    ul {
      text-align: center;
      letter-spacing: ls(inline-block);

      li {
        display: inline-block;
        vertical-align: middle;
        letter-spacing: normal;

        + li {
          margin-left: (24/2)+px;
        }
      }

      a {
        @extend .sp-sprite-footer;
        @include hide-text;
      }

      .sns-tw a {
        @include sprite( $footer-icon-sns-tw );
      }

      .sns-fb a {
        @include sprite( $footer-icon-sns-fb );
      }

      .sns-yt a {
        @include sprite( $footer-icon-sns-yt );
      }

    }
  } //.sns-block

  .copyright {
    padding-top: (30/2)+px;
    color: #666;
    font-weight: bold;
    font-size: fz(16/2);
    text-align: center;
  } //.copyright
} //.foot-sec


// webview hide head, foot, app-banner
// @since 2017-09-11 .header-appbnr-link 追加
.undotsushin-ios,
.undotsushin-android {
  .header-sticky + .body-sec {
    margin-top: 50px;
  }
  //.header-appbnr-link,
  .head-sec,
  .foot-sec {
    display: none !important;
  }
}
